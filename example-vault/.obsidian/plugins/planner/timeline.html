<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="/favicon.ico" />
    <meta
      name="viewport"
      content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, initial-scale=1.0, user-scalable=no"
    />
    <title>Markwhen Timeline</title>
    <script type="module" crossorigin>
var E1=Object.defineProperty;var Ad=t=>{throw TypeError(t)};var S1=(t,e,n)=>e in t?E1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var U=(t,e,n)=>S1(t,typeof e!="symbol"?e+"":e,n),hu=(t,e,n)=>e.has(t)||Ad("Cannot "+n);var E=(t,e,n)=>(hu(t,e,"read from private field"),n?n.call(t):e.get(t)),Pe=(t,e,n)=>e.has(t)?Ad("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),we=(t,e,n,s)=>(hu(t,e,"write to private field"),s?s.call(t,n):e.set(t,n),n),me=(t,e,n)=>(hu(t,e,"access private method"),n);var al=(t,e,n,s)=>({set _(i){we(t,e,i,n)},get _(){return E(t,e,s)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ih(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const it={},eo=[],Fs=()=>{},k1=()=>!1,Ec=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),rh=t=>t.startsWith("onUpdate:"),$t=Object.assign,oh=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},_1=Object.prototype.hasOwnProperty,Je=(t,e)=>_1.call(t,e),_e=Array.isArray,to=t=>Sc(t)==="[object Map]",Ay=t=>Sc(t)==="[object Set]",Ae=t=>typeof t=="function",Dt=t=>typeof t=="string",Gi=t=>typeof t=="symbol",dt=t=>t!==null&&typeof t=="object",Ny=t=>(dt(t)||Ae(t))&&Ae(t.then)&&Ae(t.catch),Ly=Object.prototype.toString,Sc=t=>Ly.call(t),D1=t=>Sc(t).slice(8,-1),Ry=t=>Sc(t)==="[object Object]",ah=t=>Dt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ra=ih(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),kc=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},O1=/-(\w)/g,Hi=kc(t=>t.replace(O1,(e,n)=>n?n.toUpperCase():"")),I1=/\B([A-Z])/g,Mr=kc(t=>t.replace(I1,"-$1").toLowerCase()),Py=kc(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ll=kc(t=>t?`on${Py(t)}`:""),Bi=(t,e)=>!Object.is(t,e),du=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},$y=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},M1=t=>{const e=parseFloat(t);return isNaN(e)?t:e},x1=t=>{const e=Dt(t)?Number(t):NaN;return isNaN(e)?t:e};let Nd;const Yy=()=>Nd||(Nd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function tt(t){if(_e(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=Dt(s)?L1(s):tt(s);if(i)for(const r in i)e[r]=i[r]}return e}else if(Dt(t)||dt(t))return t}const C1=/;(?![^(]*\))/g,A1=/:([^]+)/,N1=/\/\*[^]*?\*\//g;function L1(t){const e={};return t.replace(N1,"").split(C1).forEach(n=>{if(n){const s=n.split(A1);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function jt(t){let e="";if(Dt(t))e=t;else if(_e(t))for(let n=0;n<t.length;n++){const s=jt(t[n]);s&&(e+=s+" ")}else if(dt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const R1="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",P1=ih(R1);function Fy(t){return!!t||t===""}const Uy=t=>!!(t&&t.__v_isRef===!0),Vt=t=>Dt(t)?t:t==null?"":_e(t)||dt(t)&&(t.toString===Ly||!Ae(t.toString))?Uy(t)?Vt(t.value):JSON.stringify(t,zy,2):String(t),zy=(t,e)=>Uy(e)?zy(t,e.value):to(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i],r)=>(n[mu(s,r)+" =>"]=i,n),{})}:Ay(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>mu(n))}:Gi(e)?mu(e):dt(e)&&!_e(e)&&!Ry(e)?String(e):e,mu=(t,e="")=>{var n;return Gi(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Sn;class Hy{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Sn,!e&&Sn&&(this.index=(Sn.scopes||(Sn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Sn;try{return Sn=this,e()}finally{Sn=n}}}on(){Sn=this}off(){Sn=this.parent}stop(e){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function By(t){return new Hy(t)}function lh(){return Sn}function Wy(t,e=!1){Sn&&Sn.cleanups.push(t)}let at;const pu=new WeakSet;class jy{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Sn&&Sn.active&&Sn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pu.has(this)&&(pu.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||qy(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ld(this),Ky(this);const e=at,n=Ss;at=this,Ss=!0;try{return this.fn()}finally{Gy(this),at=e,Ss=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)fh(e);this.deps=this.depsTail=void 0,Ld(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pu.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){tf(this)&&this.run()}get dirty(){return tf(this)}}let Vy=0,Gr;function qy(t){t.flags|=8,t.next=Gr,Gr=t}function ch(){Vy++}function uh(){if(--Vy>0)return;let t;for(;Gr;){let e=Gr,n;for(;e;)e.flags&1||(e.flags&=-9),e=e.next;for(e=Gr,Gr=void 0;e;){if(n=e.next,e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function Ky(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Gy(t){let e,n=t.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),fh(s),$1(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}t.deps=e,t.depsTail=n}function tf(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Zy(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Zy(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===va))return;t.globalVersion=va;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!tf(t)){t.flags&=-3;return}const n=at,s=Ss;at=t,Ss=!0;try{Ky(t);const i=t.fn(t._value);(e.version===0||Bi(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{at=n,Ss=s,Gy(t),t.flags&=-3}}function fh(t,e=!1){const{dep:n,prevSub:s,nextSub:i}=t;if(s&&(s.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s),!n.subs&&n.computed){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)fh(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function $1(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Ss=!0;const Xy=[];function Zi(){Xy.push(Ss),Ss=!1}function Xi(){const t=Xy.pop();Ss=t===void 0?!0:t}function Ld(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=at;at=void 0;try{e()}finally{at=n}}}let va=0;class Y1{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class hh{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.target=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!at||!Ss||at===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==at)n=this.activeLink=new Y1(at,this),at.deps?(n.prevDep=at.depsTail,at.depsTail.nextDep=n,at.depsTail=n):at.deps=at.depsTail=n,Jy(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=at.depsTail,n.nextDep=void 0,at.depsTail.nextDep=n,at.depsTail=n,at.deps===n&&(at.deps=s)}return n}trigger(e){this.version++,va++,this.notify(e)}notify(e){ch();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{uh()}}}function Jy(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)Jy(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Kl=new WeakMap,vr=Symbol(""),nf=Symbol(""),wa=Symbol("");function pn(t,e,n){if(Ss&&at){let s=Kl.get(t);s||Kl.set(t,s=new Map);let i=s.get(n);i||(s.set(n,i=new hh),i.target=t,i.map=s,i.key=n),i.track()}}function ti(t,e,n,s,i,r){const o=Kl.get(t);if(!o){va++;return}const a=l=>{l&&l.trigger()};if(ch(),e==="clear")o.forEach(a);else{const l=_e(t),c=l&&ah(n);if(l&&n==="length"){const u=Number(s);o.forEach((f,h)=>{(h==="length"||h===wa||!Gi(h)&&h>=u)&&a(f)})}else switch(n!==void 0&&a(o.get(n)),c&&a(o.get(wa)),e){case"add":l?c&&a(o.get("length")):(a(o.get(vr)),to(t)&&a(o.get(nf)));break;case"delete":l||(a(o.get(vr)),to(t)&&a(o.get(nf)));break;case"set":to(t)&&a(o.get(vr));break}}uh()}function F1(t,e){const n=Kl.get(t);return n&&n.get(e)}function Yr(t){const e=We(t);return e===t?e:(pn(e,"iterate",wa),ss(t)?e:e.map(un))}function _c(t){return pn(t=We(t),"iterate",wa),t}const U1={__proto__:null,[Symbol.iterator](){return yu(this,Symbol.iterator,un)},concat(...t){return Yr(this).concat(...t.map(e=>_e(e)?Yr(e):e))},entries(){return yu(this,"entries",t=>(t[1]=un(t[1]),t))},every(t,e){return Ws(this,"every",t,e,void 0,arguments)},filter(t,e){return Ws(this,"filter",t,e,n=>n.map(un),arguments)},find(t,e){return Ws(this,"find",t,e,un,arguments)},findIndex(t,e){return Ws(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Ws(this,"findLast",t,e,un,arguments)},findLastIndex(t,e){return Ws(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Ws(this,"forEach",t,e,void 0,arguments)},includes(...t){return gu(this,"includes",t)},indexOf(...t){return gu(this,"indexOf",t)},join(t){return Yr(this).join(t)},lastIndexOf(...t){return gu(this,"lastIndexOf",t)},map(t,e){return Ws(this,"map",t,e,void 0,arguments)},pop(){return Wo(this,"pop")},push(...t){return Wo(this,"push",t)},reduce(t,...e){return Rd(this,"reduce",t,e)},reduceRight(t,...e){return Rd(this,"reduceRight",t,e)},shift(){return Wo(this,"shift")},some(t,e){return Ws(this,"some",t,e,void 0,arguments)},splice(...t){return Wo(this,"splice",t)},toReversed(){return Yr(this).toReversed()},toSorted(t){return Yr(this).toSorted(t)},toSpliced(...t){return Yr(this).toSpliced(...t)},unshift(...t){return Wo(this,"unshift",t)},values(){return yu(this,"values",un)}};function yu(t,e,n){const s=_c(t),i=s[e]();return s!==t&&!ss(t)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=n(r.value)),r}),i}const z1=Array.prototype;function Ws(t,e,n,s,i,r){const o=_c(t),a=o!==t&&!ss(t),l=o[e];if(l!==z1[e]){const f=l.apply(t,r);return a?un(f):f}let c=n;o!==t&&(a?c=function(f,h){return n.call(this,un(f),h,t)}:n.length>2&&(c=function(f,h){return n.call(this,f,h,t)}));const u=l.call(o,c,s);return a&&i?i(u):u}function Rd(t,e,n,s){const i=_c(t);let r=n;return i!==t&&(ss(t)?n.length>3&&(r=function(o,a,l){return n.call(this,o,a,l,t)}):r=function(o,a,l){return n.call(this,o,un(a),l,t)}),i[e](r,...s)}function gu(t,e,n){const s=We(t);pn(s,"iterate",wa);const i=s[e](...n);return(i===-1||i===!1)&&yh(n[0])?(n[0]=We(n[0]),s[e](...n)):i}function Wo(t,e,n=[]){Zi(),ch();const s=We(t)[e].apply(t,n);return uh(),Xi(),s}const H1=ih("__proto__,__v_isRef,__isVue"),Qy=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Gi));function B1(t){Gi(t)||(t=String(t));const e=We(this);return pn(e,"has",t),e.hasOwnProperty(t)}class eg{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?nb:ig:r?sg:ng).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=_e(e);if(!i){let l;if(o&&(l=U1[n]))return l;if(n==="hasOwnProperty")return B1}const a=Reflect.get(e,n,Et(e)?e:s);return(Gi(n)?Qy.has(n):H1(n))||(i||pn(e,"get",n),r)?a:Et(a)?o&&ah(n)?a:a.value:dt(a)?i?og(a):Sr(a):a}}class tg extends eg{constructor(e=!1){super(!1,e)}set(e,n,s,i){let r=e[n];if(!this._isShallow){const l=kr(r);if(!ss(s)&&!kr(s)&&(r=We(r),s=We(s)),!_e(e)&&Et(r)&&!Et(s))return l?!1:(r.value=s,!0)}const o=_e(e)&&ah(n)?Number(n)<e.length:Je(e,n),a=Reflect.set(e,n,s,Et(e)?e:i);return e===We(i)&&(o?Bi(s,r)&&ti(e,"set",n,s):ti(e,"add",n,s)),a}deleteProperty(e,n){const s=Je(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&s&&ti(e,"delete",n,void 0),i}has(e,n){const s=Reflect.has(e,n);return(!Gi(n)||!Qy.has(n))&&pn(e,"has",n),s}ownKeys(e){return pn(e,"iterate",_e(e)?"length":vr),Reflect.ownKeys(e)}}class W1 extends eg{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const j1=new tg,V1=new W1,q1=new tg(!0);const dh=t=>t,Dc=t=>Reflect.getPrototypeOf(t);function ll(t,e,n=!1,s=!1){t=t.__v_raw;const i=We(t),r=We(e);n||(Bi(e,r)&&pn(i,"get",e),pn(i,"get",r));const{has:o}=Dc(i),a=s?dh:n?vh:un;if(o.call(i,e))return a(t.get(e));if(o.call(i,r))return a(t.get(r));t!==i&&t.get(e)}function cl(t,e=!1){const n=this.__v_raw,s=We(n),i=We(t);return e||(Bi(t,i)&&pn(s,"has",t),pn(s,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function ul(t,e=!1){return t=t.__v_raw,!e&&pn(We(t),"iterate",vr),Reflect.get(t,"size",t)}function Pd(t,e=!1){!e&&!ss(t)&&!kr(t)&&(t=We(t));const n=We(this);return Dc(n).has.call(n,t)||(n.add(t),ti(n,"add",t,t)),this}function $d(t,e,n=!1){!n&&!ss(e)&&!kr(e)&&(e=We(e));const s=We(this),{has:i,get:r}=Dc(s);let o=i.call(s,t);o||(t=We(t),o=i.call(s,t));const a=r.call(s,t);return s.set(t,e),o?Bi(e,a)&&ti(s,"set",t,e):ti(s,"add",t,e),this}function Yd(t){const e=We(this),{has:n,get:s}=Dc(e);let i=n.call(e,t);i||(t=We(t),i=n.call(e,t)),s&&s.call(e,t);const r=e.delete(t);return i&&ti(e,"delete",t,void 0),r}function Fd(){const t=We(this),e=t.size!==0,n=t.clear();return e&&ti(t,"clear",void 0,void 0),n}function fl(t,e){return function(s,i){const r=this,o=r.__v_raw,a=We(o),l=e?dh:t?vh:un;return!t&&pn(a,"iterate",vr),o.forEach((c,u)=>s.call(i,l(c),l(u),r))}}function hl(t,e,n){return function(...s){const i=this.__v_raw,r=We(i),o=to(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=i[t](...s),u=n?dh:e?vh:un;return!e&&pn(r,"iterate",l?nf:vr),{next(){const{value:f,done:h}=c.next();return h?{value:f,done:h}:{value:a?[u(f[0]),u(f[1])]:u(f),done:h}},[Symbol.iterator](){return this}}}}function li(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function K1(){const t={get(r){return ll(this,r)},get size(){return ul(this)},has:cl,add:Pd,set:$d,delete:Yd,clear:Fd,forEach:fl(!1,!1)},e={get(r){return ll(this,r,!1,!0)},get size(){return ul(this)},has:cl,add(r){return Pd.call(this,r,!0)},set(r,o){return $d.call(this,r,o,!0)},delete:Yd,clear:Fd,forEach:fl(!1,!0)},n={get(r){return ll(this,r,!0)},get size(){return ul(this,!0)},has(r){return cl.call(this,r,!0)},add:li("add"),set:li("set"),delete:li("delete"),clear:li("clear"),forEach:fl(!0,!1)},s={get(r){return ll(this,r,!0,!0)},get size(){return ul(this,!0)},has(r){return cl.call(this,r,!0)},add:li("add"),set:li("set"),delete:li("delete"),clear:li("clear"),forEach:fl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=hl(r,!1,!1),n[r]=hl(r,!0,!1),e[r]=hl(r,!1,!0),s[r]=hl(r,!0,!0)}),[t,n,e,s]}const[G1,Z1,X1,J1]=K1();function mh(t,e){const n=e?t?J1:X1:t?Z1:G1;return(s,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(Je(n,i)&&i in s?n:s,i,r)}const Q1={get:mh(!1,!1)},eb={get:mh(!1,!0)},tb={get:mh(!0,!1)};const ng=new WeakMap,sg=new WeakMap,ig=new WeakMap,nb=new WeakMap;function sb(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ib(t){return t.__v_skip||!Object.isExtensible(t)?0:sb(D1(t))}function Sr(t){return kr(t)?t:ph(t,!1,j1,Q1,ng)}function rg(t){return ph(t,!1,q1,eb,sg)}function og(t){return ph(t,!0,V1,tb,ig)}function ph(t,e,n,s,i){if(!dt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=i.get(t);if(r)return r;const o=ib(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return i.set(t,a),a}function Yi(t){return kr(t)?Yi(t.__v_raw):!!(t&&t.__v_isReactive)}function kr(t){return!!(t&&t.__v_isReadonly)}function ss(t){return!!(t&&t.__v_isShallow)}function yh(t){return t?!!t.__v_raw:!1}function We(t){const e=t&&t.__v_raw;return e?We(e):t}function gh(t){return!Je(t,"__v_skip")&&Object.isExtensible(t)&&$y(t,"__v_skip",!0),t}const un=t=>dt(t)?Sr(t):t,vh=t=>dt(t)?og(t):t;function Et(t){return t?t.__v_isRef===!0:!1}function he(t){return ag(t,!1)}function rb(t){return ag(t,!0)}function ag(t,e){return Et(t)?t:new ob(t,e)}class ob{constructor(e,n){this.dep=new hh,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:We(e),this._value=n?e:un(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||ss(e)||kr(e);e=s?e:We(e),Bi(e,n)&&(this._rawValue=e,this._value=s?e:un(e),this.dep.trigger())}}function Y(t){return Et(t)?t.value:t}const ab={get:(t,e,n)=>e==="__v_raw"?t:Y(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return Et(i)&&!Et(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function lg(t){return Yi(t)?t:new Proxy(t,ab)}function lb(t){const e=_e(t)?new Array(t.length):{};for(const n in t)e[n]=ub(t,n);return e}class cb{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return F1(We(this._object),this._key)}}function ub(t,e,n){const s=t[e];return Et(s)?s:new cb(t,e,n)}class fb{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new hh(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=va-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&at!==this)return qy(this),!0}get value(){const e=this.dep.track();return Zy(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Zs(t,e,n=!1){let s,i;return Ae(t)?s=t:(s=t.get,i=t.set),new fb(s,i,n)}const dl={},Gl=new WeakMap;let ar;function hb(t,e=!1,n=ar){if(n){let s=Gl.get(n);s||Gl.set(n,s=[]),s.push(t)}}function db(t,e,n=it){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:a,call:l}=n,c=k=>i?k:ss(k)||i===!1||i===0?Js(k,1):Js(k);let u,f,h,d,y=!1,m=!1;if(Et(t)?(f=()=>t.value,y=ss(t)):Yi(t)?(f=()=>c(t),y=!0):_e(t)?(m=!0,y=t.some(k=>Yi(k)||ss(k)),f=()=>t.map(k=>{if(Et(k))return k.value;if(Yi(k))return c(k);if(Ae(k))return l?l(k,2):k()})):Ae(t)?e?f=l?()=>l(t,2):t:f=()=>{if(h){Zi();try{h()}finally{Xi()}}const k=ar;ar=u;try{return l?l(t,3,[d]):t(d)}finally{ar=k}}:f=Fs,e&&i){const k=f,_=i===!0?1/0:i;f=()=>Js(k(),_)}const p=lh(),g=()=>{u.stop(),p&&oh(p.effects,u)};if(r&&e){const k=e;e=(..._)=>{k(..._),g()}}let w=m?new Array(t.length).fill(dl):dl;const T=k=>{if(!(!(u.flags&1)||!u.dirty&&!k))if(e){const _=u.run();if(i||y||(m?_.some((C,I)=>Bi(C,w[I])):Bi(_,w))){h&&h();const C=ar;ar=u;try{const I=[_,w===dl?void 0:m&&w[0]===dl?[]:w,d];l?l(e,3,I):e(...I),w=_}finally{ar=C}}}else u.run()};return a&&a(T),u=new jy(f),u.scheduler=o?()=>o(T,!1):T,d=k=>hb(k,!1,u),h=u.onStop=()=>{const k=Gl.get(u);if(k){if(l)l(k,4);else for(const _ of k)_();Gl.delete(u)}},e?s?T(!0):w=u.run():o?o(T.bind(null,!0),!0):u.run(),g.pause=u.pause.bind(u),g.resume=u.resume.bind(u),g.stop=g,g}function Js(t,e=1/0,n){if(e<=0||!dt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Et(t))Js(t.value,e,n);else if(_e(t))for(let s=0;s<t.length;s++)Js(t[s],e,n);else if(Ay(t)||to(t))t.forEach(s=>{Js(s,e,n)});else if(Ry(t)){for(const s in t)Js(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&Js(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function za(t,e,n,s){try{return s?t(...s):t()}catch(i){Oc(i,e,n)}}function _s(t,e,n,s){if(Ae(t)){const i=za(t,e,n,s);return i&&Ny(i)&&i.catch(r=>{Oc(r,e,n)}),i}if(_e(t)){const i=[];for(let r=0;r<t.length;r++)i.push(_s(t[r],e,n,s));return i}}function Oc(t,e,n,s=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||it;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](t,l,c)===!1)return}a=a.parent}if(r){Zi(),za(r,null,10,[t,l,c]),Xi();return}}mb(t,n,i,s,o)}function mb(t,e,n,s=!0,i=!1){if(i)throw t;console.error(t)}let ba=!1,sf=!1;const Dn=[];let Ls=0;const no=[];let Si=null,qr=0;const cg=Promise.resolve();let wh=null;function bs(t){const e=wh||cg;return t?e.then(this?t.bind(this):t):e}function pb(t){let e=ba?Ls+1:0,n=Dn.length;for(;e<n;){const s=e+n>>>1,i=Dn[s],r=Ta(i);r<t||r===t&&i.flags&2?e=s+1:n=s}return e}function bh(t){if(!(t.flags&1)){const e=Ta(t),n=Dn[Dn.length-1];!n||!(t.flags&2)&&e>=Ta(n)?Dn.push(t):Dn.splice(pb(e),0,t),t.flags|=1,ug()}}function ug(){!ba&&!sf&&(sf=!0,wh=cg.then(hg))}function yb(t){_e(t)?no.push(...t):Si&&t.id===-1?Si.splice(qr+1,0,t):t.flags&1||(no.push(t),t.flags|=1),ug()}function Ud(t,e,n=ba?Ls+1:0){for(;n<Dn.length;n++){const s=Dn[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Dn.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function fg(t){if(no.length){const e=[...new Set(no)].sort((n,s)=>Ta(n)-Ta(s));if(no.length=0,Si){Si.push(...e);return}for(Si=e,qr=0;qr<Si.length;qr++){const n=Si[qr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Si=null,qr=0}}const Ta=t=>t.id==null?t.flags&2?-1:1/0:t.id;function hg(t){sf=!1,ba=!0;try{for(Ls=0;Ls<Dn.length;Ls++){const e=Dn[Ls];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),za(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ls<Dn.length;Ls++){const e=Dn[Ls];e&&(e.flags&=-2)}Ls=0,Dn.length=0,fg(),ba=!1,wh=null,(Dn.length||no.length)&&hg()}}let qt=null,dg=null;function Zl(t){const e=qt;return qt=t,dg=t&&t.type.__scopeId||null,e}function At(t,e=qt,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&Gd(-1);const r=Zl(e);let o;try{o=t(...i)}finally{Zl(r),s._d&&Gd(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function so(t,e){if(qt===null)return t;const n=Lc(qt),s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[r,o,a,l=it]=e[i];r&&(Ae(r)&&(r={mounted:r,updated:r}),r.deep&&Js(o),s.push({dir:r,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function er(t,e,n,s){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[s];l&&(Zi(),_s(l,n,8,[t.el,a,t,e]),Xi())}}const gb=Symbol("_vte"),mg=t=>t.__isTeleport,ki=Symbol("_leaveCb"),ml=Symbol("_enterCb");function vb(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ri(()=>{t.isMounted=!0}),Sg(()=>{t.isUnmounting=!0}),t}const Kn=[Function,Array],pg={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Kn,onEnter:Kn,onAfterEnter:Kn,onEnterCancelled:Kn,onBeforeLeave:Kn,onLeave:Kn,onAfterLeave:Kn,onLeaveCancelled:Kn,onBeforeAppear:Kn,onAppear:Kn,onAfterAppear:Kn,onAppearCancelled:Kn},yg=t=>{const e=t.subTree;return e.component?yg(e.component):e},wb={name:"BaseTransition",props:pg,setup(t,{slots:e}){const n=Bg(),s=vb();return()=>{const i=e.default&&wg(e.default(),!0);if(!i||!i.length)return;const r=gg(i),o=We(t),{mode:a}=o;if(s.isLeaving)return vu(r);const l=zd(r);if(!l)return vu(r);let c=rf(l,o,s,n,h=>c=h);l.type!==On&&Ea(l,c);const u=n.subTree,f=u&&zd(u);if(f&&f.type!==On&&!cr(l,f)&&yg(n).type!==On){const h=rf(f,o,s,n);if(Ea(f,h),a==="out-in"&&l.type!==On)return s.isLeaving=!0,h.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete h.afterLeave},vu(r);a==="in-out"&&l.type!==On&&(h.delayLeave=(d,y,m)=>{const p=vg(s,f);p[String(f.key)]=f,d[ki]=()=>{y(),d[ki]=void 0,delete c.delayedLeave},c.delayedLeave=m})}return r}}};function gg(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==On){e=n;break}}return e}const bb=wb;function vg(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function rf(t,e,n,s,i){const{appear:r,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:h,onLeave:d,onAfterLeave:y,onLeaveCancelled:m,onBeforeAppear:p,onAppear:g,onAfterAppear:w,onAppearCancelled:T}=e,k=String(t.key),_=vg(n,t),C=(x,R)=>{x&&_s(x,s,9,R)},I=(x,R)=>{const W=R[1];C(x,R),_e(x)?x.every(N=>N.length<=1)&&W():x.length<=1&&W()},M={mode:o,persisted:a,beforeEnter(x){let R=l;if(!n.isMounted)if(r)R=p||l;else return;x[ki]&&x[ki](!0);const W=_[k];W&&cr(t,W)&&W.el[ki]&&W.el[ki](),C(R,[x])},enter(x){let R=c,W=u,N=f;if(!n.isMounted)if(r)R=g||c,W=w||u,N=T||f;else return;let se=!1;const De=x[ml]=Xe=>{se||(se=!0,Xe?C(N,[x]):C(W,[x]),M.delayedLeave&&M.delayedLeave(),x[ml]=void 0)};R?I(R,[x,De]):De()},leave(x,R){const W=String(t.key);if(x[ml]&&x[ml](!0),n.isUnmounting)return R();C(h,[x]);let N=!1;const se=x[ki]=De=>{N||(N=!0,R(),De?C(m,[x]):C(y,[x]),x[ki]=void 0,_[W]===t&&delete _[W])};_[W]=t,d?I(d,[x,se]):se()},clone(x){const R=rf(x,e,n,s,i);return i&&i(R),R}};return M}function vu(t){if(Ic(t))return t=Wi(t),t.children=null,t}function zd(t){if(!Ic(t))return mg(t.type)&&t.children?gg(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Ae(n.default))return n.default()}}function Ea(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ea(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function wg(t,e=!1,n){let s=[],i=0;for(let r=0;r<t.length;r++){let o=t[r];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===qe?(o.patchFlag&128&&i++,s=s.concat(wg(o.children,e,a))):(e||o.type!==On)&&s.push(a!=null?Wi(o,{key:a}):o)}if(i>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function Fe(t,e){return Ae(t)?$t({name:t.name},e,{setup:t}):t}function bg(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function of(t,e,n,s,i=!1){if(_e(t)){t.forEach((y,m)=>of(y,e&&(_e(e)?e[m]:e),n,s,i));return}if(io(s)&&!i)return;const r=s.shapeFlag&4?Lc(s.component):s.el,o=i?null:r,{i:a,r:l}=t,c=e&&e.r,u=a.refs===it?a.refs={}:a.refs,f=a.setupState,h=We(f),d=f===it?()=>!1:y=>Je(h,y);if(c!=null&&c!==l&&(Dt(c)?(u[c]=null,d(c)&&(f[c]=null)):Et(c)&&(c.value=null)),Ae(l))za(l,a,12,[o,u]);else{const y=Dt(l),m=Et(l);if(y||m){const p=()=>{if(t.f){const g=y?d(l)?f[l]:u[l]:l.value;i?_e(g)&&oh(g,r):_e(g)?g.includes(r)||g.push(r):y?(u[l]=[r],d(l)&&(f[l]=u[l])):(l.value=[r],t.k&&(u[t.k]=l.value))}else y?(u[l]=o,d(l)&&(f[l]=o)):m&&(l.value=o,t.k&&(u[t.k]=o))};o?(p.id=-1,$n(p,n)):p()}}}const io=t=>!!t.type.__asyncLoader,Ic=t=>t.type.__isKeepAlive;function Tg(t,e){Eg(t,"a",e)}function Tb(t,e){Eg(t,"da",e)}function Eg(t,e,n=Qt){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Mc(e,s,n),n){let i=n.parent;for(;i&&i.parent;)Ic(i.parent.vnode)&&Eb(s,e,n,i),i=i.parent}}function Eb(t,e,n,s){const i=Mc(e,t,s,!0);xc(()=>{oh(s[e],i)},n)}function Mc(t,e,n=Qt,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{Zi();const a=Ha(n),l=_s(e,n,t,o);return a(),Xi(),l});return s?i.unshift(r):i.push(r),r}}const ii=t=>(e,n=Qt)=>{(!Nc||t==="sp")&&Mc(t,(...s)=>e(...s),n)},Sb=ii("bm"),ri=ii("m"),kb=ii("bu"),_b=ii("u"),Sg=ii("bum"),xc=ii("um"),Db=ii("sp"),Ob=ii("rtg"),Ib=ii("rtc");function Mb(t,e=Qt){Mc("ec",t,e)}const xb=Symbol.for("v-ndc");function Ds(t,e,n,s){let i;const r=n,o=_e(t);if(o||Dt(t)){const a=o&&Yi(t);let l=!1;a&&(l=!ss(t),t=_c(t)),i=new Array(t.length);for(let c=0,u=t.length;c<u;c++)i[c]=e(l?un(t[c]):t[c],c,void 0,r)}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,r)}else if(dt(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,r));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=e(t[u],u,l,r)}}else i=[];return i}function Sa(t,e,n={},s,i){if(qt.ce||qt.parent&&io(qt.parent)&&qt.parent.ce)return e!=="default"&&(n.name=e),te(),mt(qe,null,[xe("slot",n,s)],64);let r=t[e];r&&r._c&&(r._d=!1),te();const o=r&&kg(r(n)),a=mt(qe,{key:(n.key||o&&o.key||`_${e}`)+(!o&&s?"_fb":"")},o||[],o&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function kg(t){return t.some(e=>_a(e)?!(e.type===On||e.type===qe&&!kg(e.children)):!0)?t:null}function Th(t,e){const n={};for(const s in t)n[/[A-Z]/.test(s)?`on:${s}`:Ll(s)]=t[s];return n}const af=t=>t?Wg(t)?Lc(t):af(t.parent):null,oa=$t(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>af(t.parent),$root:t=>af(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Eh(t),$forceUpdate:t=>t.f||(t.f=()=>{bh(t.update)}),$nextTick:t=>t.n||(t.n=bs.bind(t.proxy)),$watch:t=>Jb.bind(t)}),wu=(t,e)=>t!==it&&!t.__isScriptSetup&&Je(t,e),Cb={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const d=o[e];if(d!==void 0)switch(d){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(wu(s,e))return o[e]=1,s[e];if(i!==it&&Je(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&Je(c,e))return o[e]=3,r[e];if(n!==it&&Je(n,e))return o[e]=4,n[e];lf&&(o[e]=0)}}const u=oa[e];let f,h;if(u)return e==="$attrs"&&pn(t.attrs,"get",""),u(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==it&&Je(n,e))return o[e]=4,n[e];if(h=l.config.globalProperties,Je(h,e))return h[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:r}=t;return wu(i,e)?(i[e]=n,!0):s!==it&&Je(s,e)?(s[e]=n,!0):Je(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let a;return!!n[o]||t!==it&&Je(t,o)||wu(e,o)||(a=r[0])&&Je(a,o)||Je(s,o)||Je(oa,o)||Je(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Je(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Hd(t){return _e(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let lf=!0;function Ab(t){const e=Eh(t),n=t.proxy,s=t.ctx;lf=!1,e.beforeCreate&&Bd(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:f,mounted:h,beforeUpdate:d,updated:y,activated:m,deactivated:p,beforeDestroy:g,beforeUnmount:w,destroyed:T,unmounted:k,render:_,renderTracked:C,renderTriggered:I,errorCaptured:M,serverPrefetch:x,expose:R,inheritAttrs:W,components:N,directives:se,filters:De}=e;if(c&&Nb(c,s,null),o)for(const be in o){const Ee=o[be];Ae(Ee)&&(s[be]=Ee.bind(n))}if(i){const be=i.call(n,n);dt(be)&&(t.data=Sr(be))}if(lf=!0,r)for(const be in r){const Ee=r[be],vt=Ae(Ee)?Ee.bind(n,n):Ae(Ee.get)?Ee.get.bind(n,n):Fs,z=!Ae(Ee)&&Ae(Ee.set)?Ee.set.bind(n):Fs,X=A({get:vt,set:z});Object.defineProperty(s,be,{enumerable:!0,configurable:!0,get:()=>X.value,set:ee=>X.value=ee})}if(a)for(const be in a)_g(a[be],s,n,be);if(l){const be=Ae(l)?l.call(n):l;Reflect.ownKeys(be).forEach(Ee=>{Rl(Ee,be[Ee])})}u&&Bd(u,t,"c");function Re(be,Ee){_e(Ee)?Ee.forEach(vt=>be(vt.bind(n))):Ee&&be(Ee.bind(n))}if(Re(Sb,f),Re(ri,h),Re(kb,d),Re(_b,y),Re(Tg,m),Re(Tb,p),Re(Mb,M),Re(Ib,C),Re(Ob,I),Re(Sg,w),Re(xc,k),Re(Db,x),_e(R))if(R.length){const be=t.exposed||(t.exposed={});R.forEach(Ee=>{Object.defineProperty(be,Ee,{get:()=>n[Ee],set:vt=>n[Ee]=vt})})}else t.exposed||(t.exposed={});_&&t.render===Fs&&(t.render=_),W!=null&&(t.inheritAttrs=W),N&&(t.components=N),se&&(t.directives=se),x&&bg(t)}function Nb(t,e,n=Fs){_e(t)&&(t=cf(t));for(const s in t){const i=t[s];let r;dt(i)?"default"in i?r=ks(i.from||s,i.default,!0):r=ks(i.from||s):r=ks(i),Et(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function Bd(t,e,n){_s(_e(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function _g(t,e,n,s){let i=s.includes(".")?Yg(n,s):()=>n[s];if(Dt(t)){const r=e[t];Ae(r)&&ht(i,r)}else if(Ae(t))ht(i,t.bind(n));else if(dt(t))if(_e(t))t.forEach(r=>_g(r,e,n,s));else{const r=Ae(t.handler)?t.handler.bind(n):e[t.handler];Ae(r)&&ht(i,r,t)}}function Eh(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!i.length&&!n&&!s?l=e:(l={},i.length&&i.forEach(c=>Xl(l,c,o,!0)),Xl(l,e,o)),dt(e)&&r.set(e,l),l}function Xl(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&Xl(t,r,n,!0),i&&i.forEach(o=>Xl(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=Lb[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Lb={data:Wd,props:jd,emits:jd,methods:Jo,computed:Jo,beforeCreate:bn,created:bn,beforeMount:bn,mounted:bn,beforeUpdate:bn,updated:bn,beforeDestroy:bn,beforeUnmount:bn,destroyed:bn,unmounted:bn,activated:bn,deactivated:bn,errorCaptured:bn,serverPrefetch:bn,components:Jo,directives:Jo,watch:Pb,provide:Wd,inject:Rb};function Wd(t,e){return e?t?function(){return $t(Ae(t)?t.call(this,this):t,Ae(e)?e.call(this,this):e)}:e:t}function Rb(t,e){return Jo(cf(t),cf(e))}function cf(t){if(_e(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function bn(t,e){return t?[...new Set([].concat(t,e))]:e}function Jo(t,e){return t?$t(Object.create(null),t,e):e}function jd(t,e){return t?_e(t)&&_e(e)?[...new Set([...t,...e])]:$t(Object.create(null),Hd(t),Hd(e??{})):e}function Pb(t,e){if(!t)return e;if(!e)return t;const n=$t(Object.create(null),t);for(const s in e)n[s]=bn(t[s],e[s]);return n}function Dg(){return{app:null,config:{isNativeTag:k1,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let $b=0;function Yb(t,e){return function(s,i=null){Ae(s)||(s=$t({},s)),i!=null&&!dt(i)&&(i=null);const r=Dg(),o=new WeakSet,a=[];let l=!1;const c=r.app={_uid:$b++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:vT,get config(){return r.config},set config(u){},use(u,...f){return o.has(u)||(u&&Ae(u.install)?(o.add(u),u.install(c,...f)):Ae(u)&&(o.add(u),u(c,...f))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,f){return f?(r.components[u]=f,c):r.components[u]},directive(u,f){return f?(r.directives[u]=f,c):r.directives[u]},mount(u,f,h){if(!l){const d=c._ceVNode||xe(s,i);return d.appContext=r,h===!0?h="svg":h===!1&&(h=void 0),f&&e?e(d,u):t(d,u,h),l=!0,c._container=u,u.__vue_app__=c,Lc(d.component)}},onUnmount(u){a.push(u)},unmount(){l&&(_s(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,f){return r.provides[u]=f,c},runWithContext(u){const f=wr;wr=c;try{return u()}finally{wr=f}}};return c}}let wr=null;function Rl(t,e){if(Qt){let n=Qt.provides;const s=Qt.parent&&Qt.parent.provides;s===n&&(n=Qt.provides=Object.create(s)),n[t]=e}}function ks(t,e,n=!1){const s=Qt||qt;if(s||wr){const i=wr?wr._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Ae(e)?e.call(s&&s.proxy):e}}function Fb(){return!!(Qt||qt||wr)}const Og={},Ig=()=>Object.create(Og),Mg=t=>Object.getPrototypeOf(t)===Og;function Ub(t,e,n,s=!1){const i={},r=Ig();t.propsDefaults=Object.create(null),xg(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=s?i:rg(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function zb(t,e,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,a=We(i),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let f=0;f<u.length;f++){let h=u[f];if(Cc(t.emitsOptions,h))continue;const d=e[h];if(l)if(Je(r,h))d!==r[h]&&(r[h]=d,c=!0);else{const y=Hi(h);i[y]=uf(l,a,y,d,t,!1)}else d!==r[h]&&(r[h]=d,c=!0)}}}else{xg(t,e,i,r)&&(c=!0);let u;for(const f in a)(!e||!Je(e,f)&&((u=Mr(f))===f||!Je(e,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(i[f]=uf(l,a,f,void 0,t,!0)):delete i[f]);if(r!==a)for(const f in r)(!e||!Je(e,f))&&(delete r[f],c=!0)}c&&ti(t.attrs,"set","")}function xg(t,e,n,s){const[i,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(ra(l))continue;const c=e[l];let u;i&&Je(i,u=Hi(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:Cc(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(r){const l=We(n),c=a||it;for(let u=0;u<r.length;u++){const f=r[u];n[f]=uf(i,l,f,c[f],t,!Je(c,f))}}return o}function uf(t,e,n,s,i,r){const o=t[n];if(o!=null){const a=Je(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Ae(l)){const{propsDefaults:c}=i;if(n in c)s=c[n];else{const u=Ha(i);s=c[n]=l.call(null,e),u()}}else s=l;i.ce&&i.ce._setProp(n,s)}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===Mr(n))&&(s=!0))}return s}const Hb=new WeakMap;function Cg(t,e,n=!1){const s=n?Hb:e.propsCache,i=s.get(t);if(i)return i;const r=t.props,o={},a=[];let l=!1;if(!Ae(t)){const u=f=>{l=!0;const[h,d]=Cg(f,e,!0);$t(o,h),d&&a.push(...d)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!l)return dt(t)&&s.set(t,eo),eo;if(_e(r))for(let u=0;u<r.length;u++){const f=Hi(r[u]);Vd(f)&&(o[f]=it)}else if(r)for(const u in r){const f=Hi(u);if(Vd(f)){const h=r[u],d=o[f]=_e(h)||Ae(h)?{type:h}:$t({},h),y=d.type;let m=!1,p=!0;if(_e(y))for(let g=0;g<y.length;++g){const w=y[g],T=Ae(w)&&w.name;if(T==="Boolean"){m=!0;break}else T==="String"&&(p=!1)}else m=Ae(y)&&y.name==="Boolean";d[0]=m,d[1]=p,(m||Je(d,"default"))&&a.push(f)}}const c=[o,a];return dt(t)&&s.set(t,c),c}function Vd(t){return t[0]!=="$"&&!ra(t)}const Ag=t=>t[0]==="_"||t==="$stable",Sh=t=>_e(t)?t.map(Ps):[Ps(t)],Bb=(t,e,n)=>{if(e._n)return e;const s=At((...i)=>Sh(e(...i)),n);return s._c=!1,s},Ng=(t,e,n)=>{const s=t._ctx;for(const i in t){if(Ag(i))continue;const r=t[i];if(Ae(r))e[i]=Bb(i,r,s);else if(r!=null){const o=Sh(r);e[i]=()=>o}}},Lg=(t,e)=>{const n=Sh(e);t.slots.default=()=>n},Rg=(t,e,n)=>{for(const s in e)(n||s!=="_")&&(t[s]=e[s])},Wb=(t,e,n)=>{const s=t.slots=Ig();if(t.vnode.shapeFlag&32){const i=e._;i?(Rg(s,e,n),n&&$y(s,"_",i,!0)):Ng(e,s)}else e&&Lg(t,e)},jb=(t,e,n)=>{const{vnode:s,slots:i}=t;let r=!0,o=it;if(s.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:Rg(i,e,n):(r=!e.$stable,Ng(e,i)),o=e}else e&&(Lg(t,e),o={default:1});if(r)for(const a in i)!Ag(a)&&o[a]==null&&delete i[a]},$n=rT;function Vb(t){return qb(t)}function qb(t,e){const n=Yy();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:h,setScopeId:d=Fs,insertStaticContent:y}=t,m=(S,D,L,j=null,F=null,K=null,ie=void 0,ne=null,Q=!!D.dynamicChildren)=>{if(S===D)return;S&&!cr(S,D)&&(j=$(S),ee(S,F,K,!0),S=null),D.patchFlag===-2&&(Q=!1,D.dynamicChildren=null);const{type:Z,ref:Te,shapeFlag:ce}=D;switch(Z){case Ac:p(S,D,L,j);break;case On:g(S,D,L,j);break;case Eu:S==null&&w(D,L,j,ie);break;case qe:N(S,D,L,j,F,K,ie,ne,Q);break;default:ce&1?_(S,D,L,j,F,K,ie,ne,Q):ce&6?se(S,D,L,j,F,K,ie,ne,Q):(ce&64||ce&128)&&Z.process(S,D,L,j,F,K,ie,ne,Q,le)}Te!=null&&F&&of(Te,S&&S.ref,K,D||S,!D)},p=(S,D,L,j)=>{if(S==null)s(D.el=a(D.children),L,j);else{const F=D.el=S.el;D.children!==S.children&&c(F,D.children)}},g=(S,D,L,j)=>{S==null?s(D.el=l(D.children||""),L,j):D.el=S.el},w=(S,D,L,j)=>{[S.el,S.anchor]=y(S.children,D,L,j,S.el,S.anchor)},T=({el:S,anchor:D},L,j)=>{let F;for(;S&&S!==D;)F=h(S),s(S,L,j),S=F;s(D,L,j)},k=({el:S,anchor:D})=>{let L;for(;S&&S!==D;)L=h(S),i(S),S=L;i(D)},_=(S,D,L,j,F,K,ie,ne,Q)=>{D.type==="svg"?ie="svg":D.type==="math"&&(ie="mathml"),S==null?C(D,L,j,F,K,ie,ne,Q):x(S,D,F,K,ie,ne,Q)},C=(S,D,L,j,F,K,ie,ne)=>{let Q,Z;const{props:Te,shapeFlag:ce,transition:ye,dirs:ke}=S;if(Q=S.el=o(S.type,K,Te&&Te.is,Te),ce&8?u(Q,S.children):ce&16&&M(S.children,Q,null,j,F,bu(S,K),ie,ne),ke&&er(S,null,j,"created"),I(Q,S,S.scopeId,ie,j),Te){for(const Se in Te)Se!=="value"&&!ra(Se)&&r(Q,Se,null,Te[Se],K,j);"value"in Te&&r(Q,"value",null,Te.value,K),(Z=Te.onVnodeBeforeMount)&&Ns(Z,j,S)}ke&&er(S,null,j,"beforeMount");const V=Kb(F,ye);V&&ye.beforeEnter(Q),s(Q,D,L),((Z=Te&&Te.onVnodeMounted)||V||ke)&&$n(()=>{Z&&Ns(Z,j,S),V&&ye.enter(Q),ke&&er(S,null,j,"mounted")},F)},I=(S,D,L,j,F)=>{if(L&&d(S,L),j)for(let K=0;K<j.length;K++)d(S,j[K]);if(F){let K=F.subTree;if(D===K||Ug(K.type)&&(K.ssContent===D||K.ssFallback===D)){const ie=F.vnode;I(S,ie,ie.scopeId,ie.slotScopeIds,F.parent)}}},M=(S,D,L,j,F,K,ie,ne,Q=0)=>{for(let Z=Q;Z<S.length;Z++){const Te=S[Z]=ne?_i(S[Z]):Ps(S[Z]);m(null,Te,D,L,j,F,K,ie,ne)}},x=(S,D,L,j,F,K,ie)=>{const ne=D.el=S.el;let{patchFlag:Q,dynamicChildren:Z,dirs:Te}=D;Q|=S.patchFlag&16;const ce=S.props||it,ye=D.props||it;let ke;if(L&&tr(L,!1),(ke=ye.onVnodeBeforeUpdate)&&Ns(ke,L,D,S),Te&&er(D,S,L,"beforeUpdate"),L&&tr(L,!0),(ce.innerHTML&&ye.innerHTML==null||ce.textContent&&ye.textContent==null)&&u(ne,""),Z?R(S.dynamicChildren,Z,ne,L,j,bu(D,F),K):ie||Ee(S,D,ne,null,L,j,bu(D,F),K,!1),Q>0){if(Q&16)W(ne,ce,ye,L,F);else if(Q&2&&ce.class!==ye.class&&r(ne,"class",null,ye.class,F),Q&4&&r(ne,"style",ce.style,ye.style,F),Q&8){const V=D.dynamicProps;for(let Se=0;Se<V.length;Se++){const Oe=V[Se],rt=ce[Oe],je=ye[Oe];(je!==rt||Oe==="value")&&r(ne,Oe,rt,je,F,L)}}Q&1&&S.children!==D.children&&u(ne,D.children)}else!ie&&Z==null&&W(ne,ce,ye,L,F);((ke=ye.onVnodeUpdated)||Te)&&$n(()=>{ke&&Ns(ke,L,D,S),Te&&er(D,S,L,"updated")},j)},R=(S,D,L,j,F,K,ie)=>{for(let ne=0;ne<D.length;ne++){const Q=S[ne],Z=D[ne],Te=Q.el&&(Q.type===qe||!cr(Q,Z)||Q.shapeFlag&70)?f(Q.el):L;m(Q,Z,Te,null,j,F,K,ie,!0)}},W=(S,D,L,j,F)=>{if(D!==L){if(D!==it)for(const K in D)!ra(K)&&!(K in L)&&r(S,K,D[K],null,F,j);for(const K in L){if(ra(K))continue;const ie=L[K],ne=D[K];ie!==ne&&K!=="value"&&r(S,K,ne,ie,F,j)}"value"in L&&r(S,"value",D.value,L.value,F)}},N=(S,D,L,j,F,K,ie,ne,Q)=>{const Z=D.el=S?S.el:a(""),Te=D.anchor=S?S.anchor:a("");let{patchFlag:ce,dynamicChildren:ye,slotScopeIds:ke}=D;ke&&(ne=ne?ne.concat(ke):ke),S==null?(s(Z,L,j),s(Te,L,j),M(D.children||[],L,Te,F,K,ie,ne,Q)):ce>0&&ce&64&&ye&&S.dynamicChildren?(R(S.dynamicChildren,ye,L,F,K,ie,ne),(D.key!=null||F&&D===F.subTree)&&Pg(S,D,!0)):Ee(S,D,L,Te,F,K,ie,ne,Q)},se=(S,D,L,j,F,K,ie,ne,Q)=>{D.slotScopeIds=ne,S==null?D.shapeFlag&512?F.ctx.activate(D,L,j,ie,Q):De(D,L,j,F,K,ie,Q):Xe(S,D,Q)},De=(S,D,L,j,F,K,ie)=>{const ne=S.component=hT(S,j,F);if(Ic(S)&&(ne.ctx.renderer=le),dT(ne,!1,ie),ne.asyncDep){if(F&&F.registerDep(ne,Re,ie),!S.el){const Q=ne.subTree=xe(On);g(null,Q,D,L)}}else Re(ne,S,D,L,F,K,ie)},Xe=(S,D,L)=>{const j=D.component=S.component;if(sT(S,D,L))if(j.asyncDep&&!j.asyncResolved){be(j,D,L);return}else j.next=D,j.update();else D.el=S.el,j.vnode=D},Re=(S,D,L,j,F,K,ie)=>{const ne=()=>{if(S.isMounted){let{next:ce,bu:ye,u:ke,parent:V,vnode:Se}=S;{const Yt=$g(S);if(Yt){ce&&(ce.el=Se.el,be(S,ce,ie)),Yt.asyncDep.then(()=>{S.isUnmounted||ne()});return}}let Oe=ce,rt;tr(S,!1),ce?(ce.el=Se.el,be(S,ce,ie)):ce=Se,ye&&du(ye),(rt=ce.props&&ce.props.onVnodeBeforeUpdate)&&Ns(rt,V,ce,Se),tr(S,!0);const je=Tu(S),It=S.subTree;S.subTree=je,m(It,je,f(It.el),$(It),S,F,K),ce.el=je.el,Oe===null&&iT(S,je.el),ke&&$n(ke,F),(rt=ce.props&&ce.props.onVnodeUpdated)&&$n(()=>Ns(rt,V,ce,Se),F)}else{let ce;const{el:ye,props:ke}=D,{bm:V,m:Se,parent:Oe,root:rt,type:je}=S,It=io(D);if(tr(S,!1),V&&du(V),!It&&(ce=ke&&ke.onVnodeBeforeMount)&&Ns(ce,Oe,D),tr(S,!0),ye&&Ke){const Yt=()=>{S.subTree=Tu(S),Ke(ye,S.subTree,S,F,null)};It&&je.__asyncHydrate?je.__asyncHydrate(ye,S,Yt):Yt()}else{rt.ce&&rt.ce._injectChildStyle(je);const Yt=S.subTree=Tu(S);m(null,Yt,L,j,S,F,K),D.el=Yt.el}if(Se&&$n(Se,F),!It&&(ce=ke&&ke.onVnodeMounted)){const Yt=D;$n(()=>Ns(ce,Oe,Yt),F)}(D.shapeFlag&256||Oe&&io(Oe.vnode)&&Oe.vnode.shapeFlag&256)&&S.a&&$n(S.a,F),S.isMounted=!0,D=L=j=null}};S.scope.on();const Q=S.effect=new jy(ne);S.scope.off();const Z=S.update=Q.run.bind(Q),Te=S.job=Q.runIfDirty.bind(Q);Te.i=S,Te.id=S.uid,Q.scheduler=()=>bh(Te),tr(S,!0),Z()},be=(S,D,L)=>{D.component=S;const j=S.vnode.props;S.vnode=D,S.next=null,zb(S,D.props,j,L),jb(S,D.children,L),Zi(),Ud(S),Xi()},Ee=(S,D,L,j,F,K,ie,ne,Q=!1)=>{const Z=S&&S.children,Te=S?S.shapeFlag:0,ce=D.children,{patchFlag:ye,shapeFlag:ke}=D;if(ye>0){if(ye&128){z(Z,ce,L,j,F,K,ie,ne,Q);return}else if(ye&256){vt(Z,ce,L,j,F,K,ie,ne,Q);return}}ke&8?(Te&16&&en(Z,F,K),ce!==Z&&u(L,ce)):Te&16?ke&16?z(Z,ce,L,j,F,K,ie,ne,Q):en(Z,F,K,!0):(Te&8&&u(L,""),ke&16&&M(ce,L,j,F,K,ie,ne,Q))},vt=(S,D,L,j,F,K,ie,ne,Q)=>{S=S||eo,D=D||eo;const Z=S.length,Te=D.length,ce=Math.min(Z,Te);let ye;for(ye=0;ye<ce;ye++){const ke=D[ye]=Q?_i(D[ye]):Ps(D[ye]);m(S[ye],ke,L,null,F,K,ie,ne,Q)}Z>Te?en(S,F,K,!0,!1,ce):M(D,L,j,F,K,ie,ne,Q,ce)},z=(S,D,L,j,F,K,ie,ne,Q)=>{let Z=0;const Te=D.length;let ce=S.length-1,ye=Te-1;for(;Z<=ce&&Z<=ye;){const ke=S[Z],V=D[Z]=Q?_i(D[Z]):Ps(D[Z]);if(cr(ke,V))m(ke,V,L,null,F,K,ie,ne,Q);else break;Z++}for(;Z<=ce&&Z<=ye;){const ke=S[ce],V=D[ye]=Q?_i(D[ye]):Ps(D[ye]);if(cr(ke,V))m(ke,V,L,null,F,K,ie,ne,Q);else break;ce--,ye--}if(Z>ce){if(Z<=ye){const ke=ye+1,V=ke<Te?D[ke].el:j;for(;Z<=ye;)m(null,D[Z]=Q?_i(D[Z]):Ps(D[Z]),L,V,F,K,ie,ne,Q),Z++}}else if(Z>ye)for(;Z<=ce;)ee(S[Z],F,K,!0),Z++;else{const ke=Z,V=Z,Se=new Map;for(Z=V;Z<=ye;Z++){const tn=D[Z]=Q?_i(D[Z]):Ps(D[Z]);tn.key!=null&&Se.set(tn.key,Z)}let Oe,rt=0;const je=ye-V+1;let It=!1,Yt=0;const Nt=new Array(je);for(Z=0;Z<je;Z++)Nt[Z]=0;for(Z=ke;Z<=ce;Z++){const tn=S[Z];if(rt>=je){ee(tn,F,K,!0);continue}let gn;if(tn.key!=null)gn=Se.get(tn.key);else for(Oe=V;Oe<=ye;Oe++)if(Nt[Oe-V]===0&&cr(tn,D[Oe])){gn=Oe;break}gn===void 0?ee(tn,F,K,!0):(Nt[gn-V]=Z+1,gn>=Yt?Yt=gn:It=!0,m(tn,D[gn],L,null,F,K,ie,ne,Q),rt++)}const Lt=It?Gb(Nt):eo;for(Oe=Lt.length-1,Z=je-1;Z>=0;Z--){const tn=V+Z,gn=D[tn],Ji=tn+1<Te?D[tn+1].el:j;Nt[Z]===0?m(null,gn,L,Ji,F,K,ie,ne,Q):It&&(Oe<0||Z!==Lt[Oe]?X(gn,L,Ji,2):Oe--)}}},X=(S,D,L,j,F=null)=>{const{el:K,type:ie,transition:ne,children:Q,shapeFlag:Z}=S;if(Z&6){X(S.component.subTree,D,L,j);return}if(Z&128){S.suspense.move(D,L,j);return}if(Z&64){ie.move(S,D,L,le);return}if(ie===qe){s(K,D,L);for(let ce=0;ce<Q.length;ce++)X(Q[ce],D,L,j);s(S.anchor,D,L);return}if(ie===Eu){T(S,D,L);return}if(j!==2&&Z&1&&ne)if(j===0)ne.beforeEnter(K),s(K,D,L),$n(()=>ne.enter(K),F);else{const{leave:ce,delayLeave:ye,afterLeave:ke}=ne,V=()=>s(K,D,L),Se=()=>{ce(K,()=>{V(),ke&&ke()})};ye?ye(K,V,Se):Se()}else s(K,D,L)},ee=(S,D,L,j=!1,F=!1)=>{const{type:K,props:ie,ref:ne,children:Q,dynamicChildren:Z,shapeFlag:Te,patchFlag:ce,dirs:ye,cacheIndex:ke}=S;if(ce===-2&&(F=!1),ne!=null&&of(ne,null,L,S,!0),ke!=null&&(D.renderCache[ke]=void 0),Te&256){D.ctx.deactivate(S);return}const V=Te&1&&ye,Se=!io(S);let Oe;if(Se&&(Oe=ie&&ie.onVnodeBeforeUnmount)&&Ns(Oe,D,S),Te&6)os(S.component,L,j);else{if(Te&128){S.suspense.unmount(L,j);return}V&&er(S,null,D,"beforeUnmount"),Te&64?S.type.remove(S,D,L,le,j):Z&&!Z.hasOnce&&(K!==qe||ce>0&&ce&64)?en(Z,D,L,!1,!0):(K===qe&&ce&384||!F&&Te&16)&&en(Q,D,L),j&&Le(S)}(Se&&(Oe=ie&&ie.onVnodeUnmounted)||V)&&$n(()=>{Oe&&Ns(Oe,D,S),V&&er(S,null,D,"unmounted")},L)},Le=S=>{const{type:D,el:L,anchor:j,transition:F}=S;if(D===qe){ct(L,j);return}if(D===Eu){k(S);return}const K=()=>{i(L),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(S.shapeFlag&1&&F&&!F.persisted){const{leave:ie,delayLeave:ne}=F,Q=()=>ie(L,K);ne?ne(S.el,K,Q):Q()}else K()},ct=(S,D)=>{let L;for(;S!==D;)L=h(S),i(S),S=L;i(D)},os=(S,D,L)=>{const{bum:j,scope:F,job:K,subTree:ie,um:ne,m:Q,a:Z}=S;qd(Q),qd(Z),j&&du(j),F.stop(),K&&(K.flags|=8,ee(ie,S,D,L)),ne&&$n(ne,D),$n(()=>{S.isUnmounted=!0},D),D&&D.pendingBranch&&!D.isUnmounted&&S.asyncDep&&!S.asyncResolved&&S.suspenseId===D.pendingId&&(D.deps--,D.deps===0&&D.resolve())},en=(S,D,L,j=!1,F=!1,K=0)=>{for(let ie=K;ie<S.length;ie++)ee(S[ie],D,L,j,F)},$=S=>{if(S.shapeFlag&6)return $(S.component.subTree);if(S.shapeFlag&128)return S.suspense.next();const D=h(S.anchor||S.el),L=D&&D[gb];return L?h(L):D};let oe=!1;const J=(S,D,L)=>{S==null?D._vnode&&ee(D._vnode,null,null,!0):m(D._vnode||null,S,D,null,null,null,L),D._vnode=S,oe||(oe=!0,Ud(),fg(),oe=!1)},le={p:m,um:ee,m:X,r:Le,mt:De,mc:M,pc:Ee,pbc:R,n:$,o:t};let Ye,Ke;return{render:J,hydrate:Ye,createApp:Yb(J,Ye)}}function bu({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function tr({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Kb(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Pg(t,e,n=!1){const s=t.children,i=e.children;if(_e(s)&&_e(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=_i(i[r]),a.el=o.el),!n&&a.patchFlag!==-2&&Pg(o,a)),a.type===Ac&&(a.el=o.el)}}function Gb(t){const e=t.slice(),n=[0];let s,i,r,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(i=n[n.length-1],t[i]<c){e[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,t[n[a]]<c?r=a+1:o=a;c<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}function $g(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:$g(e)}function qd(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Zb=Symbol.for("v-scx"),Xb=()=>ks(Zb);function xr(t,e){return kh(t,null,e)}function ht(t,e,n){return kh(t,e,n)}function kh(t,e,n=it){const{immediate:s,deep:i,flush:r,once:o}=n,a=$t({},n);let l;if(Nc)if(r==="sync"){const h=Xb();l=h.__watcherHandles||(h.__watcherHandles=[])}else if(!e||s)a.once=!0;else{const h=()=>{};return h.stop=Fs,h.resume=Fs,h.pause=Fs,h}const c=Qt;a.call=(h,d,y)=>_s(h,c,d,y);let u=!1;r==="post"?a.scheduler=h=>{$n(h,c&&c.suspense)}:r!=="sync"&&(u=!0,a.scheduler=(h,d)=>{d?h():bh(h)}),a.augmentJob=h=>{e&&(h.flags|=4),u&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const f=db(t,e,a);return l&&l.push(f),f}function Jb(t,e,n){const s=this.proxy,i=Dt(t)?t.includes(".")?Yg(s,t):()=>s[t]:t.bind(s,s);let r;Ae(e)?r=e:(r=e.handler,n=e);const o=Ha(this),a=kh(i,r.bind(s),n);return o(),a}function Yg(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}const Qb=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Hi(e)}Modifiers`]||t[`${Mr(e)}Modifiers`];function eT(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||it;let i=n;const r=e.startsWith("update:"),o=r&&Qb(s,e.slice(7));o&&(o.trim&&(i=n.map(u=>Dt(u)?u.trim():u)),o.number&&(i=n.map(M1)));let a,l=s[a=Ll(e)]||s[a=Ll(Hi(e))];!l&&r&&(l=s[a=Ll(Mr(e))]),l&&_s(l,t,6,i);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,_s(c,t,6,i)}}function Fg(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const r=t.emits;let o={},a=!1;if(!Ae(t)){const l=c=>{const u=Fg(c,e,!0);u&&(a=!0,$t(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(dt(t)&&s.set(t,null),null):(_e(r)?r.forEach(l=>o[l]=null):$t(o,r),dt(t)&&s.set(t,o),o)}function Cc(t,e){return!t||!Ec(e)?!1:(e=e.slice(2).replace(/Once$/,""),Je(t,e[0].toLowerCase()+e.slice(1))||Je(t,Mr(e))||Je(t,e))}function Tu(t){const{type:e,vnode:n,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:f,data:h,setupState:d,ctx:y,inheritAttrs:m}=t,p=Zl(t);let g,w;try{if(n.shapeFlag&4){const k=i||s,_=k;g=Ps(c.call(_,k,u,f,d,h,y)),w=a}else{const k=e;g=Ps(k.length>1?k(f,{attrs:a,slots:o,emit:l}):k(f,null)),w=e.props?a:tT(a)}}catch(k){aa.length=0,Oc(k,t,1),g=xe(On)}let T=g;if(w&&m!==!1){const k=Object.keys(w),{shapeFlag:_}=T;k.length&&_&7&&(r&&k.some(rh)&&(w=nT(w,r)),T=Wi(T,w,!1,!0))}return n.dirs&&(T=Wi(T,null,!1,!0),T.dirs=T.dirs?T.dirs.concat(n.dirs):n.dirs),n.transition&&Ea(T,n.transition),g=T,Zl(p),g}const tT=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ec(n))&&((e||(e={}))[n]=t[n]);return e},nT=(t,e)=>{const n={};for(const s in t)(!rh(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function sT(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Kd(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const h=u[f];if(o[h]!==s[h]&&!Cc(c,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Kd(s,o,c):!0:!!o;return!1}function Kd(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!Cc(n,r))return!0}return!1}function iT({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const Ug=t=>t.__isSuspense;function rT(t,e){e&&e.pendingBranch?_e(t)?e.effects.push(...t):e.effects.push(t):yb(t)}const qe=Symbol.for("v-fgt"),Ac=Symbol.for("v-txt"),On=Symbol.for("v-cmt"),Eu=Symbol.for("v-stc"),aa=[];let Hn=null;function te(t=!1){aa.push(Hn=t?null:[])}function oT(){aa.pop(),Hn=aa[aa.length-1]||null}let ka=1;function Gd(t){ka+=t,t<0&&Hn&&(Hn.hasOnce=!0)}function zg(t){return t.dynamicChildren=ka>0?Hn||eo:null,oT(),ka>0&&Hn&&Hn.push(t),t}function pe(t,e,n,s,i,r){return zg(q(t,e,n,s,i,r,!0))}function mt(t,e,n,s,i){return zg(xe(t,e,n,s,i,!0))}function _a(t){return t?t.__v_isVNode===!0:!1}function cr(t,e){return t.type===e.type&&t.key===e.key}const Hg=({key:t})=>t??null,Pl=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Dt(t)||Et(t)||Ae(t)?{i:qt,r:t,k:e,f:!!n}:t:null);function q(t,e=null,n=null,s=0,i=null,r=t===qe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Hg(e),ref:e&&Pl(e),scopeId:dg,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:qt};return a?(_h(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=Dt(n)?8:16),ka>0&&!o&&Hn&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Hn.push(l),l}const xe=aT;function aT(t,e=null,n=null,s=0,i=null,r=!1){if((!t||t===xb)&&(t=On),_a(t)){const a=Wi(t,e,!0);return n&&_h(a,n),ka>0&&!r&&Hn&&(a.shapeFlag&6?Hn[Hn.indexOf(t)]=a:Hn.push(a)),a.patchFlag=-2,a}if(gT(t)&&(t=t.__vccOpts),e){e=lT(e);let{class:a,style:l}=e;a&&!Dt(a)&&(e.class=jt(a)),dt(l)&&(yh(l)&&!_e(l)&&(l=$t({},l)),e.style=tt(l))}const o=Dt(t)?1:Ug(t)?128:mg(t)?64:dt(t)?4:Ae(t)?2:0;return q(t,e,n,s,i,o,r,!0)}function lT(t){return t?yh(t)||Mg(t)?$t({},t):t:null}function Wi(t,e,n=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:a,transition:l}=t,c=e?ji(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Hg(c),ref:e&&e.ref?n&&r?_e(r)?r.concat(Pl(e)):[r,Pl(e)]:Pl(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==qe?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Wi(t.ssContent),ssFallback:t.ssFallback&&Wi(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&Ea(u,l.clone(u)),u}function cT(t=" ",e=0){return xe(Ac,null,t,e)}function nt(t="",e=!1){return e?(te(),mt(On,null,t)):xe(On,null,t)}function Ps(t){return t==null||typeof t=="boolean"?xe(On):_e(t)?xe(qe,null,t.slice()):_a(t)?_i(t):xe(Ac,null,String(t))}function _i(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Wi(t)}function _h(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(_e(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),_h(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!Mg(e)?e._ctx=qt:i===3&&qt&&(qt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ae(e)?(e={default:e,_ctx:qt},n=32):(e=String(e),s&64?(n=16,e=[cT(e)]):n=8);t.children=e,t.shapeFlag|=n}function ji(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=jt([e.class,s.class]));else if(i==="style")e.style=tt([e.style,s.style]);else if(Ec(i)){const r=e[i],o=s[i];o&&r!==o&&!(_e(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function Ns(t,e,n,s=null){_s(t,e,7,[n,s])}const uT=Dg();let fT=0;function hT(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||uT,r={uid:fT++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Hy(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Cg(s,i),emitsOptions:Fg(s,i),emit:null,emitted:null,propsDefaults:it,inheritAttrs:s.inheritAttrs,ctx:it,data:it,props:it,attrs:it,slots:it,refs:it,setupState:it,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=eT.bind(null,r),t.ce&&t.ce(r),r}let Qt=null;const Bg=()=>Qt||qt;let Jl,ff;{const t=Yy(),e=(n,s)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};Jl=e("__VUE_INSTANCE_SETTERS__",n=>Qt=n),ff=e("__VUE_SSR_SETTERS__",n=>Nc=n)}const Ha=t=>{const e=Qt;return Jl(t),t.scope.on(),()=>{t.scope.off(),Jl(e)}},Zd=()=>{Qt&&Qt.scope.off(),Jl(null)};function Wg(t){return t.vnode.shapeFlag&4}let Nc=!1;function dT(t,e=!1,n=!1){e&&ff(e);const{props:s,children:i}=t.vnode,r=Wg(t);Ub(t,s,r,e),Wb(t,i,n);const o=r?mT(t,e):void 0;return e&&ff(!1),o}function mT(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Cb);const{setup:s}=n;if(s){const i=t.setupContext=s.length>1?yT(t):null,r=Ha(t);Zi();const o=za(s,t,0,[t.props,i]);if(Xi(),r(),Ny(o)){if(io(t)||bg(t),o.then(Zd,Zd),e)return o.then(a=>{Xd(t,a,e)}).catch(a=>{Oc(a,t,0)});t.asyncDep=o}else Xd(t,o,e)}else jg(t,e)}function Xd(t,e,n){Ae(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:dt(e)&&(t.setupState=lg(e)),jg(t,n)}let Jd;function jg(t,e,n){const s=t.type;if(!t.render){if(!e&&Jd&&!s.render){const i=s.template||Eh(t).template;if(i){const{isCustomElement:r,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=s,c=$t($t({isCustomElement:r,delimiters:a},o),l);s.render=Jd(i,c)}}t.render=s.render||Fs}{const i=Ha(t);Zi();try{Ab(t)}finally{Xi(),i()}}}const pT={get(t,e){return pn(t,"get",""),t[e]}};function yT(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,pT),slots:t.slots,emit:t.emit,expose:e}}function Lc(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(lg(gh(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in oa)return oa[n](t)},has(e,n){return n in e||n in oa}})):t.proxy}function gT(t){return Ae(t)&&"__vccOpts"in t}const A=(t,e)=>Zs(t,e,Nc);function Dh(t,e,n){const s=arguments.length;return s===2?dt(e)&&!_e(e)?_a(e)?xe(t,null,[e]):xe(t,e):xe(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&_a(n)&&(n=[n]),xe(t,e,n))}const vT="3.5.10";/**
* @vue/runtime-dom v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let hf;const Qd=typeof window<"u"&&window.trustedTypes;if(Qd)try{hf=Qd.createPolicy("vue",{createHTML:t=>t})}catch{}const Vg=hf?t=>hf.createHTML(t):t=>t,wT="http://www.w3.org/2000/svg",bT="http://www.w3.org/1998/Math/MathML",Gs=typeof document<"u"?document:null,em=Gs&&Gs.createElement("template"),TT={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e==="svg"?Gs.createElementNS(wT,t):e==="mathml"?Gs.createElementNS(bT,t):n?Gs.createElement(t,{is:n}):Gs.createElement(t);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>Gs.createTextNode(t),createComment:t=>Gs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Gs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{em.innerHTML=Vg(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=em.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},ci="transition",jo="animation",Da=Symbol("_vtc"),qg={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},ET=$t({},pg,qg),ST=t=>(t.displayName="Transition",t.props=ET,t),Kg=ST((t,{slots:e})=>Dh(bb,kT(t),e)),nr=(t,e=[])=>{_e(t)?t.forEach(n=>n(...e)):t&&t(...e)},tm=t=>t?_e(t)?t.some(e=>e.length>1):t.length>1:!1;function kT(t){const e={};for(const N in t)N in qg||(e[N]=t[N]);if(t.css===!1)return e;const{name:n="v",type:s,duration:i,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=r,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=t,y=_T(i),m=y&&y[0],p=y&&y[1],{onBeforeEnter:g,onEnter:w,onEnterCancelled:T,onLeave:k,onLeaveCancelled:_,onBeforeAppear:C=g,onAppear:I=w,onAppearCancelled:M=T}=e,x=(N,se,De)=>{sr(N,se?u:a),sr(N,se?c:o),De&&De()},R=(N,se)=>{N._isLeaving=!1,sr(N,f),sr(N,d),sr(N,h),se&&se()},W=N=>(se,De)=>{const Xe=N?I:w,Re=()=>x(se,N,De);nr(Xe,[se,Re]),nm(()=>{sr(se,N?l:r),ui(se,N?u:a),tm(Xe)||sm(se,s,m,Re)})};return $t(e,{onBeforeEnter(N){nr(g,[N]),ui(N,r),ui(N,o)},onBeforeAppear(N){nr(C,[N]),ui(N,l),ui(N,c)},onEnter:W(!1),onAppear:W(!0),onLeave(N,se){N._isLeaving=!0;const De=()=>R(N,se);ui(N,f),ui(N,h),IT(),nm(()=>{N._isLeaving&&(sr(N,f),ui(N,d),tm(k)||sm(N,s,p,De))}),nr(k,[N,De])},onEnterCancelled(N){x(N,!1),nr(T,[N])},onAppearCancelled(N){x(N,!0),nr(M,[N])},onLeaveCancelled(N){R(N),nr(_,[N])}})}function _T(t){if(t==null)return null;if(dt(t))return[Su(t.enter),Su(t.leave)];{const e=Su(t);return[e,e]}}function Su(t){return x1(t)}function ui(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Da]||(t[Da]=new Set)).add(e)}function sr(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const n=t[Da];n&&(n.delete(e),n.size||(t[Da]=void 0))}function nm(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let DT=0;function sm(t,e,n,s){const i=t._endId=++DT,r=()=>{i===t._endId&&s()};if(n!=null)return setTimeout(r,n);const{type:o,timeout:a,propCount:l}=OT(t,e);if(!o)return s();const c=o+"end";let u=0;const f=()=>{t.removeEventListener(c,h),r()},h=d=>{d.target===t&&++u>=l&&f()};setTimeout(()=>{u<l&&f()},a+1),t.addEventListener(c,h)}function OT(t,e){const n=window.getComputedStyle(t),s=y=>(n[y]||"").split(", "),i=s(`${ci}Delay`),r=s(`${ci}Duration`),o=im(i,r),a=s(`${jo}Delay`),l=s(`${jo}Duration`),c=im(a,l);let u=null,f=0,h=0;e===ci?o>0&&(u=ci,f=o,h=r.length):e===jo?c>0&&(u=jo,f=c,h=l.length):(f=Math.max(o,c),u=f>0?o>c?ci:jo:null,h=u?u===ci?r.length:l.length:0);const d=u===ci&&/\b(transform|all)(,|$)/.test(s(`${ci}Property`).toString());return{type:u,timeout:f,propCount:h,hasTransform:d}}function im(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>rm(n)+rm(t[s])))}function rm(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function IT(){return document.body.offsetHeight}function MT(t,e,n){const s=t[Da];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Ql=Symbol("_vod"),Gg=Symbol("_vsh"),ro={beforeMount(t,{value:e},{transition:n}){t[Ql]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Vo(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),Vo(t,!0),s.enter(t)):s.leave(t,()=>{Vo(t,!1)}):Vo(t,e))},beforeUnmount(t,{value:e}){Vo(t,e)}};function Vo(t,e){t.style.display=e?t[Ql]:"none",t[Gg]=!e}const xT=Symbol(""),CT=/(^|;)\s*display\s*:/;function AT(t,e,n){const s=t.style,i=Dt(n);let r=!1;if(n&&!i){if(e)if(Dt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&$l(s,a,"")}else for(const o in e)n[o]==null&&$l(s,o,"");for(const o in n)o==="display"&&(r=!0),$l(s,o,n[o])}else if(i){if(e!==n){const o=s[xT];o&&(n+=";"+o),s.cssText=n,r=CT.test(n)}}else e&&t.removeAttribute("style");Ql in t&&(t[Ql]=r?s.display:"",t[Gg]&&(s.display="none"))}const om=/\s*!important$/;function $l(t,e,n){if(_e(n))n.forEach(s=>$l(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=NT(t,e);om.test(n)?t.setProperty(Mr(s),n.replace(om,""),"important"):t[s]=n}}const am=["Webkit","Moz","ms"],ku={};function NT(t,e){const n=ku[e];if(n)return n;let s=Hi(e);if(s!=="filter"&&s in t)return ku[e]=s;s=Py(s);for(let i=0;i<am.length;i++){const r=am[i]+s;if(r in t)return ku[e]=r}return e}const lm="http://www.w3.org/1999/xlink";function cm(t,e,n,s,i,r=P1(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(lm,e.slice(6,e.length)):t.setAttributeNS(lm,e,n):n==null||r&&!Fy(n)?t.removeAttribute(e):t.setAttribute(e,r?"":Gi(n)?String(n):n)}function um(t,e,n,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Vg(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const o=i==="OPTION"?t.getAttribute("value")||"":t.value,a=n==null?t.type==="checkbox"?"on":"":String(n);(o!==a||!("_value"in t))&&(t.value=a),n==null&&t.removeAttribute(e),t._value=n;return}let r=!1;if(n===""||n==null){const o=typeof t[e];o==="boolean"?n=Fy(n):n==null&&o==="string"?(n="",r=!0):o==="number"&&(n=0,r=!0)}try{t[e]=n}catch{}r&&t.removeAttribute(e)}function LT(t,e,n,s){t.addEventListener(e,n,s)}function RT(t,e,n,s){t.removeEventListener(e,n,s)}const fm=Symbol("_vei");function PT(t,e,n,s,i=null){const r=t[fm]||(t[fm]={}),o=r[e];if(s&&o)o.value=s;else{const[a,l]=$T(e);if(s){const c=r[e]=UT(s,i);LT(t,a,c,l)}else o&&(RT(t,a,o,l),r[e]=void 0)}}const hm=/(?:Once|Passive|Capture)$/;function $T(t){let e;if(hm.test(t)){e={};let s;for(;s=t.match(hm);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Mr(t.slice(2)),e]}let _u=0;const YT=Promise.resolve(),FT=()=>_u||(YT.then(()=>_u=0),_u=Date.now());function UT(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;_s(zT(s,n.value),e,5,[s])};return n.value=t,n.attached=FT(),n}function zT(t,e){if(_e(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const dm=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,HT=(t,e,n,s,i,r)=>{const o=i==="svg";e==="class"?MT(t,s,o):e==="style"?AT(t,n,s):Ec(e)?rh(e)||PT(t,e,n,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):BT(t,e,s,o))?(um(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&cm(t,e,s,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Dt(s))?um(t,Hi(e),s):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),cm(t,e,s,o))};function BT(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&dm(e)&&Ae(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return dm(e)&&Dt(n)?!1:e in t}const WT=["ctrl","shift","alt","meta"],jT={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>WT.some(n=>t[`${n}Key`]&&!e.includes(n))},on=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(i,...r)=>{for(let o=0;o<e.length;o++){const a=jT[e[o]];if(a&&a(i,e))return}return t(i,...r)})},VT=$t({patchProp:HT},TT);let mm;function qT(){return mm||(mm=Vb(VT))}const KT=(...t)=>{const e=qT().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=ZT(s);if(!i)return;const r=e._component;!Ae(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,GT(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function GT(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function ZT(t){return Dt(t)?document.querySelector(t):t}var XT=!1;/*!
 * pinia v2.2.2
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let Zg;const Rc=t=>Zg=t,Xg=Symbol();function df(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var la;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(la||(la={}));function JT(){const t=By(!0),e=t.run(()=>he({}));let n=[],s=[];const i=gh({install(r){Rc(i),i._a=r,r.provide(Xg,i),r.config.globalProperties.$pinia=i,s.forEach(o=>n.push(o)),s=[]},use(r){return!this._a&&!XT?s.push(r):n.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const Jg=()=>{};function pm(t,e,n,s=Jg){t.push(e);const i=()=>{const r=t.indexOf(e);r>-1&&(t.splice(r,1),s())};return!n&&lh()&&Wy(i),i}function Fr(t,...e){t.slice().forEach(n=>{n(...e)})}const QT=t=>t(),ym=Symbol(),Du=Symbol();function mf(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],i=t[n];df(i)&&df(s)&&t.hasOwnProperty(n)&&!Et(s)&&!Yi(s)?t[n]=mf(i,s):t[n]=s}return t}const eE=Symbol();function tE(t){return!df(t)||!t.hasOwnProperty(eE)}const{assign:vi}=Object;function nE(t){return!!(Et(t)&&t.effect)}function sE(t,e,n,s){const{state:i,actions:r,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=i?i():{});const u=lb(n.state.value[t]);return vi(u,r,Object.keys(o||{}).reduce((f,h)=>(f[h]=gh(A(()=>{Rc(n);const d=n._s.get(t);return o[h].call(d,d)})),f),{}))}return l=Qg(t,c,e,n,s,!0),l}function Qg(t,e,n={},s,i,r){let o;const a=vi({actions:{}},n),l={deep:!0};let c,u,f=[],h=[],d;const y=s.state.value[t];!r&&!y&&(s.state.value[t]={}),he({});let m;function p(M){let x;c=u=!1,typeof M=="function"?(M(s.state.value[t]),x={type:la.patchFunction,storeId:t,events:d}):(mf(s.state.value[t],M),x={type:la.patchObject,payload:M,storeId:t,events:d});const R=m=Symbol();bs().then(()=>{m===R&&(c=!0)}),u=!0,Fr(f,x,s.state.value[t])}const g=r?function(){const{state:x}=n,R=x?x():{};this.$patch(W=>{vi(W,R)})}:Jg;function w(){o.stop(),f=[],h=[],s._s.delete(t)}const T=(M,x="")=>{if(ym in M)return M[Du]=x,M;const R=function(){Rc(s);const W=Array.from(arguments),N=[],se=[];function De(be){N.push(be)}function Xe(be){se.push(be)}Fr(h,{args:W,name:R[Du],store:_,after:De,onError:Xe});let Re;try{Re=M.apply(this&&this.$id===t?this:_,W)}catch(be){throw Fr(se,be),be}return Re instanceof Promise?Re.then(be=>(Fr(N,be),be)).catch(be=>(Fr(se,be),Promise.reject(be))):(Fr(N,Re),Re)};return R[ym]=!0,R[Du]=x,R},k={_p:s,$id:t,$onAction:pm.bind(null,h),$patch:p,$reset:g,$subscribe(M,x={}){const R=pm(f,M,x.detached,()=>W()),W=o.run(()=>ht(()=>s.state.value[t],N=>{(x.flush==="sync"?u:c)&&M({storeId:t,type:la.direct,events:d},N)},vi({},l,x)));return R},$dispose:w},_=Sr(k);s._s.set(t,_);const I=(s._a&&s._a.runWithContext||QT)(()=>s._e.run(()=>(o=By()).run(()=>e({action:T}))));for(const M in I){const x=I[M];if(Et(x)&&!nE(x)||Yi(x))r||(y&&tE(x)&&(Et(x)?x.value=y[M]:mf(x,y[M])),s.state.value[t][M]=x);else if(typeof x=="function"){const R=T(x,M);I[M]=R,a.actions[M]=x}}return vi(_,I),vi(We(_),I),Object.defineProperty(_,"$state",{get:()=>s.state.value[t],set:M=>{p(x=>{vi(x,M)})}}),s._p.forEach(M=>{vi(_,o.run(()=>M({store:_,app:s._a,pinia:s,options:a})))}),y&&r&&n.hydrate&&n.hydrate(_.$state,y),c=!0,u=!0,_}function xo(t,e,n){let s,i;const r=typeof e=="function";typeof t=="string"?(s=t,i=r?n:e):(i=t,s=t.id);function o(a,l){const c=Fb();return a=a||(c?ks(Xg,null):null),a&&Rc(a),a=Zg,a._s.has(s)||(r?Qg(s,e,i,a):sE(s,i,a)),a._s.get(s)}return o.$id=s,o}const Ba=(t,e)=>!t||!e?!1:t.join(",")===e.join(",");class Cr extends Error{}class iE extends Cr{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class rE extends Cr{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class oE extends Cr{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Zr extends Cr{}class e0 extends Cr{constructor(e){super(`Invalid unit ${e}`)}}class an extends Cr{}class fi extends Cr{constructor(){super("Zone is an abstract class")}}const ae="numeric",Os="short",jn="long",ec={year:ae,month:ae,day:ae},t0={year:ae,month:Os,day:ae},aE={year:ae,month:Os,day:ae,weekday:Os},n0={year:ae,month:jn,day:ae},s0={year:ae,month:jn,day:ae,weekday:jn},i0={hour:ae,minute:ae},r0={hour:ae,minute:ae,second:ae},o0={hour:ae,minute:ae,second:ae,timeZoneName:Os},a0={hour:ae,minute:ae,second:ae,timeZoneName:jn},l0={hour:ae,minute:ae,hourCycle:"h23"},c0={hour:ae,minute:ae,second:ae,hourCycle:"h23"},u0={hour:ae,minute:ae,second:ae,hourCycle:"h23",timeZoneName:Os},f0={hour:ae,minute:ae,second:ae,hourCycle:"h23",timeZoneName:jn},h0={year:ae,month:ae,day:ae,hour:ae,minute:ae},d0={year:ae,month:ae,day:ae,hour:ae,minute:ae,second:ae},m0={year:ae,month:Os,day:ae,hour:ae,minute:ae},p0={year:ae,month:Os,day:ae,hour:ae,minute:ae,second:ae},lE={year:ae,month:Os,day:ae,weekday:Os,hour:ae,minute:ae},y0={year:ae,month:jn,day:ae,hour:ae,minute:ae,timeZoneName:Os},g0={year:ae,month:jn,day:ae,hour:ae,minute:ae,second:ae,timeZoneName:Os},v0={year:ae,month:jn,day:ae,weekday:jn,hour:ae,minute:ae,timeZoneName:jn},w0={year:ae,month:jn,day:ae,weekday:jn,hour:ae,minute:ae,second:ae,timeZoneName:jn};class Wa{get type(){throw new fi}get name(){throw new fi}get ianaName(){return this.name}get isUniversal(){throw new fi}offsetName(e,n){throw new fi}formatOffset(e,n){throw new fi}offset(e){throw new fi}equals(e){throw new fi}get isValid(){throw new fi}}let Ou=null;class ja extends Wa{static get instance(){return Ou===null&&(Ou=new ja),Ou}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:s}){return x0(e,n,s)}formatOffset(e,n){return ca(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}const pf=new Map;function cE(t){let e=pf.get(t);return e===void 0&&(e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),pf.set(t,e)),e}const uE={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function fE(t,e){const n=t.format(e).replace(/\u200E/g,""),s=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,i,r,o,a,l,c,u]=s;return[o,i,r,a,l,c,u]}function hE(t,e){const n=t.formatToParts(e),s=[];for(let i=0;i<n.length;i++){const{type:r,value:o}=n[i],a=uE[r];r==="era"?s[a]=o:Ie(a)||(s[a]=parseInt(o,10))}return s}const Iu=new Map;class si extends Wa{static create(e){let n=Iu.get(e);return n===void 0&&Iu.set(e,n=new si(e)),n}static resetCache(){Iu.clear(),pf.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=si.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:s}){return x0(e,n,s,this.name)}formatOffset(e,n){return ca(this.offset(e),n)}offset(e){if(!this.valid)return NaN;const n=new Date(e);if(isNaN(n))return NaN;const s=cE(this.name);let[i,r,o,a,l,c,u]=s.formatToParts?hE(s,n):fE(s,n);a==="BC"&&(i=-Math.abs(i)+1);const h=$c({year:i,month:r,day:o,hour:l===24?0:l,minute:c,second:u,millisecond:0});let d=+n;const y=d%1e3;return d-=y>=0?y:1e3+y,(h-d)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let gm={};function dE(t,e={}){const n=JSON.stringify([t,e]);let s=gm[n];return s||(s=new Intl.ListFormat(t,e),gm[n]=s),s}const yf=new Map;function gf(t,e={}){const n=JSON.stringify([t,e]);let s=yf.get(n);return s===void 0&&(s=new Intl.DateTimeFormat(t,e),yf.set(n,s)),s}const vf=new Map;function mE(t,e={}){const n=JSON.stringify([t,e]);let s=vf.get(n);return s===void 0&&(s=new Intl.NumberFormat(t,e),vf.set(n,s)),s}const wf=new Map;function pE(t,e={}){const{base:n,...s}=e,i=JSON.stringify([t,s]);let r=wf.get(i);return r===void 0&&(r=new Intl.RelativeTimeFormat(t,e),wf.set(i,r)),r}let Qo=null;function yE(){return Qo||(Qo=new Intl.DateTimeFormat().resolvedOptions().locale,Qo)}const bf=new Map;function b0(t){let e=bf.get(t);return e===void 0&&(e=new Intl.DateTimeFormat(t).resolvedOptions(),bf.set(t,e)),e}const Tf=new Map;function gE(t){let e=Tf.get(t);if(!e){const n=new Intl.Locale(t);e="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,"minimalDays"in e||(e={...T0,...e}),Tf.set(t,e)}return e}function vE(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const n=t.indexOf("-u-");if(n===-1)return[t];{let s,i;try{s=gf(t).resolvedOptions(),i=t}catch{const l=t.substring(0,n);s=gf(l).resolvedOptions(),i=l}const{numberingSystem:r,calendar:o}=s;return[i,r,o]}}function wE(t,e,n){return(n||e)&&(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function bE(t){const e=[];for(let n=1;n<=12;n++){const s=H.utc(2009,n,1);e.push(t(s))}return e}function TE(t){const e=[];for(let n=1;n<=7;n++){const s=H.utc(2016,11,13+n);e.push(t(s))}return e}function pl(t,e,n,s){const i=t.listingMode();return i==="error"?null:i==="en"?n(e):s(e)}function EE(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||b0(t.locale).numberingSystem==="latn"}class SE{constructor(e,n,s){this.padTo=s.padTo||0,this.floor=s.floor||!1;const{padTo:i,floor:r,...o}=s;if(!n||Object.keys(o).length>0){const a={useGrouping:!1,...s};s.padTo>0&&(a.minimumIntegerDigits=s.padTo),this.inf=mE(e,a)}}format(e){if(this.inf){const n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{const n=this.floor?Math.floor(e):Ch(e,3);return Ct(n,this.padTo)}}}class kE{constructor(e,n,s){this.opts=s,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const o=-1*(e.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&si.create(a).valid?(i=a,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const r={...this.opts};r.timeZone=r.timeZone||i,this.dtf=gf(n,r)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(n=>{if(n.type==="timeZoneName"){const s=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...n,value:s}}else return n}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class _E{constructor(e,n,s){this.opts={style:"long",...s},!n&&I0()&&(this.rtf=pE(e,s))}format(e,n){return this.rtf?this.rtf.format(e,n):qE(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}}const T0={firstDay:1,minimalDays:4,weekend:[6,7]};class et{static fromOpts(e){return et.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,n,s,i,r=!1){const o=e||bt.defaultLocale,a=o||(r?"en-US":yE()),l=n||bt.defaultNumberingSystem,c=s||bt.defaultOutputCalendar,u=Sf(i)||bt.defaultWeekSettings;return new et(a,l,c,u,o)}static resetCache(){Qo=null,yf.clear(),vf.clear(),wf.clear(),bf.clear(),Tf.clear()}static fromObject({locale:e,numberingSystem:n,outputCalendar:s,weekSettings:i}={}){return et.create(e,n,s,i)}constructor(e,n,s,i,r){const[o,a,l]=vE(e);this.locale=o,this.numberingSystem=n||a||null,this.outputCalendar=s||l||null,this.weekSettings=i,this.intl=wE(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=r,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=EE(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:et.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,Sf(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1){return pl(this,e,N0,()=>{const s=n?{month:e,day:"numeric"}:{month:e},i=n?"format":"standalone";return this.monthsCache[i][e]||(this.monthsCache[i][e]=bE(r=>this.extract(r,s,"month"))),this.monthsCache[i][e]})}weekdays(e,n=!1){return pl(this,e,P0,()=>{const s=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=n?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=TE(r=>this.extract(r,s,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return pl(this,void 0,()=>$0,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[H.utc(2016,11,13,9),H.utc(2016,11,13,19)].map(n=>this.extract(n,e,"dayperiod"))}return this.meridiemCache})}eras(e){return pl(this,e,Y0,()=>{const n={era:e};return this.eraCache[e]||(this.eraCache[e]=[H.utc(-40,1,1),H.utc(2017,1,1)].map(s=>this.extract(s,n,"era"))),this.eraCache[e]})}extract(e,n,s){const i=this.dtFormatter(e,n),r=i.formatToParts(),o=r.find(a=>a.type.toLowerCase()===s);return o?o.value:null}numberFormatter(e={}){return new SE(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new kE(e,this.intl,n)}relFormatter(e={}){return new _E(this.intl,this.isEnglish(),e)}listFormatter(e={}){return dE(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||b0(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:M0()?gE(this.locale):T0}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let Mu=null;class In extends Wa{static get utcInstance(){return Mu===null&&(Mu=new In(0)),Mu}static instance(e){return e===0?In.utcInstance:new In(e)}static parseSpecifier(e){if(e){const n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new In(Yc(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${ca(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${ca(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return ca(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class DE extends Wa{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Mi(t,e){if(Ie(t)||t===null)return e;if(t instanceof Wa)return t;if(AE(t)){const n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?ja.instance:n==="utc"||n==="gmt"?In.utcInstance:In.parseSpecifier(n)||si.create(t)}else return Fi(t)?In.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new DE(t)}const Oh={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},vm={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},OE=Oh.hanidec.replace(/[\[|\]]/g,"").split("");function IE(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);if(t[n].search(Oh.hanidec)!==-1)e+=OE.indexOf(t[n]);else for(const i in vm){const[r,o]=vm[i];s>=r&&s<=o&&(e+=s-r)}}return parseInt(e,10)}else return e}const Ef=new Map;function ME(){Ef.clear()}function ls({numberingSystem:t},e=""){const n=t||"latn";let s=Ef.get(n);s===void 0&&(s=new Map,Ef.set(n,s));let i=s.get(e);return i===void 0&&(i=new RegExp(`${Oh[n]}${e}`),s.set(e,i)),i}let wm=()=>Date.now(),bm="system",Tm=null,Em=null,Sm=null,km=60,_m,Dm=null;class bt{static get now(){return wm}static set now(e){wm=e}static set defaultZone(e){bm=e}static get defaultZone(){return Mi(bm,ja.instance)}static get defaultLocale(){return Tm}static set defaultLocale(e){Tm=e}static get defaultNumberingSystem(){return Em}static set defaultNumberingSystem(e){Em=e}static get defaultOutputCalendar(){return Sm}static set defaultOutputCalendar(e){Sm=e}static get defaultWeekSettings(){return Dm}static set defaultWeekSettings(e){Dm=Sf(e)}static get twoDigitCutoffYear(){return km}static set twoDigitCutoffYear(e){km=e%100}static get throwOnInvalid(){return _m}static set throwOnInvalid(e){_m=e}static resetCaches(){et.resetCache(),si.resetCache(),H.resetCache(),ME()}}class Ts{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const E0=[0,31,59,90,120,151,181,212,243,273,304,334],S0=[0,31,60,91,121,152,182,213,244,274,305,335];function ts(t,e){return new Ts("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function Ih(t,e,n){const s=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&s.setUTCFullYear(s.getUTCFullYear()-1900);const i=s.getUTCDay();return i===0?7:i}function k0(t,e,n){return n+(Va(t)?S0:E0)[e-1]}function _0(t,e){const n=Va(t)?S0:E0,s=n.findIndex(r=>r<e),i=e-n[s];return{month:s+1,day:i}}function Mh(t,e){return(t-e+7)%7+1}function Oa(t,e=4,n=1){const{year:s,month:i,day:r}=t,o=k0(s,i,r),a=Mh(Ih(s,i,r),n);let l=Math.floor((o-a+14-e)/7),c;return l<1?(c=s-1,l=Ia(c,e,n)):l>Ia(s,e,n)?(c=s+1,l=1):c=s,{weekYear:c,weekNumber:l,weekday:a,...Fc(t)}}function Om(t,e=4,n=1){const{weekYear:s,weekNumber:i,weekday:r}=t,o=Mh(Ih(s,1,e),n),a=oo(s);let l=i*7+r-o-7+e,c;l<1?(c=s-1,l+=oo(c)):l>a?(c=s+1,l-=oo(s)):c=s;const{month:u,day:f}=_0(c,l);return{year:c,month:u,day:f,...Fc(t)}}function xu(t){const{year:e,month:n,day:s}=t,i=k0(e,n,s);return{year:e,ordinal:i,...Fc(t)}}function Im(t){const{year:e,ordinal:n}=t,{month:s,day:i}=_0(e,n);return{year:e,month:s,day:i,...Fc(t)}}function Mm(t,e){if(!Ie(t.localWeekday)||!Ie(t.localWeekNumber)||!Ie(t.localWeekYear)){if(!Ie(t.weekday)||!Ie(t.weekNumber)||!Ie(t.weekYear))throw new Zr("Cannot mix locale-based week fields with ISO-based week fields");return Ie(t.localWeekday)||(t.weekday=t.localWeekday),Ie(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),Ie(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function xE(t,e=4,n=1){const s=Pc(t.weekYear),i=ns(t.weekNumber,1,Ia(t.weekYear,e,n)),r=ns(t.weekday,1,7);return s?i?r?!1:ts("weekday",t.weekday):ts("week",t.weekNumber):ts("weekYear",t.weekYear)}function CE(t){const e=Pc(t.year),n=ns(t.ordinal,1,oo(t.year));return e?n?!1:ts("ordinal",t.ordinal):ts("year",t.year)}function D0(t){const e=Pc(t.year),n=ns(t.month,1,12),s=ns(t.day,1,tc(t.year,t.month));return e?n?s?!1:ts("day",t.day):ts("month",t.month):ts("year",t.year)}function O0(t){const{hour:e,minute:n,second:s,millisecond:i}=t,r=ns(e,0,23)||e===24&&n===0&&s===0&&i===0,o=ns(n,0,59),a=ns(s,0,59),l=ns(i,0,999);return r?o?a?l?!1:ts("millisecond",i):ts("second",s):ts("minute",n):ts("hour",e)}function Ie(t){return typeof t>"u"}function Fi(t){return typeof t=="number"}function Pc(t){return typeof t=="number"&&t%1===0}function AE(t){return typeof t=="string"}function NE(t){return Object.prototype.toString.call(t)==="[object Date]"}function I0(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function M0(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function LE(t){return Array.isArray(t)?t:[t]}function xm(t,e,n){if(t.length!==0)return t.reduce((s,i)=>{const r=[e(i),i];return s&&n(s[0],r[0])===s[0]?s:r},null)[1]}function RE(t,e){return e.reduce((n,s)=>(n[s]=t[s],n),{})}function bo(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Sf(t){if(t==null)return null;if(typeof t!="object")throw new an("Week settings must be an object");if(!ns(t.firstDay,1,7)||!ns(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!ns(e,1,7)))throw new an("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function ns(t,e,n){return Pc(t)&&t>=e&&t<=n}function PE(t,e){return t-e*Math.floor(t/e)}function Ct(t,e=2){const n=t<0;let s;return n?s="-"+(""+-t).padStart(e,"0"):s=(""+t).padStart(e,"0"),s}function Di(t){if(!(Ie(t)||t===null||t===""))return parseInt(t,10)}function ir(t){if(!(Ie(t)||t===null||t===""))return parseFloat(t)}function xh(t){if(!(Ie(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function Ch(t,e,n=!1){const s=10**e;return(n?Math.trunc:Math.round)(t*s)/s}function Va(t){return t%4===0&&(t%100!==0||t%400===0)}function oo(t){return Va(t)?366:365}function tc(t,e){const n=PE(e-1,12)+1,s=t+(e-n)/12;return n===2?Va(s)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function $c(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function Cm(t,e,n){return-Mh(Ih(t,1,e),n)+e-1}function Ia(t,e=4,n=1){const s=Cm(t,e,n),i=Cm(t+1,e,n);return(oo(t)-s+i)/7}function kf(t){return t>99?t:t>bt.twoDigitCutoffYear?1900+t:2e3+t}function x0(t,e,n,s=null){const i=new Date(t),r={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};s&&(r.timeZone=s);const o={timeZoneName:e,...r},a=new Intl.DateTimeFormat(n,o).formatToParts(i).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function Yc(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const s=parseInt(e,10)||0,i=n<0||Object.is(n,-0)?-s:s;return n*60+i}function C0(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new an(`Invalid unit value ${t}`);return e}function nc(t,e){const n={};for(const s in t)if(bo(t,s)){const i=t[s];if(i==null)continue;n[e(s)]=C0(i)}return n}function ca(t,e){const n=Math.trunc(Math.abs(t/60)),s=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${Ct(n,2)}:${Ct(s,2)}`;case"narrow":return`${i}${n}${s>0?`:${s}`:""}`;case"techie":return`${i}${Ct(n,2)}${Ct(s,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Fc(t){return RE(t,["hour","minute","second","millisecond"])}const $E=["January","February","March","April","May","June","July","August","September","October","November","December"],A0=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],YE=["J","F","M","A","M","J","J","A","S","O","N","D"];function N0(t){switch(t){case"narrow":return[...YE];case"short":return[...A0];case"long":return[...$E];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const L0=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],R0=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],FE=["M","T","W","T","F","S","S"];function P0(t){switch(t){case"narrow":return[...FE];case"short":return[...R0];case"long":return[...L0];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const $0=["AM","PM"],UE=["Before Christ","Anno Domini"],zE=["BC","AD"],HE=["B","A"];function Y0(t){switch(t){case"narrow":return[...HE];case"short":return[...zE];case"long":return[...UE];default:return null}}function BE(t){return $0[t.hour<12?0:1]}function WE(t,e){return P0(e)[t.weekday-1]}function jE(t,e){return N0(e)[t.month-1]}function VE(t,e){return Y0(e)[t.year<0?0:1]}function qE(t,e,n="always",s=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},r=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&r){const f=t==="days";switch(e){case 1:return f?"tomorrow":`next ${i[t][0]}`;case-1:return f?"yesterday":`last ${i[t][0]}`;case 0:return f?"today":`this ${i[t][0]}`}}const o=Object.is(e,-0)||e<0,a=Math.abs(e),l=a===1,c=i[t],u=s?l?c[1]:c[2]||c[1]:l?i[t][0]:t;return o?`${a} ${u} ago`:`in ${a} ${u}`}function Am(t,e){let n="";for(const s of t)s.literal?n+=s.val:n+=e(s.val);return n}const KE={D:ec,DD:t0,DDD:n0,DDDD:s0,t:i0,tt:r0,ttt:o0,tttt:a0,T:l0,TT:c0,TTT:u0,TTTT:f0,f:h0,ff:m0,fff:y0,ffff:v0,F:d0,FF:p0,FFF:g0,FFFF:w0};class dn{static create(e,n={}){return new dn(e,n)}static parseFormat(e){let n=null,s="",i=!1;const r=[];for(let o=0;o<e.length;o++){const a=e.charAt(o);a==="'"?(s.length>0&&r.push({literal:i||/^\s+$/.test(s),val:s}),n=null,s="",i=!i):i||a===n?s+=a:(s.length>0&&r.push({literal:/^\s+$/.test(s),val:s}),s=a,n=a)}return s.length>0&&r.push({literal:i||/^\s+$/.test(s),val:s}),r}static macroTokenToFormatOpts(e){return KE[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}dtFormatter(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n})}formatDateTime(e,n){return this.dtFormatter(e,n).format()}formatDateTimeParts(e,n){return this.dtFormatter(e,n).formatToParts()}formatInterval(e,n){return this.dtFormatter(e.start,n).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,n){return this.dtFormatter(e,n).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return Ct(e,n);const s={...this.opts};return n>0&&(s.padTo=n),this.loc.numberFormatter(s).format(e)}formatDateTimeFromString(e,n){const s=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",r=(d,y)=>this.loc.extract(e,d,y),o=d=>e.isOffsetFixed&&e.offset===0&&d.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,d.format):"",a=()=>s?BE(e):r({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(d,y)=>s?jE(e,d):r(y?{month:d}:{month:d,day:"numeric"},"month"),c=(d,y)=>s?WE(e,d):r(y?{weekday:d}:{weekday:d,month:"long",day:"numeric"},"weekday"),u=d=>{const y=dn.macroTokenToFormatOpts(d);return y?this.formatWithSystemDefault(e,y):d},f=d=>s?VE(e,d):r({era:d},"era"),h=d=>{switch(d){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return a();case"d":return i?r({day:"numeric"},"day"):this.num(e.day);case"dd":return i?r({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return i?r({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?r({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return i?r({month:"numeric"},"month"):this.num(e.month);case"MM":return i?r({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return i?r({year:"numeric"},"year"):this.num(e.year);case"yy":return i?r({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?r({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?r({year:"numeric"},"year"):this.num(e.year,6);case"G":return f("short");case"GG":return f("long");case"GGGGG":return f("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return u(d)}};return Am(dn.parseFormat(n),h)}formatDurationFromString(e,n){const s=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=l=>c=>{const u=s(c);return u?this.num(l.get(u),c.length):c},r=dn.parseFormat(n),o=r.reduce((l,{literal:c,val:u})=>c?l:l.concat(u),[]),a=e.shiftTo(...o.map(s).filter(l=>l));return Am(r,i(a))}}const F0=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Co(...t){const e=t.reduce((n,s)=>n+s.source,"");return RegExp(`^${e}$`)}function Ao(...t){return e=>t.reduce(([n,s,i],r)=>{const[o,a,l]=r(e,i);return[{...n,...o},a||s,l]},[{},null,1]).slice(0,2)}function No(t,...e){if(t==null)return[null,null];for(const[n,s]of e){const i=n.exec(t);if(i)return s(i)}return[null,null]}function U0(...t){return(e,n)=>{const s={};let i;for(i=0;i<t.length;i++)s[t[i]]=Di(e[n+i]);return[s,null,n+i]}}const z0=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,GE=`(?:${z0.source}?(?:\\[(${F0.source})\\])?)?`,Ah=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,H0=RegExp(`${Ah.source}${GE}`),Nh=RegExp(`(?:T${H0.source})?`),ZE=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,XE=/(\d{4})-?W(\d\d)(?:-?(\d))?/,JE=/(\d{4})-?(\d{3})/,QE=U0("weekYear","weekNumber","weekDay"),eS=U0("year","ordinal"),tS=/(\d{4})-(\d\d)-(\d\d)/,B0=RegExp(`${Ah.source} ?(?:${z0.source}|(${F0.source}))?`),nS=RegExp(`(?: ${B0.source})?`);function ao(t,e,n){const s=t[e];return Ie(s)?n:Di(s)}function sS(t,e){return[{year:ao(t,e),month:ao(t,e+1,1),day:ao(t,e+2,1)},null,e+3]}function Lo(t,e){return[{hours:ao(t,e,0),minutes:ao(t,e+1,0),seconds:ao(t,e+2,0),milliseconds:xh(t[e+3])},null,e+4]}function qa(t,e){const n=!t[e]&&!t[e+1],s=Yc(t[e+1],t[e+2]),i=n?null:In.instance(s);return[{},i,e+3]}function Ka(t,e){const n=t[e]?si.create(t[e]):null;return[{},n,e+1]}const iS=RegExp(`^T?${Ah.source}$`),rS=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function oS(t){const[e,n,s,i,r,o,a,l,c]=t,u=e[0]==="-",f=l&&l[0]==="-",h=(d,y=!1)=>d!==void 0&&(y||d&&u)?-d:d;return[{years:h(ir(n)),months:h(ir(s)),weeks:h(ir(i)),days:h(ir(r)),hours:h(ir(o)),minutes:h(ir(a)),seconds:h(ir(l),l==="-0"),milliseconds:h(xh(c),f)}]}const aS={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Lh(t,e,n,s,i,r,o){const a={year:e.length===2?kf(Di(e)):Di(e),month:A0.indexOf(n)+1,day:Di(s),hour:Di(i),minute:Di(r)};return o&&(a.second=Di(o)),t&&(a.weekday=t.length>3?L0.indexOf(t)+1:R0.indexOf(t)+1),a}const lS=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function cS(t){const[,e,n,s,i,r,o,a,l,c,u,f]=t,h=Lh(e,i,s,n,r,o,a);let d;return l?d=aS[l]:c?d=0:d=Yc(u,f),[h,new In(d)]}function uS(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const fS=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,hS=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,dS=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Nm(t){const[,e,n,s,i,r,o,a]=t;return[Lh(e,i,s,n,r,o,a),In.utcInstance]}function mS(t){const[,e,n,s,i,r,o,a]=t;return[Lh(e,a,n,s,i,r,o),In.utcInstance]}const pS=Co(ZE,Nh),yS=Co(XE,Nh),gS=Co(JE,Nh),vS=Co(H0),W0=Ao(sS,Lo,qa,Ka),wS=Ao(QE,Lo,qa,Ka),bS=Ao(eS,Lo,qa,Ka),TS=Ao(Lo,qa,Ka);function ES(t){return No(t,[pS,W0],[yS,wS],[gS,bS],[vS,TS])}function SS(t){return No(uS(t),[lS,cS])}function kS(t){return No(t,[fS,Nm],[hS,Nm],[dS,mS])}function _S(t){return No(t,[rS,oS])}const DS=Ao(Lo);function OS(t){return No(t,[iS,DS])}const IS=Co(tS,nS),MS=Co(B0),xS=Ao(Lo,qa,Ka);function CS(t){return No(t,[IS,W0],[MS,xS])}const Lm="Invalid Duration",j0={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},AS={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...j0},Gn=146097/400,Ur=146097/4800,NS={years:{quarters:4,months:12,weeks:Gn/7,days:Gn,hours:Gn*24,minutes:Gn*24*60,seconds:Gn*24*60*60,milliseconds:Gn*24*60*60*1e3},quarters:{months:3,weeks:Gn/28,days:Gn/4,hours:Gn*24/4,minutes:Gn*24*60/4,seconds:Gn*24*60*60/4,milliseconds:Gn*24*60*60*1e3/4},months:{weeks:Ur/7,days:Ur,hours:Ur*24,minutes:Ur*24*60,seconds:Ur*24*60*60,milliseconds:Ur*24*60*60*1e3},...j0},fr=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],LS=fr.slice(0).reverse();function hi(t,e,n=!1){const s={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new fn(s)}function V0(t,e){let n=e.milliseconds??0;for(const s of LS.slice(1))e[s]&&(n+=e[s]*t[s].milliseconds);return n}function Rm(t,e){const n=V0(t,e)<0?-1:1;fr.reduceRight((s,i)=>{if(Ie(e[i]))return s;if(s){const r=e[s]*n,o=t[i][s],a=Math.floor(r/o);e[i]+=a*n,e[s]-=a*o*n}return i},null),fr.reduce((s,i)=>{if(Ie(e[i]))return s;if(s){const r=e[s]%1;e[s]-=r,e[i]+=r*t[s][i]}return i},null)}function RS(t){const e={};for(const[n,s]of Object.entries(t))s!==0&&(e[n]=s);return e}let fn=class Xt{constructor(e){const n=e.conversionAccuracy==="longterm"||!1;let s=n?NS:AS;e.matrix&&(s=e.matrix),this.values=e.values,this.loc=e.loc||et.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=s,this.isLuxonDuration=!0}static fromMillis(e,n){return Xt.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new an(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new Xt({values:nc(e,Xt.normalizeUnit),loc:et.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(Fi(e))return Xt.fromMillis(e);if(Xt.isDuration(e))return e;if(typeof e=="object")return Xt.fromObject(e);throw new an(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){const[s]=_S(e);return s?Xt.fromObject(s,n):Xt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,n){const[s]=OS(e);return s?Xt.fromObject(s,n):Xt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new an("need to specify a reason the Duration is invalid");const s=e instanceof Ts?e:new Ts(e,n);if(bt.throwOnInvalid)throw new oE(s);return new Xt({invalid:s})}static normalizeUnit(e){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new e0(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){const s={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?dn.create(this.loc,s).formatDurationFromString(this,e):Lm}toHuman(e={}){if(!this.isValid)return Lm;const n=fr.map(s=>{const i=this.values[s];return Ie(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:s.slice(0,-1)}).format(i)}).filter(s=>s);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Ch(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const n=this.toMillis();return n<0||n>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},H.fromMillis(n,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?V0(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const n=Xt.fromDurationLike(e),s={};for(const i of fr)(bo(n.values,i)||bo(this.values,i))&&(s[i]=n.get(i)+this.get(i));return hi(this,{values:s},!0)}minus(e){if(!this.isValid)return this;const n=Xt.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;const n={};for(const s of Object.keys(this.values))n[s]=C0(e(this.values[s],s));return hi(this,{values:n},!0)}get(e){return this[Xt.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const n={...this.values,...nc(e,Xt.normalizeUnit)};return hi(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:s,matrix:i}={}){const o={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:i,conversionAccuracy:s};return hi(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return Rm(this.matrix,e),hi(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=RS(this.normalize().shiftToAll().toObject());return hi(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>Xt.normalizeUnit(o));const n={},s={},i=this.toObject();let r;for(const o of fr)if(e.indexOf(o)>=0){r=o;let a=0;for(const c in s)a+=this.matrix[c][o]*s[c],s[c]=0;Fi(i[o])&&(a+=i[o]);const l=Math.trunc(a);n[o]=l,s[o]=(a*1e3-l*1e3)/1e3}else Fi(i[o])&&(s[o]=i[o]);for(const o in s)s[o]!==0&&(n[r]+=o===r?s[o]:s[o]/this.matrix[r][o]);return Rm(this.matrix,n),hi(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return hi(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(s,i){return s===void 0||s===0?i===void 0||i===0:s===i}for(const s of fr)if(!n(this.values[s],e.values[s]))return!1;return!0}};const zr="Invalid Interval";function PS(t,e){return!t||!t.isValid?wt.invalid("missing or invalid start"):!e||!e.isValid?wt.invalid("missing or invalid end"):e<t?wt.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class wt{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new an("need to specify a reason the Interval is invalid");const s=e instanceof Ts?e:new Ts(e,n);if(bt.throwOnInvalid)throw new rE(s);return new wt({invalid:s})}static fromDateTimes(e,n){const s=qo(e),i=qo(n),r=PS(s,i);return r??new wt({start:s,end:i})}static after(e,n){const s=fn.fromDurationLike(n),i=qo(e);return wt.fromDateTimes(i,i.plus(s))}static before(e,n){const s=fn.fromDurationLike(n),i=qo(e);return wt.fromDateTimes(i.minus(s),i)}static fromISO(e,n){const[s,i]=(e||"").split("/",2);if(s&&i){let r,o;try{r=H.fromISO(s,n),o=r.isValid}catch{o=!1}let a,l;try{a=H.fromISO(i,n),l=a.isValid}catch{l=!1}if(o&&l)return wt.fromDateTimes(r,a);if(o){const c=fn.fromISO(i,n);if(c.isValid)return wt.after(r,c)}else if(l){const c=fn.fromISO(s,n);if(c.isValid)return wt.before(a,c)}}return wt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",n){if(!this.isValid)return NaN;const s=this.start.startOf(e,n);let i;return n!=null&&n.useLocaleWeeks?i=this.end.reconfigure({locale:s.locale}):i=this.end,i=i.startOf(e,n),Math.floor(i.diff(s,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?wt.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];const n=e.map(qo).filter(o=>this.contains(o)).sort((o,a)=>o.toMillis()-a.toMillis()),s=[];let{s:i}=this,r=0;for(;i<this.e;){const o=n[r]||this.e,a=+o>+this.e?this.e:o;s.push(wt.fromDateTimes(i,a)),i=a,r+=1}return s}splitBy(e){const n=fn.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s}=this,i=1,r;const o=[];for(;s<this.e;){const a=this.start.plus(n.mapUnits(l=>l*i));r=+a>+this.e?this.e:a,o.push(wt.fromDateTimes(s,r)),s=r,i+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const n=this.s>e.s?this.s:e.s,s=this.e<e.e?this.e:e.e;return n>=s?null:wt.fromDateTimes(n,s)}union(e){if(!this.isValid)return this;const n=this.s<e.s?this.s:e.s,s=this.e>e.e?this.e:e.e;return wt.fromDateTimes(n,s)}static merge(e){const[n,s]=e.sort((i,r)=>i.s-r.s).reduce(([i,r],o)=>r?r.overlaps(o)||r.abutsStart(o)?[i,r.union(o)]:[i.concat([r]),o]:[i,o],[[],null]);return s&&n.push(s),n}static xor(e){let n=null,s=0;const i=[],r=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...r),a=o.sort((l,c)=>l.time-c.time);for(const l of a)s+=l.type==="s"?1:-1,s===1?n=l.time:(n&&+n!=+l.time&&i.push(wt.fromDateTimes(n,l.time)),n=null);return wt.merge(i)}difference(...e){return wt.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:zr}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=ec,n={}){return this.isValid?dn.create(this.s.loc.clone(n),e).formatInterval(this):zr}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:zr}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:zr}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:zr}toFormat(e,{separator:n="  "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:zr}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):fn.invalid(this.invalidReason)}mapEndpoints(e){return wt.fromDateTimes(e(this.s),e(this.e))}}class yl{static hasDST(e=bt.defaultZone){const n=H.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return si.isValidZone(e)}static normalizeZone(e){return Mi(e,bt.defaultZone)}static getStartOfWeek({locale:e=null,locObj:n=null}={}){return(n||et.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:n=null}={}){return(n||et.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:n=null}={}){return(n||et.create(e)).getWeekendDays().slice()}static months(e="long",{locale:n=null,numberingSystem:s=null,locObj:i=null,outputCalendar:r="gregory"}={}){return(i||et.create(n,s,r)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:s=null,locObj:i=null,outputCalendar:r="gregory"}={}){return(i||et.create(n,s,r)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:s=null,locObj:i=null}={}){return(i||et.create(n,s,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:s=null,locObj:i=null}={}){return(i||et.create(n,s,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return et.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return et.create(n,null,"gregory").eras(e)}static features(){return{relative:I0(),localeWeek:M0()}}}function Pm(t,e){const n=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),s=n(e)-n(t);return Math.floor(fn.fromMillis(s).as("days"))}function $S(t,e,n){const s=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+(c.year-l.year)*4],["months",(l,c)=>c.month-l.month+(c.year-l.year)*12],["weeks",(l,c)=>{const u=Pm(l,c);return(u-u%7)/7}],["days",Pm]],i={},r=t;let o,a;for(const[l,c]of s)n.indexOf(l)>=0&&(o=l,i[l]=c(t,e),a=r.plus(i),a>e?(i[l]--,t=r.plus(i),t>e&&(a=t,i[l]--,t=r.plus(i))):t=a);return[t,i,a,o]}function YS(t,e,n,s){let[i,r,o,a]=$S(t,e,n);const l=e-i,c=n.filter(f=>["hours","minutes","seconds","milliseconds"].indexOf(f)>=0);c.length===0&&(o<e&&(o=i.plus({[a]:1})),o!==i&&(r[a]=(r[a]||0)+l/(o-i)));const u=fn.fromObject(r,s);return c.length>0?fn.fromMillis(l,s).shiftTo(...c).plus(u):u}const FS="missing Intl.DateTimeFormat.formatToParts support";function Ge(t,e=n=>n){return{regex:t,deser:([n])=>e(IE(n))}}const US="",q0=`[ ${US}]`,K0=new RegExp(q0,"g");function zS(t){return t.replace(/\./g,"\\.?").replace(K0,q0)}function $m(t){return t.replace(/\./g,"").replace(K0," ").toLowerCase()}function cs(t,e){return t===null?null:{regex:RegExp(t.map(zS).join("|")),deser:([n])=>t.findIndex(s=>$m(n)===$m(s))+e}}function Ym(t,e){return{regex:t,deser:([,n,s])=>Yc(n,s),groups:e}}function gl(t){return{regex:t,deser:([e])=>e}}function HS(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function BS(t,e){const n=ls(e),s=ls(e,"{2}"),i=ls(e,"{3}"),r=ls(e,"{4}"),o=ls(e,"{6}"),a=ls(e,"{1,2}"),l=ls(e,"{1,3}"),c=ls(e,"{1,6}"),u=ls(e,"{1,9}"),f=ls(e,"{2,4}"),h=ls(e,"{4,6}"),d=p=>({regex:RegExp(HS(p.val)),deser:([g])=>g,literal:!0}),m=(p=>{if(t.literal)return d(p);switch(p.val){case"G":return cs(e.eras("short"),0);case"GG":return cs(e.eras("long"),0);case"y":return Ge(c);case"yy":return Ge(f,kf);case"yyyy":return Ge(r);case"yyyyy":return Ge(h);case"yyyyyy":return Ge(o);case"M":return Ge(a);case"MM":return Ge(s);case"MMM":return cs(e.months("short",!0),1);case"MMMM":return cs(e.months("long",!0),1);case"L":return Ge(a);case"LL":return Ge(s);case"LLL":return cs(e.months("short",!1),1);case"LLLL":return cs(e.months("long",!1),1);case"d":return Ge(a);case"dd":return Ge(s);case"o":return Ge(l);case"ooo":return Ge(i);case"HH":return Ge(s);case"H":return Ge(a);case"hh":return Ge(s);case"h":return Ge(a);case"mm":return Ge(s);case"m":return Ge(a);case"q":return Ge(a);case"qq":return Ge(s);case"s":return Ge(a);case"ss":return Ge(s);case"S":return Ge(l);case"SSS":return Ge(i);case"u":return gl(u);case"uu":return gl(a);case"uuu":return Ge(n);case"a":return cs(e.meridiems(),0);case"kkkk":return Ge(r);case"kk":return Ge(f,kf);case"W":return Ge(a);case"WW":return Ge(s);case"E":case"c":return Ge(n);case"EEE":return cs(e.weekdays("short",!1),1);case"EEEE":return cs(e.weekdays("long",!1),1);case"ccc":return cs(e.weekdays("short",!0),1);case"cccc":return cs(e.weekdays("long",!0),1);case"Z":case"ZZ":return Ym(new RegExp(`([+-]${a.source})(?::(${s.source}))?`),2);case"ZZZ":return Ym(new RegExp(`([+-]${a.source})(${s.source})?`),2);case"z":return gl(/[a-z_+-/]{1,256}?/i);case" ":return gl(/[^\S\n\r]/);default:return d(p)}})(t)||{invalidReason:FS};return m.token=t,m}const WS={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function jS(t,e,n){const{type:s,value:i}=t;if(s==="literal"){const l=/^\s+$/.test(i);return{literal:!l,val:l?" ":i}}const r=e[s];let o=s;s==="hour"&&(e.hour12!=null?o=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?o="hour12":o="hour24":o=n.hour12?"hour12":"hour24");let a=WS[o];if(typeof a=="object"&&(a=a[r]),a)return{literal:!1,val:a}}function VS(t){return[`^${t.map(n=>n.regex).reduce((n,s)=>`${n}(${s.source})`,"")}$`,t]}function qS(t,e,n){const s=t.match(e);if(s){const i={};let r=1;for(const o in n)if(bo(n,o)){const a=n[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(i[a.token.val[0]]=a.deser(s.slice(r,r+l))),r+=l}return[s,i]}else return[s,{}]}function KS(t){const e=r=>{switch(r){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,s;return Ie(t.z)||(n=si.create(t.z)),Ie(t.Z)||(n||(n=new In(t.Z)),s=t.Z),Ie(t.q)||(t.M=(t.q-1)*3+1),Ie(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),Ie(t.u)||(t.S=xh(t.u)),[Object.keys(t).reduce((r,o)=>{const a=e(o);return a&&(r[a]=t[o]),r},{}),n,s]}let Cu=null;function GS(){return Cu||(Cu=H.fromMillis(1555555555555)),Cu}function ZS(t,e){if(t.literal)return t;const n=dn.macroTokenToFormatOpts(t.val),s=J0(n,e);return s==null||s.includes(void 0)?t:s}function G0(t,e){return Array.prototype.concat(...t.map(n=>ZS(n,e)))}class Z0{constructor(e,n){if(this.locale=e,this.format=n,this.tokens=G0(dn.parseFormat(n),e),this.units=this.tokens.map(s=>BS(s,e)),this.disqualifyingUnit=this.units.find(s=>s.invalidReason),!this.disqualifyingUnit){const[s,i]=VS(this.units);this.regex=RegExp(s,"i"),this.handlers=i}}explainFromTokens(e){if(this.isValid){const[n,s]=qS(e,this.regex,this.handlers),[i,r,o]=s?KS(s):[null,null,void 0];if(bo(s,"a")&&bo(s,"H"))throw new Zr("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:n,matches:s,result:i,zone:r,specificOffset:o}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function X0(t,e,n){return new Z0(t,n).explainFromTokens(e)}function XS(t,e,n){const{result:s,zone:i,specificOffset:r,invalidReason:o}=X0(t,e,n);return[s,i,r,o]}function J0(t,e){if(!t)return null;const s=dn.create(e,t).dtFormatter(GS()),i=s.formatToParts(),r=s.resolvedOptions();return i.map(o=>jS(o,t,r))}const Au="Invalid DateTime",Fm=864e13;function ea(t){return new Ts("unsupported zone",`the zone "${t.name}" is not supported`)}function Nu(t){return t.weekData===null&&(t.weekData=Oa(t.c)),t.weekData}function Lu(t){return t.localWeekData===null&&(t.localWeekData=Oa(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function rr(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new H({...n,...e,old:n})}function Q0(t,e,n){let s=t-e*60*1e3;const i=n.offset(s);if(e===i)return[s,e];s-=(i-e)*60*1e3;const r=n.offset(s);return i===r?[s,i]:[t-Math.min(i,r)*60*1e3,Math.max(i,r)]}function vl(t,e){t+=e*60*1e3;const n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Yl(t,e,n){return Q0($c(t),e,n)}function Um(t,e){const n=t.o,s=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,r={...t.c,year:s,month:i,day:Math.min(t.c.day,tc(s,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=fn.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=$c(r);let[l,c]=Q0(a,n,t.zone);return o!==0&&(l+=o,c=t.zone.offset(l)),{ts:l,o:c}}function Hr(t,e,n,s,i,r){const{setZone:o,zone:a}=n;if(t&&Object.keys(t).length!==0||e){const l=e||a,c=H.fromObject(t,{...n,zone:l,specificOffset:r});return o?c:c.setZone(a)}else return H.invalid(new Ts("unparsable",`the input "${i}" can't be parsed as ${s}`))}function wl(t,e,n=!0){return t.isValid?dn.create(et.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function Ru(t,e){const n=t.c.year>9999||t.c.year<0;let s="";return n&&t.c.year>=0&&(s+="+"),s+=Ct(t.c.year,n?6:4),e?(s+="-",s+=Ct(t.c.month),s+="-",s+=Ct(t.c.day)):(s+=Ct(t.c.month),s+=Ct(t.c.day)),s}function zm(t,e,n,s,i,r){let o=Ct(t.c.hour);return e?(o+=":",o+=Ct(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(o+=":")):o+=Ct(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(o+=Ct(t.c.second),(t.c.millisecond!==0||!s)&&(o+=".",o+=Ct(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!r?o+="Z":t.o<0?(o+="-",o+=Ct(Math.trunc(-t.o/60)),o+=":",o+=Ct(Math.trunc(-t.o%60))):(o+="+",o+=Ct(Math.trunc(t.o/60)),o+=":",o+=Ct(Math.trunc(t.o%60)))),r&&(o+="["+t.zone.ianaName+"]"),o}const ev={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},JS={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},QS={ordinal:1,hour:0,minute:0,second:0,millisecond:0},tv=["year","month","day","hour","minute","second","millisecond"],ek=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],tk=["year","ordinal","hour","minute","second","millisecond"];function nk(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new e0(t);return e}function Hm(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return nk(t)}}function sk(t){if(ta===void 0&&(ta=bt.now()),t.type!=="iana")return t.offset(ta);const e=t.name;let n=_f.get(e);return n===void 0&&(n=t.offset(ta),_f.set(e,n)),n}function Bm(t,e){const n=Mi(e.zone,bt.defaultZone);if(!n.isValid)return H.invalid(ea(n));const s=et.fromObject(e);let i,r;if(Ie(t.year))i=bt.now();else{for(const l of tv)Ie(t[l])&&(t[l]=ev[l]);const o=D0(t)||O0(t);if(o)return H.invalid(o);const a=sk(n);[i,r]=Yl(t,a,n)}return new H({ts:i,zone:n,loc:s,o:r})}function Wm(t,e,n){const s=Ie(n.round)?!0:n.round,i=(o,a)=>(o=Ch(o,s||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(o,a)),r=o=>n.calendary?e.hasSame(t,o)?0:e.startOf(o).diff(t.startOf(o),o).get(o):e.diff(t,o).get(o);if(n.unit)return i(r(n.unit),n.unit);for(const o of n.units){const a=r(o);if(Math.abs(a)>=1)return i(a,o)}return i(t>e?-0:0,n.units[n.units.length-1])}function jm(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}let ta;const _f=new Map;let H=class pt{constructor(e){const n=e.zone||bt.defaultZone;let s=e.invalid||(Number.isNaN(e.ts)?new Ts("invalid input"):null)||(n.isValid?null:ea(n));this.ts=Ie(e.ts)?bt.now():e.ts;let i=null,r=null;if(!s)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[i,r]=[e.old.c,e.old.o];else{const a=Fi(e.o)&&!e.old?e.o:n.offset(this.ts);i=vl(this.ts,a),s=Number.isNaN(i.year)?new Ts("invalid input"):null,i=s?null:i,r=s?null:a}this._zone=n,this.loc=e.loc||et.create(),this.invalid=s,this.weekData=null,this.localWeekData=null,this.c=i,this.o=r,this.isLuxonDateTime=!0}static now(){return new pt({})}static local(){const[e,n]=jm(arguments),[s,i,r,o,a,l,c]=n;return Bm({year:s,month:i,day:r,hour:o,minute:a,second:l,millisecond:c},e)}static utc(){const[e,n]=jm(arguments),[s,i,r,o,a,l,c]=n;return e.zone=In.utcInstance,Bm({year:s,month:i,day:r,hour:o,minute:a,second:l,millisecond:c},e)}static fromJSDate(e,n={}){const s=NE(e)?e.valueOf():NaN;if(Number.isNaN(s))return pt.invalid("invalid input");const i=Mi(n.zone,bt.defaultZone);return i.isValid?new pt({ts:s,zone:i,loc:et.fromObject(n)}):pt.invalid(ea(i))}static fromMillis(e,n={}){if(Fi(e))return e<-Fm||e>Fm?pt.invalid("Timestamp out of range"):new pt({ts:e,zone:Mi(n.zone,bt.defaultZone),loc:et.fromObject(n)});throw new an(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(Fi(e))return new pt({ts:e*1e3,zone:Mi(n.zone,bt.defaultZone),loc:et.fromObject(n)});throw new an("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};const s=Mi(n.zone,bt.defaultZone);if(!s.isValid)return pt.invalid(ea(s));const i=et.fromObject(n),r=nc(e,Hm),{minDaysInFirstWeek:o,startOfWeek:a}=Mm(r,i),l=bt.now(),c=Ie(n.specificOffset)?s.offset(l):n.specificOffset,u=!Ie(r.ordinal),f=!Ie(r.year),h=!Ie(r.month)||!Ie(r.day),d=f||h,y=r.weekYear||r.weekNumber;if((d||u)&&y)throw new Zr("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(h&&u)throw new Zr("Can't mix ordinal dates with month/day");const m=y||r.weekday&&!d;let p,g,w=vl(l,c);m?(p=ek,g=JS,w=Oa(w,o,a)):u?(p=tk,g=QS,w=xu(w)):(p=tv,g=ev);let T=!1;for(const R of p){const W=r[R];Ie(W)?T?r[R]=g[R]:r[R]=w[R]:T=!0}const k=m?xE(r,o,a):u?CE(r):D0(r),_=k||O0(r);if(_)return pt.invalid(_);const C=m?Om(r,o,a):u?Im(r):r,[I,M]=Yl(C,c,s),x=new pt({ts:I,zone:s,o:M,loc:i});return r.weekday&&d&&e.weekday!==x.weekday?pt.invalid("mismatched weekday",`you can't specify both a weekday of ${r.weekday} and a date of ${x.toISO()}`):x.isValid?x:pt.invalid(x.invalid)}static fromISO(e,n={}){const[s,i]=ES(e);return Hr(s,i,n,"ISO 8601",e)}static fromRFC2822(e,n={}){const[s,i]=SS(e);return Hr(s,i,n,"RFC 2822",e)}static fromHTTP(e,n={}){const[s,i]=kS(e);return Hr(s,i,n,"HTTP",n)}static fromFormat(e,n,s={}){if(Ie(e)||Ie(n))throw new an("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:r=null}=s,o=et.fromOpts({locale:i,numberingSystem:r,defaultToEN:!0}),[a,l,c,u]=XS(o,e,n);return u?pt.invalid(u):Hr(a,l,s,`format ${n}`,e,c)}static fromString(e,n,s={}){return pt.fromFormat(e,n,s)}static fromSQL(e,n={}){const[s,i]=CS(e);return Hr(s,i,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new an("need to specify a reason the DateTime is invalid");const s=e instanceof Ts?e:new Ts(e,n);if(bt.throwOnInvalid)throw new iE(s);return new pt({invalid:s})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){const s=J0(e,et.fromObject(n));return s?s.map(i=>i?i.val:null).join(""):null}static expandFormat(e,n={}){return G0(dn.parseFormat(e),et.fromObject(n)).map(i=>i.val).join("")}static resetCache(){ta=void 0,_f.clear()}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Nu(this).weekYear:NaN}get weekNumber(){return this.isValid?Nu(this).weekNumber:NaN}get weekday(){return this.isValid?Nu(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Lu(this).weekday:NaN}get localWeekNumber(){return this.isValid?Lu(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Lu(this).weekYear:NaN}get ordinal(){return this.isValid?xu(this.c).ordinal:NaN}get monthShort(){return this.isValid?yl.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?yl.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?yl.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?yl.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,n=6e4,s=$c(this.c),i=this.zone.offset(s-e),r=this.zone.offset(s+e),o=this.zone.offset(s-i*n),a=this.zone.offset(s-r*n);if(o===a)return[this];const l=s-o*n,c=s-a*n,u=vl(l,o),f=vl(c,a);return u.hour===f.hour&&u.minute===f.minute&&u.second===f.second&&u.millisecond===f.millisecond?[rr(this,{ts:l}),rr(this,{ts:c})]:[this]}get isInLeapYear(){return Va(this.year)}get daysInMonth(){return tc(this.year,this.month)}get daysInYear(){return this.isValid?oo(this.year):NaN}get weeksInWeekYear(){return this.isValid?Ia(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Ia(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:n,numberingSystem:s,calendar:i}=dn.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:s,outputCalendar:i}}toUTC(e=0,n={}){return this.setZone(In.instance(e),n)}toLocal(){return this.setZone(bt.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:s=!1}={}){if(e=Mi(e,bt.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(n||s){const r=e.offset(this.ts),o=this.toObject();[i]=Yl(o,r,e)}return rr(this,{ts:i,zone:e})}else return pt.invalid(ea(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:s}={}){const i=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:s});return rr(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const n=nc(e,Hm),{minDaysInFirstWeek:s,startOfWeek:i}=Mm(n,this.loc),r=!Ie(n.weekYear)||!Ie(n.weekNumber)||!Ie(n.weekday),o=!Ie(n.ordinal),a=!Ie(n.year),l=!Ie(n.month)||!Ie(n.day),c=a||l,u=n.weekYear||n.weekNumber;if((c||o)&&u)throw new Zr("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new Zr("Can't mix ordinal dates with month/day");let f;r?f=Om({...Oa(this.c,s,i),...n},s,i):Ie(n.ordinal)?(f={...this.toObject(),...n},Ie(n.day)&&(f.day=Math.min(tc(f.year,f.month),f.day))):f=Im({...xu(this.c),...n});const[h,d]=Yl(f,this.o,this.zone);return rr(this,{ts:h,o:d})}plus(e){if(!this.isValid)return this;const n=fn.fromDurationLike(e);return rr(this,Um(this,n))}minus(e){if(!this.isValid)return this;const n=fn.fromDurationLike(e).negate();return rr(this,Um(this,n))}startOf(e,{useLocaleWeeks:n=!1}={}){if(!this.isValid)return this;const s={},i=fn.normalizeUnit(e);switch(i){case"years":s.month=1;case"quarters":case"months":s.day=1;case"weeks":case"days":s.hour=0;case"hours":s.minute=0;case"minutes":s.second=0;case"seconds":s.millisecond=0;break}if(i==="weeks")if(n){const r=this.loc.getStartOfWeek(),{weekday:o}=this;o<r&&(s.weekNumber=this.weekNumber-1),s.weekday=r}else s.weekday=1;if(i==="quarters"){const r=Math.ceil(this.month/3);s.month=(r-1)*3+1}return this.set(s)}endOf(e,n){return this.isValid?this.plus({[e]:1}).startOf(e,n).minus(1):this}toFormat(e,n={}){return this.isValid?dn.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):Au}toLocaleString(e=ec,n={}){return this.isValid?dn.create(this.loc.clone(n),e).formatDateTime(this):Au}toLocaleParts(e={}){return this.isValid?dn.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:s=!1,includeOffset:i=!0,extendedZone:r=!1}={}){if(!this.isValid)return null;const o=e==="extended";let a=Ru(this,o);return a+="T",a+=zm(this,o,n,s,i,r),a}toISODate({format:e="extended"}={}){return this.isValid?Ru(this,e==="extended"):null}toISOWeekDate(){return wl(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:s=!0,includePrefix:i=!1,extendedZone:r=!1,format:o="extended"}={}){return this.isValid?(i?"T":"")+zm(this,o==="extended",n,e,s,r):null}toRFC2822(){return wl(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return wl(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Ru(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:s=!0}={}){let i="HH:mm:ss.SSS";return(n||e)&&(s&&(i+=" "),n?i+="z":e&&(i+="ZZ")),wl(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Au}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",s={}){if(!this.isValid||!e.isValid)return fn.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...s},r=LE(n).map(fn.normalizeUnit),o=e.valueOf()>this.valueOf(),a=o?this:e,l=o?e:this,c=YS(a,l,r,i);return o?c.negate():c}diffNow(e="milliseconds",n={}){return this.diff(pt.now(),e,n)}until(e){return this.isValid?wt.fromDateTimes(this,e):this}hasSame(e,n,s){if(!this.isValid)return!1;const i=e.valueOf(),r=this.setZone(e.zone,{keepLocalTime:!0});return r.startOf(n,s)<=i&&i<=r.endOf(n,s)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const n=e.base||pt.fromObject({},{zone:this.zone}),s=e.padding?this<n?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],r=e.unit;return Array.isArray(e.unit)&&(i=e.unit,r=void 0),Wm(n,this.plus(s),{...e,numeric:"always",units:i,unit:r})}toRelativeCalendar(e={}){return this.isValid?Wm(e.base||pt.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(pt.isDateTime))throw new an("min requires all arguments be DateTimes");return xm(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(pt.isDateTime))throw new an("max requires all arguments be DateTimes");return xm(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,s={}){const{locale:i=null,numberingSystem:r=null}=s,o=et.fromOpts({locale:i,numberingSystem:r,defaultToEN:!0});return X0(o,e,n)}static fromStringExplain(e,n,s={}){return pt.fromFormatExplain(e,n,s)}static buildFormatParser(e,n={}){const{locale:s=null,numberingSystem:i=null}=n,r=et.fromOpts({locale:s,numberingSystem:i,defaultToEN:!0});return new Z0(r,e)}static fromFormatParser(e,n,s={}){if(Ie(e)||Ie(n))throw new an("fromFormatParser requires an input string and a format parser");const{locale:i=null,numberingSystem:r=null}=s,o=et.fromOpts({locale:i,numberingSystem:r,defaultToEN:!0});if(!o.equals(n.locale))throw new an(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${n.locale}`);const{result:a,zone:l,specificOffset:c,invalidReason:u}=n.explainFromTokens(e);return u?pt.invalid(u):Hr(a,l,s,`format ${n.format}`,e,c)}static get DATE_SHORT(){return ec}static get DATE_MED(){return t0}static get DATE_MED_WITH_WEEKDAY(){return aE}static get DATE_FULL(){return n0}static get DATE_HUGE(){return s0}static get TIME_SIMPLE(){return i0}static get TIME_WITH_SECONDS(){return r0}static get TIME_WITH_SHORT_OFFSET(){return o0}static get TIME_WITH_LONG_OFFSET(){return a0}static get TIME_24_SIMPLE(){return l0}static get TIME_24_WITH_SECONDS(){return c0}static get TIME_24_WITH_SHORT_OFFSET(){return u0}static get TIME_24_WITH_LONG_OFFSET(){return f0}static get DATETIME_SHORT(){return h0}static get DATETIME_SHORT_WITH_SECONDS(){return d0}static get DATETIME_MED(){return m0}static get DATETIME_MED_WITH_SECONDS(){return p0}static get DATETIME_MED_WITH_WEEKDAY(){return lE}static get DATETIME_FULL(){return y0}static get DATETIME_FULL_WITH_SECONDS(){return g0}static get DATETIME_HUGE(){return v0}static get DATETIME_HUGE_WITH_SECONDS(){return w0}};function qo(t){if(H.isDateTime(t))return t;if(t&&t.valueOf&&Fi(t.valueOf()))return H.fromJSDate(t);if(t&&typeof t=="object")return H.fromObject(t);throw new an(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const nv=/(milliseconds|ms)/i,sv=/(seconds|second|secs|sec|s)/i,iv=/(minutes|minute|mins|min)/i,rv=/(hours|hour|h)/i,ov=/(?:(week\s*|work\s*|business\s*)?(days|day|d))/i,av=/(weeks|week|w)/i,lv=/(months|month)/i,cv=/(years|year|y)/i,Df=new RegExp(`(\\d+\\W*)(${nv.source}|${sv.source}|${iv.source}|${rv.source}|${ov.source}|${av.source}|${lv.source}|${cv.source})(?:\\s*,\\s*|\\s*)`,"g"),uv=/(?:\W|^)(!\w+)/,fv=new RegExp(`(by|before|after)?(\\s*${uv.source}\\s*)?(?:plus|\\+)?\\s*(${Df.source})*`),ik=/january|february|march|april|may|june|july|august|september|october|november|december/,rk=/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/,Rh=new RegExp(`(?:(${ik.source})|(${rk.source}))`),ok=new RegExp(`(([0-3]?[0-9])\\s+${Rh.source})`),ak=new RegExp(`(${Rh.source}\\s+([0-3]?[0-9](?!\\d)))`),Uc=/((1|2|3|4|5|6|7|8|9|10|11|12)(:\d{2})?([ap]m)|([012]?[0-9])(:\d{2})?)/,lk=new RegExp(`(?:(?:${ok.source}|${ak.source}),?(?:\\s+(\\d{4}),?)?(?:\\s+${Uc.source})?)|(${Rh.source}(?:\\s+(\\d{1,4}))?)`),ck=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2,}(?:\.\d*)?Z/,hv=/now/,uk=new RegExp(`(\\d{1,5}(\\/\\d{1,5}(\\/\\d{1,5}(?:(?:,|\\s)+${Uc.source})?)?)?)`),Of=new RegExp(`(${ck.source})|(${hv.source})|${Uc.source}|(${uk.source})|(${fv.source})|${lk.source}`),fk=new RegExp(`(?:(\\d+|other)?\\s*)(${nv.source}|${sv.source}|${iv.source}|${rv.source}|${ov.source}|${av.source}|${lv.source}|${cv.source})`,"g");new RegExp(`(\\s+(?:(?:(?:un)?til)|(?:to)|(?:\\|))\\s+(${Of.source}))?`);const dv=new RegExp("\\s*every[^:]+"),hk=new RegExp(`((${Of.source})(?:(?:(?:\\s*-\\s*)|(?:\\s+to\\s+))(${Of.source}))?)(${dv.source})?\\s*:`),Ph=new RegExp(`^(\\s*)${hk.source}(.*)`,"i");let B=0;++B;const dk=++B,mk=++B;++B;const pk=++B,yk=++B,gk=++B,vk=++B,wk=++B,bk=++B,Tk=++B,Ek=++B;++B;++B;++B;const Sk=++B,kk=++B,_k=++B,Dk=++B,Ok=++B,Ik=++B,Mk=++B,xk=++B;++B;const Ck=++B;++B;++B;++B;++B;++B;++B;++B;++B;++B;++B;++B;++B;++B;const Ak=++B,Nk=++B,Lk=++B;++B;const Rk=++B,Pk=++B,$k=++B,Yk=++B,Fk=++B,Uk=++B,zk=++B,Hk=++B,Bk=++B,Wk=++B;++B;const jk=++B,Vk=++B,qk=++B,Kk=++B;++B;const Gk=++B,Zk=++B,Xk=++B,Jk=++B,Qk=++B,e_=++B,t_=++B,n_=++B;++B;++B;++B;const s_=++B,i_=++B,r_=++B,o_=++B,a_=++B,l_=++B,c_=++B;++B;++B;const u_=++B;++B;++B;++B;++B;++B;++B;++B;++B;++B;++B;++B;++B;++B;const f_=++B,h_=++B,d_=++B;++B;const m_=++B,p_=++B,y_=++B,g_=++B,v_=++B,w_=++B,b_=++B,T_=++B,E_=++B,S_=++B;++B;const k_=++B,__=++B,D_=++B,O_=++B,Vm=++B,If=/^\s*\/\/.*/,sc=/(?:^|\s)#(?!\d+(?:\s|$))(\w+)/g,zc=/^(\s*)(group|section)(?:\s|$)/i,mv=/^(\s*)end(?:Group|Section)?/i,I_=/^\s*- .*/,M_=/^\s*- (\[(x|X| )?\]).*/,pv=/^\s*(\[(x|X| )?\]).*/,x_=new RegExp(`(\\d{4}(-\\d{2}(-\\d{2}(?:\\s+${Uc.source})?)?)?)`),Mf=new RegExp(`(?:${x_.source}|(${fv.source})|(${hv.source}))`);new RegExp(`(\\s+(?:(?:(?:un)?til)|(?:to)|(?:\\|))\\s+${Mf.source})?`);const C_=new RegExp(`(${Mf.source}(\\s*/\\s*${Mf.source})?)(${dv.source})?\\s*:`),$h=new RegExp(`^(\\s*)${C_.source}(.*)`,"i");let ve=0;++ve;const A_=++ve,N_=++ve,L_=++ve,R_=++ve,P_=++ve,$_=++ve,Y_=++ve,F_=++ve,U_=++ve,z_=++ve,H_=++ve,B_=++ve;++ve;const W_=++ve;++ve;++ve;++ve;++ve;++ve;++ve;++ve;++ve;++ve;++ve;++ve;++ve;const j_=++ve,V_=++ve,q_=++ve,K_=++ve,G_=++ve,Z_=++ve,X_=++ve,J_=++ve,Q_=++ve,eD=++ve,tD=++ve,nD=++ve,sD=++ve;++ve;const iD=++ve;++ve;++ve;++ve;++ve;++ve;++ve;++ve;++ve;++ve;++ve;++ve;++ve;const rD=++ve,oD=++ve,qm=++ve,Yh=new RegExp("^\\s*(\\d{1,5})\\s?(BCE|BC|AD|CE)?(?:\\s?[-]\\s?(\\d{1,5})\\s?(BCE|BC|AD|CE)?)?(?=\\s*:)(.*)","i");let Ro=-1;const aD=++Ro,lD=++Ro,cD=++Ro,uD=++Ro,Km=++Ro,Gm=++Ro;function Zm(t){return t.startsWith("http://")||t.startsWith("https://")||t.startsWith("/")?t:`http://${t}`}const To="M/d/y",fD="d/M/y",hD="M/y",dD="y";class Jn{static diffFromString(e){const n=e.matchAll(Df);let s=n.next();const i={};for(;s.value;){const r=s.value,o=parseInt(r[1]);r[3]?i.milliseconds=(i.milliseconds??0)+o:r[4]?i.seconds=(i.seconds??0)+o:r[5]?i.minutes=(i.minutes??0)+o:r[6]?i.hours=(i.hours??0)+o:r[7]||(r[8]?i.days=(i.days??0)+o:r[9]?i.weeks=(i.weeks??0)+o:r[10]?i.months=(i.months??0)+o:r[11]&&(i.years=(i.years??0)+o)),s=n.next()}return i}static from(e,n,s=!1){const i=e.matchAll(Df);let r=i.next();const o=s?"minus":"plus";for(;r.value;){const a=r.value,l=parseInt(a[1]);a[3]?n=n[o]({milliseconds:l}):a[4]?n=n[o]({seconds:l}):a[5]?n=n[o]({minutes:l}):a[6]?n=n[o]({hours:l}):a[7]?n=s?mD(l,n):pD(l,n):a[8]?n=n[o]({days:l}):a[9]?n=n[o]({weeks:l}):a[10]?n=n[o]({months:l}):a[11]&&(n=n[o]({years:l})),r=i.next()}return n}}function mD(t,e){const n=e.weekday-1,s=t-n;if(s<=0)return e.minus({days:t});const i=2,r=7,o=5,a=n,l=~~(s/o),c=s%o,u=l*r,f=c?i+c:0;return e.minus({days:a+u+f})}function pD(t,e){const i=6-e.weekday,r=t-i;if(r<=0)return e.plus({days:t});{const c=i,u=~~(r/5),f=r%5,h=u*7,d=f?2+f:0;return e.plus({days:c+h+d})}}class Eo{constructor({from:e,to:n,originalString:s,dateRangeInText:i,eventText:r,definition:o,isRelative:a,recurrence:l}){this.fromDateTime=e,this.toDateTime=n,this.originalString=s,this.dateRangeInText=i,this.eventText=r,this.recurrence=l==null?void 0:l.recurrence,this.recurrenceRangeInText=l==null?void 0:l.range,this.definition=o,this.isRelative=a}}const yD=/\[([^\]\<\>]+)\]\(((https?:\/\/)?[\w\d./\&\?=\-#:,_]+)\)/g,gD=/\[([^\]]+)\]\((location|map)\)/g,Xm=/!\[([^\]\<\>]*)\]\(((https?:\/\/)?[\w\d./\&\?=\-#:,_]+)\)/,vD=/@([\w\d\/]+)/g,wD=/(?:\s|^)(\d{1,3})%(?:\s|$)/;var xi;(function(t){t.TEXT="text",t.LIST_ITEM="listItem",t.CHECKBOX="checkbox",t.IMAGE="image"})(xi||(xi={}));class bD{constructor(e){this.raw=e,e.startsWith("- []")?(this.type=xi.CHECKBOX,this.value=!1,this.raw=e.substring(4).trim()):e.startsWith("- [ ]")?(this.type=xi.CHECKBOX,this.value=!1,this.raw=e.substring(5).trim()):e.startsWith("- [x]")?(this.type=xi.CHECKBOX,this.value=!0,this.raw=e.substring(5).trim()):e.startsWith("- ")?(this.type=xi.LIST_ITEM,this.raw=e.substring(2)):this.type=xi.TEXT}}class Jm{constructor(e,n){this.type="image",this.altText=e,this.link=n}}class TD{constructor(e,n,s){this.tags=[],this.supplemental=[],this.locations=[],this.matchedListItems=n;for(let i=0;i<e.length;i++){let r=e[i];if(!r.match(If)){if(i===0&&(r=r.replace(Xm,(o,a,l)=>(this.supplemental.push(new Jm(a,Zm(l))),""))),r=r.replace(gD,(o,a)=>(this.locations.push(a),"")),r=r.replace(sc,(o,a)=>(this.tags.includes(a)||this.tags.push(a),"")),i===0&&(r=r.replace(uv,(o,a)=>this.id?a:(this.id=a.substring(1),""))),!this.percent){const o=r.match(wD);o&&(this.percent=parseInt(o[0]))}e[i]=r}}this.eventDescription=e[0],this.supplemental=this.supplemental.concat(e.slice(1).filter(i=>!i.match(If)&&!!i.trim()).map(i=>{i=i.replace(sc,(o,a)=>(this.tags.includes(a)||this.tags.push(a),""));const r=i.match(Xm);return r?new Jm(r[1],Zm(r[2])):new bD(i.trim())})),this.completed=s}}var Ne;(function(t){t.Comment="comment",t.CheckboxItemIndicator="checkboxItemIndicator",t.listItemIndicator="listItemIndicator",t.ListItemContents="listItemContents",t.Tag="tag",t.tagDefinition="tagDefinition",t.Title="title",t.View="view",t.Viewer="viewer",t.Description="description",t.Section="section",t.DateRange="dateRange",t.DateRangeColon="dateRangeColon",t.Event="event",t.Edit="edit",t.Editor="editor",t.Recurrence="recurrence",t.FrontmatterDelimiter="frontMatterDelimiter",t.HeaderKey="headerKey",t.HeaderKeyColon="headerKeyColon",t.HeaderValue="headerValue",t.PropertyKey="propertyKey",t.PropertyKeyColon="propertyKeyColon",t.PropertyValue="propertyValue",t.EventDefinition="eventDefinition",t.SectionDefinition="sectionDefinition"})(Ne||(Ne={}));const Fh=t=>({fromDateTimeIso:t.fromDateTime.toISO(),toDateTimeIso:t.toDateTime.toISO()}),Kt=t=>({fromDateTime:H.fromISO(t.fromDateTimeIso,{setZone:!0}),toDateTime:H.fromISO(t.toDateTimeIso,{setZone:!0})});function yn(t){return!t.children}function ED(t){return!yn(t)}class Uh{constructor(){this.propOrder=[],this.tags=[],this.title="",this.children=[]}}let SD=class{constructor(e,n,s,i,r,o,a,l){this.firstLine={full:e,datePart:l,rest:i.eventText,restTrimmed:a.eventDescription},this.properties=n,this.propOrder=s,this.textRanges={whole:r,datePart:o,definition:o,recurrence:i.recurrenceRangeInText},this.dateRangeIso=Fh(i),this.recurrence=i.recurrence,this.tags=a.tags,this.supplemental=a.supplemental,this.matchedListItems=a.matchedListItems,this.id=(typeof n.id=="string"?n.id:void 0)||a.id,this.percent=a.percent,this.completed=a.completed,this.isRelative=i.isRelative}};function kD(){return H.now(),{events:new Uh,ranges:[],foldables:[],ids:{},header:{dateFormat:To},parseMessages:[],documentMessages:[]}}const _D=t=>{const e=[];for(const n of So(t))e.push(n);return e};function*So(t,e=[]){if(yield{eventy:t,path:e},t&&ED(t))for(let n=0;n<t.children.length;n++)yield*So(t.children[n],[...e,n])}const yv=(t,e,n,s)=>{if(!n||!n.length)return e.children.push(t),yn(t)?{path:[e.children.length-1],tail:t}:{path:[e.children.length-1,t.children.length],tail:s};{const{tail:i,path:r}=yv(t,e.children[n[0]],n.slice(1),s);return{path:[n[0],...r],tail:i}}},ua=(t,e)=>{if(!e.length)return t;const n=t;if(!(!n.children.length||n.children.length-1<e[0]))return ua(n.children[e[0]],e.slice(1))};function Vi(t,e,n,s,i,r){const o=t[e],a=t[n]||":00";let l=t[s];if(!l){const f=parseInt(o);isNaN(f)&&(l="am"),f<9||f===12?l="pm":l="am"}if(o)return{dateTimeIso:H.fromFormat(`${o}${a}${l}`,"h:mma").toISO(),granularity:a===":00"?"hour":"minute"};const c=t[i],u=t[r]||":00";return{dateTimeIso:H.fromFormat(`${c}${u}`,`${c.length===2&&c[0]==="0"?"HH":"H"}:mm`).toISO(),granularity:u===":00"?"hour":"minute"}}function DD(t){return Vi(t,kk,_k,Dk,Ok,Ik)}function OD(t){return Vi(t,i_,r_,o_,a_,l_)}function ID(t){return Vi(t,Uk,zk,Hk,Bk,Wk)}function MD(t){return Vi(t,w_,b_,T_,E_,S_)}function Qm(t,e,n,s,i,r,o,a,l,c,u,f,h){let d=t[n],y=t[s],m=t[i]||`${e.zonedNow.year}`,p=d&&y&&ep(`${m} ${d} ${parseInt(y)}`,e);if(d=t[r],p=p||d&&y&&tp(`${m} ${d} ${parseInt(y)}`,e),y=t[o],d=t[a],p=p||d&&y&&ep(`${m} ${d} ${parseInt(y)}`,e),d=t[l],p=p||d&&y&&tp(`${m} ${d} ${parseInt(y)}`,e),p){if(h){const g=H.fromISO(p.dateTimeIso,{setZone:!0,zone:e.timezone}),w=H.fromISO(h.dateTimeIso,{setZone:!0,zone:e.timezone});p.dateTimeIso=g.set({hour:w.hour,minute:w.minute}).toISO(),p.granularity=h.granularity}return p}if(m=t[c]||`${e.zonedNow.year}`,d=t[u],d)return{dateTimeIso:H.fromFormat(`${m} ${d}`,"y MMMM",{setZone:!0,zone:e.timezone}).toISO(),granularity:"month"};if(d=t[f],d)return{dateTimeIso:H.fromFormat(`${m} ${d}`,"y MMM",{setZone:!0,zone:e.timezone}).toISO(),granularity:"month"}}function ep(t,e){return{dateTimeIso:H.fromFormat(t,"y MMMM d",{setZone:!0,zone:e.timezone}).toISO(),granularity:"day"}}function tp(t,e){return{dateTimeIso:H.fromFormat(t,"y MMM d",{setZone:!0,zone:e.timezone}).toISO(),granularity:"day"}}function xD(t,e,n){const s=new Uh;return s.tags=[],s.style="group",s.textRanges={whole:n,definition:{from:n.from,to:n.from+t.length,type:Ne.SectionDefinition}},t=t.replace(zc,(i,r,o)=>(s.startExpanded=!r.length,s.style=o,s.textRanges.definition.to=s.textRanges.definition.from+r.length+o.length,"")).replace(sc,(i,r)=>(s.tags.includes(r)||s.tags.push(r),"")),s.title=t.trim(),s}function np(t,e,n){var o,a;e=typeof e=="string"&&e||To;const s=JSON.stringify({s:t,fullFormat:e}),i=(o=n.cache)==null?void 0:o.zone(n.timezone).slashDate.get(s);if(i)return i;const r=[[e,"day"],[hD,"month"],[dD,"year"]];for(const l of r){let c=H.fromFormat(t,l[0],{setZone:!0,zone:n.timezone});if(c.isValid){const u={dateTimeIso:c.toISO(),granularity:l[1]};return(a=n.cache)==null||a.zone(n.timezone).slashDate.set(s,u),u}}}function Ci(t,e){var o;const n=JSON.stringify(t),s=(o=e.cache)==null?void 0:o.zone(e.timezone).roundDateUp.get(n);if(s)return s;const i=a=>{var l;return(l=e.cache)==null||l.zone(e.timezone).roundDateUp.set(n,a),a},r=H.fromISO(t.dateTimeIso,{setZone:!0,zone:e.timezone});return!r.isValid||["instant","hour","minute","second"].includes(t.granularity)?i(t.dateTimeIso):i(r.plus({[t.granularity]:1}).toISO())}function sp(t,e,n){return typeof t=="string"&&(t=parseInt(t)),e&&(e==="BCE"||e==="BC")&&(t=-(t-1)),H.fromObject({year:t},{zone:n.timezone})}const ic=["MO","TU","WE","TH","FR","SA","SU"];class Pt{constructor(e,n){if(n===0)throw new Error("Can't create weekday with n == 0");this.weekday=e,this.n=n}static fromStr(e){return new Pt(ic.indexOf(e))}nth(e){return this.n===e?this:new Pt(this.weekday,e)}equals(e){return this.weekday===e.weekday&&this.n===e.n}toString(){let e=ic[this.weekday];return this.n&&(e=(this.n>0?"+":"")+String(this.n)+e),e}getJsWeekday(){return this.weekday===6?0:this.weekday+1}}const xt=function(t){return t!=null},Rs=function(t){return typeof t=="number"},ip=function(t){return typeof t=="string"&&ic.includes(t)},Bn=Array.isArray,zs=function(t,e=t){arguments.length===1&&(e=t,t=0);const n=[];for(let s=t;s<e;s++)n.push(s);return n},Ve=function(t,e){let n=0;const s=[];if(Bn(t))for(;n<e;n++)s[n]=[].concat(t);else for(;n<e;n++)s[n]=t;return s},CD=function(t){return Bn(t)?t:[t]};function Br(t,e,n=" "){const s=String(t);return e=e>>0,s.length>e?String(s):(e=e-s.length,e>n.length&&(n+=Ve(n,e/n.length)),n.slice(0,e)+String(s))}const AD=function(t,e,n){const s=t.split(e);return s.slice(0,n).concat([s.slice(n).join(e)])},Qn=function(t,e){const n=t%e;return n*e<0?n+e:n},Pu=function(t,e){return{div:Math.floor(t/e),mod:Qn(t,e)}},$s=function(t){return!xt(t)||t.length===0},Wt=function(t){return!$s(t)},st=function(t,e){return Wt(t)&&t.indexOf(e)!==-1},qi=function(t,e,n,s=0,i=0,r=0){return new Date(Date.UTC(t,e-1,n,s,i,r))},ND=[31,28,31,30,31,30,31,31,30,31,30,31],gv=1e3*60*60*24,vv=9999,wv=qi(1970,1,1),LD=[6,0,1,2,3,4,5],fa=function(t){return t%4===0&&t%100!==0||t%400===0},bv=function(t){return t instanceof Date},na=function(t){return bv(t)&&!isNaN(t.getTime())},RD=function(t,e){const n=t.getTime(),s=e.getTime(),i=n-s;return Math.round(i/gv)},xf=function(t){return RD(t,wv)},Tv=function(t){return new Date(wv.getTime()+t*gv)},PD=function(t){const e=t.getUTCMonth();return e===1&&fa(t.getUTCFullYear())?29:ND[e]},ko=function(t){return LD[t.getUTCDay()]},rp=function(t,e){const n=qi(t,e+1,1);return[ko(n),PD(n)]},Ev=function(t,e){return e=e||t,new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))},Cf=function(t){return new Date(t.getTime())},op=function(t){const e=[];for(let n=0;n<t.length;n++)e.push(Cf(t[n]));return e},Ma=function(t){t.sort(function(e,n){return e.getTime()-n.getTime()})},zh=function(t,e=!0){const n=new Date(t);return[Br(n.getUTCFullYear().toString(),4,"0"),Br(n.getUTCMonth()+1,2,"0"),Br(n.getUTCDate(),2,"0"),"T",Br(n.getUTCHours(),2,"0"),Br(n.getUTCMinutes(),2,"0"),Br(n.getUTCSeconds(),2,"0"),e?"Z":""].join("")},Hh=function(t){const n=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z?)?$/.exec(t);if(!n)throw new Error(`Invalid UNTIL value: ${t}`);return new Date(Date.UTC(parseInt(n[1],10),parseInt(n[2],10)-1,parseInt(n[3],10),parseInt(n[5],10)||0,parseInt(n[6],10)||0,parseInt(n[7],10)||0))},ap=function(t,e){return t.toLocaleString("sv-SE",{timeZone:e}).replace(" ","T")+"Z"},$D=function(t,e){const n=Intl.DateTimeFormat().resolvedOptions().timeZone,s=new Date(ap(t,n)),r=new Date(ap(t,e??"UTC")).getTime()-s.getTime();return new Date(t.getTime()-r)};class Li{constructor(e,n){this.minDate=null,this.maxDate=null,this._result=[],this.total=0,this.method=e,this.args=n,e==="between"?(this.maxDate=n.inc?n.before:new Date(n.before.getTime()-1),this.minDate=n.inc?n.after:new Date(n.after.getTime()+1)):e==="before"?this.maxDate=n.inc?n.dt:new Date(n.dt.getTime()-1):e==="after"&&(this.minDate=n.inc?n.dt:new Date(n.dt.getTime()+1))}accept(e){++this.total;const n=this.minDate&&e<this.minDate,s=this.maxDate&&e>this.maxDate;if(this.method==="between"){if(n)return!0;if(s)return!1}else if(this.method==="before"){if(s)return!1}else if(this.method==="after")return n?!0:(this.add(e),!1);return this.add(e)}add(e){return this._result.push(e),!0}getValue(){const e=this._result;switch(this.method){case"all":case"between":return e;case"before":case"after":default:return e.length?e[e.length-1]:null}}clone(){return new Li(this.method,this.args)}}class lp extends Li{constructor(e,n,s){super(e,n),this.iterator=s}add(e){return this.iterator(e,this._result.length)?(this._result.push(e),!0):!1}}const rc={dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],tokens:{SKIP:/^[ \r\n\t]+|^\.$/,number:/^[1-9][0-9]*/,numberAsText:/^(one|two|three)/i,every:/^every/i,"day(s)":/^days?/i,"weekday(s)":/^(weekdays?|business\s+days?|work\s+days?)/i,"week(s)":/^(weeks?|wks?|weekly)/i,"hour(s)":/^(hours?|hrs?|hourly)/i,"minute(s)":/^(minutes?|mins?)/i,"month(s)":/^(months?|monthly)/i,"year(s)":/^(years?|yearly|annually)/i,on:/^(on|in)/i,at:/^(at|@)/i,the:/^the/i,first:/^first/i,second:/^second/i,third:/^third/i,nth:/^([1-9][0-9]*)(\.|th|nd|rd|st)/i,last:/^last/i,for:/^(for|x)/i,"time(s)":/^times?/i,until:/^((un)?til)|\|/i,monday:/^(mo\.?(n\.?(days?)?)?)/i,tuesday:/^(tu\.?(e\.?(s\.?(days?)?)?)?)/i,wednesday:/^(we\.?(d\.?(n\.?(esdays?)?)?)?)/i,thursday:/^(th\.?(u\.?(r\.?(s\.?(days?)?)?)?)?)/i,friday:/^(fr\.?(i\.?(days?)?)?)/i,saturday:/^(sa\.?(t\.?(urdays?)?)?)/i,sunday:/^(su\.?(n\.?(days?)?)?)/i,january:/^(jan\.?(uary)?)/i,february:/^(feb\.?(ruary)?)/i,march:/^(mar\.?(ch)?)/i,april:/^(apr\.?(il)?)/i,may:/^may/i,june:/^(june?|jun\.)/i,july:/^(july?|jul\.)/i,august:/^(aug(ust)?|aug\.)/i,september:/^(sep(t(ember)?)?|sept\.|sep\.)/i,october:/^(oct(ober)?|oct\.)/i,november:/^(nov(ember)?|nov\.)/i,december:/^(dec(ember)?|dec\.)/i,comma:/^(,\s*|(and|or|&)\s*)+/i}},cp=function(t,e){return t.indexOf(e)!==-1},YD=t=>t.toString(),FD=(t,e,n)=>`${e} ${n}, ${t}`;class Rn{constructor(e,n=YD,s=rc,i=FD){if(this.text=[],this.language=s||rc,this.gettext=n,this.dateFormatter=i,this.rrule=e,this.options=e.options,this.origOptions=e.origOptions,this.origOptions.bymonthday){const r=[].concat(this.options.bymonthday),o=[].concat(this.options.bynmonthday);r.sort((a,l)=>a-l),o.sort((a,l)=>l-a),this.bymonthday=r.concat(o),this.bymonthday.length||(this.bymonthday=null)}if(xt(this.origOptions.byweekday)){const r=Bn(this.origOptions.byweekday)?this.origOptions.byweekday:[this.origOptions.byweekday],o=String(r);this.byweekday={allWeeks:r.filter(function(l){return!l.n}),someWeeks:r.filter(function(l){return!!l.n}),isWeekdays:o.indexOf("MO")!==-1&&o.indexOf("TU")!==-1&&o.indexOf("WE")!==-1&&o.indexOf("TH")!==-1&&o.indexOf("FR")!==-1&&o.indexOf("SA")===-1&&o.indexOf("SU")===-1,isEveryDay:o.indexOf("MO")!==-1&&o.indexOf("TU")!==-1&&o.indexOf("WE")!==-1&&o.indexOf("TH")!==-1&&o.indexOf("FR")!==-1&&o.indexOf("SA")!==-1&&o.indexOf("SU")!==-1};const a=function(l,c){return l.weekday-c.weekday};this.byweekday.allWeeks.sort(a),this.byweekday.someWeeks.sort(a),this.byweekday.allWeeks.length||(this.byweekday.allWeeks=null),this.byweekday.someWeeks.length||(this.byweekday.someWeeks=null)}else this.byweekday=null}static isFullyConvertible(e){if(!(e.options.freq in Rn.IMPLEMENTED)||e.origOptions.until&&e.origOptions.count)return!1;for(const s in e.origOptions){if(cp(["dtstart","tzid","wkst","freq"],s))return!0;if(!cp(Rn.IMPLEMENTED[e.options.freq],s))return!1}return!0}isFullyConvertible(){return Rn.isFullyConvertible(this.rrule)}toString(){const e=this.gettext;if(!(this.options.freq in Rn.IMPLEMENTED))return e("RRule error: Unable to fully convert this rrule to text");if(this.text=[e("every")],this[ue.FREQUENCIES[this.options.freq]](),this.options.until){this.add(e("until"));const n=this.options.until;this.add(this.dateFormatter(n.getUTCFullYear(),this.language.monthNames[n.getUTCMonth()],n.getUTCDate()))}else this.options.count&&this.add(e("for")).add(this.options.count.toString()).add(this.plural(this.options.count)?e("times"):e("time"));return this.isFullyConvertible()||this.add(e("(~ approximate)")),this.text.join("")}HOURLY(){const e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("hours"):e("hour"))}MINUTELY(){const e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("minutes"):e("minute"))}DAILY(){const e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.byweekday&&this.byweekday.isWeekdays?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(this.plural(this.options.interval)?e("days"):e("day")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday?this._byweekday():this.origOptions.byhour&&this._byhour()}WEEKLY(){const e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()).add(this.plural(this.options.interval)?e("weeks"):e("week")),this.byweekday&&this.byweekday.isWeekdays?this.options.interval===1?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(e("on")).add(e("weekdays")):this.byweekday&&this.byweekday.isEveryDay?this.plural(this.options.interval)?this.add(e("on")).add(e("every")).add(e("day")):this.add(e("day")):(this.options.interval===1&&this.add(e("week")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.origOptions.byhour&&this._byhour())}MONTHLY(){const e=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()).add(e("months")),this.plural(this.options.interval)&&this.add(e("in"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("months"):e("month"))),this.bymonthday?this._bymonthday():this.byweekday&&this.byweekday.isWeekdays?this.add(e("on")).add(e("weekdays")):this.byweekday&&this._byweekday()}YEARLY(){const e=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()),this.add(e("years"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("years"):e("year"))),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.options.byyearday&&this.add(e("on the")).add(this.list(this.options.byyearday,this.nth,e("and"))).add(e("day")),this.options.byweekno&&this.add(e("in")).add(this.plural(this.options.byweekno.length)?e("weeks"):e("week")).add(this.list(this.options.byweekno,void 0,e("and")))}_bymonthday(){const e=this.gettext;this.byweekday&&this.byweekday.allWeeks?this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext,e("or"))).add(e("the")).add(this.list(this.bymonthday,this.nth,e("or"))):this.add(e("on the")).add(this.list(this.bymonthday,this.nth,e("and")))}_byweekday(){const e=this.gettext;this.byweekday.allWeeks&&!this.byweekday.isWeekdays&&this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext)),this.byweekday.someWeeks&&(this.byweekday.allWeeks&&this.add(e("and")),this.add(e("on the")).add(this.list(this.byweekday.someWeeks,this.weekdaytext,e("and"))))}_byhour(){const e=this.gettext;this.add(e("at")).add(this.list(this.origOptions.byhour,void 0,e("and")))}_bymonth(){this.add(this.list(this.options.bymonth,this.monthtext,this.gettext("and")))}nth(e){e=parseInt(e.toString(),10);let n;const s=this.gettext;if(e===-1)return s("last");const i=Math.abs(e);switch(i){case 1:case 21:case 31:n=i+s("st");break;case 2:case 22:n=i+s("nd");break;case 3:case 23:n=i+s("rd");break;default:n=i+s("th")}return e<0?n+" "+s("last"):n}monthtext(e){return this.language.monthNames[e-1]}weekdaytext(e){const n=Rs(e)?(e+1)%7:e.getJsWeekday();return(e.n?this.nth(e.n)+" ":"")+this.language.dayNames[n]}plural(e){return e%100!==1}add(e){return this.text.push(" "),this.text.push(e),this}list(e,n,s,i=","){Bn(e)||(e=[e]);const r=function(a,l,c){let u="";for(let f=0;f<a.length;f++)f!==0&&(f===a.length-1?u+=" "+c+" ":u+=l+" "),u+=a[f];return u};n=n||function(a){return a.toString()};const o=a=>n&&n.call(this,a);return s?r(e.map(o),i,s):e.map(o).join(i+" ")}}let UD=class{constructor(e){this.done=!0,this.rules=e}start(e){return this.text=e,this.done=!1,this.nextSymbol()}isDone(){return this.done&&this.symbol===null}nextSymbol(){let e,n;this.symbol=null,this.value=null;do{if(this.done)return!1;let s;e=null;for(const i in this.rules){s=this.rules[i];const r=s.exec(this.text);r&&(e===null||r[0].length>e[0].length)&&(e=r,n=i)}if(e!=null&&(this.text=this.text.substr(e[0].length),this.text===""&&(this.done=!0)),e==null){this.done=!0,this.symbol=null,this.value=null;return}}while(n==="SKIP");return this.symbol=n,this.value=e,!0}accept(e){if(this.symbol===e){if(this.value){const n=this.value;return this.nextSymbol(),n}return this.nextSymbol(),!0}return!1}acceptNumber(){return this.accept("number")}expect(e){if(this.accept(e))return!0;throw new Error("expected "+e+" but found "+this.symbol)}};function Sv(t,e=rc){const n={},s=new UD(e.tokens);if(!s.start(t))return null;return i(),n.byweekday&&Array.isArray(n.byweekday)&&(n.byweekday=[...new Set(n.byweekday)]),n.bymonth&&Array.isArray(n.bymonth)&&(n.bymonth=[...new Set(n.bymonth)]),n;function i(){s.expect("every");const h=s.acceptNumber();if(h&&(n.interval=parseInt(h[0],10)),s.isDone())throw new Error("Unexpected end");switch(s.symbol){case"day(s)":if(n.freq=ue.DAILY,s.nextSymbol(),!s.isDone()){if(s.accept("on")){const y=a();y&&(n.bymonth=[y],s.nextSymbol())}o(),f()}break;case"weekday(s)":n.freq=ue.WEEKLY,n.byweekday=[ue.MO,ue.TU,ue.WE,ue.TH,ue.FR],s.nextSymbol(),o(),f();break;case"week(s)":n.freq=ue.WEEKLY,s.nextSymbol()&&(r(),o(),f());break;case"hour(s)":n.freq=ue.HOURLY,s.nextSymbol()&&(r(),f());break;case"minute(s)":n.freq=ue.MINUTELY,s.nextSymbol()&&(r(),f());break;case"month(s)":n.freq=ue.MONTHLY,s.nextSymbol()&&(r(),f());break;case"year(s)":n.freq=ue.YEARLY,s.nextSymbol()&&(r(),f());break;case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":n.freq=ue.WEEKLY;const d=s.symbol.substr(0,2).toUpperCase();if(n.byweekday=[ue[d]],!s.nextSymbol())return;for(;s.accept("comma");){if(s.isDone())throw new Error("Unexpected end");const y=l();if(!y)throw new Error("Unexpected symbol "+s.symbol+", expected weekday");n.byweekday.push(ue[y]),s.nextSymbol()}o(),u(),f();break;case"january":case"february":case"march":case"april":case"may":case"june":case"july":case"august":case"september":case"october":case"november":case"december":if(n.freq=ue.YEARLY,n.bymonth=[a()],!s.nextSymbol())return;for(;s.accept("comma");){if(s.isDone())throw new Error("Unexpected end");const y=a();if(!y)throw new Error("Unexpected symbol "+s.symbol+", expected month");n.bymonth.push(y),s.nextSymbol()}r(),f();break;default:throw new Error(`Unknown symbol: ${s.symbol}`)}}function r(){const h=s.accept("on"),d=s.accept("the");if(!(h||d))return;if(s.accept("every")){s.accept("day(s)")&&(n.byweekday=[ue.MO,ue.TU,ue.WE,ue.TH,ue.FR,ue.SA,ue.SU]);return}do{const m=c(),p=l(),g=a();if(m)p?(s.nextSymbol(),n.byweekday||(n.byweekday=[]),n.byweekday.push(ue[p].nth(m))):(n.bymonthday||(n.bymonthday=[]),n.bymonthday.push(m),s.accept("day(s)"));else if(p)s.nextSymbol(),n.byweekday||(n.byweekday=[]),n.byweekday.push(ue[p]);else if(s.symbol==="weekday(s)")s.nextSymbol(),n.byweekday||(n.byweekday=[ue.MO,ue.TU,ue.WE,ue.TH,ue.FR]);else if(s.symbol==="week(s)"){s.nextSymbol();let w=s.acceptNumber();if(!w)throw new Error("Unexpected symbol "+s.symbol+", expected week number");for(n.byweekno=[parseInt(w[0],10)];s.accept("comma");){if(w=s.acceptNumber(),!w)throw new Error("Unexpected symbol "+s.symbol+"; expected monthday");n.byweekno.push(parseInt(w[0],10))}}else if(g)s.nextSymbol(),n.bymonth||(n.bymonth=[]),n.bymonth.push(g);else return}while(s.accept("comma")||s.accept("the")||s.accept("on"))}function o(){if(s.accept("at"))do{let d=s.acceptNumber();if(!d)throw new Error("Unexpected symbol "+s.symbol+", expected hour");for(n.byhour=[parseInt(d[0],10)];s.accept("comma");){if(d=s.acceptNumber(),!d)throw new Error("Unexpected symbol "+s.symbol+"; expected hour");n.byhour.push(parseInt(d[0],10))}}while(s.accept("comma")||s.accept("at"))}function a(){switch(s.symbol){case"january":return 1;case"february":return 2;case"march":return 3;case"april":return 4;case"may":return 5;case"june":return 6;case"july":return 7;case"august":return 8;case"september":return 9;case"october":return 10;case"november":return 11;case"december":return 12;default:return!1}}function l(){switch(s.symbol){case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":return s.symbol.substr(0,2).toUpperCase();default:return!1}}function c(){switch(s.symbol){case"last":return s.nextSymbol(),-1;case"first":return s.nextSymbol(),1;case"second":return s.nextSymbol(),s.accept("last")?-2:2;case"third":return s.nextSymbol(),s.accept("last")?-3:3;case"nth":const h=parseInt(s.value[1],10);if(h<-366||h>366)throw new Error("Nth out of range: "+h);return s.nextSymbol(),s.accept("last")?-h:h;default:return!1}}function u(){s.accept("on"),s.accept("the");let h=c();if(h)for(n.bymonthday=[h],s.nextSymbol();s.accept("comma");){if(h=c(),!h)throw new Error("Unexpected symbol "+s.symbol+"; expected monthday");n.bymonthday.push(h),s.nextSymbol()}}function f(){if(s.symbol==="until"){const h=s.text.trim()==="now"?Date.now():Date.parse(s.text);if(!h)throw new Error("Cannot parse until date:"+s.text);n.until=new Date(h)}else s.accept("for")&&(n.count=parseInt(s.value[0],10),s.expect("number"))}}var Be;(function(t){t[t.YEARLY=0]="YEARLY",t[t.MONTHLY=1]="MONTHLY",t[t.WEEKLY=2]="WEEKLY",t[t.DAILY=3]="DAILY",t[t.HOURLY=4]="HOURLY",t[t.MINUTELY=5]="MINUTELY",t[t.SECONDLY=6]="SECONDLY"})(Be||(Be={}));function Bh(t){return t<Be.HOURLY}const zD=function(t,e=rc){return new ue(Sv(t,e)||void 0)},Po=["count","until","interval","byweekday","bymonthday","bymonth"];Rn.IMPLEMENTED=[];Rn.IMPLEMENTED[Be.HOURLY]=Po;Rn.IMPLEMENTED[Be.MINUTELY]=Po;Rn.IMPLEMENTED[Be.DAILY]=["byhour"].concat(Po);Rn.IMPLEMENTED[Be.WEEKLY]=Po;Rn.IMPLEMENTED[Be.MONTHLY]=Po;Rn.IMPLEMENTED[Be.YEARLY]=["byweekno","byyearday"].concat(Po);const HD=function(t,e,n,s){return new Rn(t,e,n,s).toString()},{isFullyConvertible:BD}=Rn;let oc=class{constructor(e,n,s,i){this.hour=e,this.minute=n,this.second=s,this.millisecond=i||0}getHours(){return this.hour}getMinutes(){return this.minute}getSeconds(){return this.second}getMilliseconds(){return this.millisecond}getTime(){return(this.hour*60*60+this.minute*60+this.second)*1e3+this.millisecond}};class WD extends oc{constructor(e,n,s,i,r,o,a){super(i,r,o,a),this.year=e,this.month=n,this.day=s}static fromDate(e){return new this(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.valueOf()%1e3)}getWeekday(){return ko(new Date(this.getTime()))}getTime(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond)).getTime()}getDay(){return this.day}getMonth(){return this.month}getYear(){return this.year}addYears(e){this.year+=e}addMonths(e){if(this.month+=e,this.month>12){const n=Math.floor(this.month/12),s=Qn(this.month,12);this.month=s,this.year+=n,this.month===0&&(this.month=12,--this.year)}}addWeekly(e,n){n>this.getWeekday()?this.day+=-(this.getWeekday()+1+(6-n))+e*7:this.day+=-(this.getWeekday()-n)+e*7,this.fixDay()}addDaily(e){this.day+=e,this.fixDay()}addHours(e,n,s){for(n&&(this.hour+=Math.floor((23-this.hour)/e)*e);;){this.hour+=e;const{div:i,mod:r}=Pu(this.hour,24);if(i&&(this.hour=r,this.addDaily(i)),$s(s)||st(s,this.hour))break}}addMinutes(e,n,s,i){for(n&&(this.minute+=Math.floor((1439-(this.hour*60+this.minute))/e)*e);;){this.minute+=e;const{div:r,mod:o}=Pu(this.minute,60);if(r&&(this.minute=o,this.addHours(r,!1,s)),($s(s)||st(s,this.hour))&&($s(i)||st(i,this.minute)))break}}addSeconds(e,n,s,i,r){for(n&&(this.second+=Math.floor((86399-(this.hour*3600+this.minute*60+this.second))/e)*e);;){this.second+=e;const{div:o,mod:a}=Pu(this.second,60);if(o&&(this.second=a,this.addMinutes(o,!1,s,i)),($s(s)||st(s,this.hour))&&($s(i)||st(i,this.minute))&&($s(r)||st(r,this.second)))break}}fixDay(){if(this.day<=28)return;let e=rp(this.year,this.month-1)[1];if(!(this.day<=e))for(;this.day>e;){if(this.day-=e,++this.month,this.month===13&&(this.month=1,++this.year,this.year>vv))return;e=rp(this.year,this.month-1)[1]}}add(e,n){const{freq:s,interval:i,wkst:r,byhour:o,byminute:a,bysecond:l}=e;switch(s){case Be.YEARLY:return this.addYears(i);case Be.MONTHLY:return this.addMonths(i);case Be.WEEKLY:return this.addWeekly(i,r);case Be.DAILY:return this.addDaily(i);case Be.HOURLY:return this.addHours(i,n,o);case Be.MINUTELY:return this.addMinutes(i,n,o,a);case Be.SECONDLY:return this.addSeconds(i,n,o,a,l)}}}function kv(t){const e=[],n=Object.keys(t);for(const s of n)st(bO,s)||e.push(s),bv(t[s])&&!na(t[s])&&e.push(s);if(e.length)throw new Error("Invalid options: "+e.join(", "));return Object.assign({},t)}function jD(t){const e=Object.assign(Object.assign({},jh),kv(t));if(xt(e.byeaster)&&(e.freq=ue.YEARLY),!(xt(e.freq)&&ue.FREQUENCIES[e.freq]))throw new Error(`Invalid frequency: ${e.freq} ${t.freq}`);if(e.dtstart||(e.dtstart=new Date(new Date().setMilliseconds(0))),xt(e.wkst)?Rs(e.wkst)||(e.wkst=e.wkst.weekday):e.wkst=ue.MO.weekday,xt(e.bysetpos)){Rs(e.bysetpos)&&(e.bysetpos=[e.bysetpos]);for(let n=0;n<e.bysetpos.length;n++){const s=e.bysetpos[n];if(s===0||!(s>=-366&&s<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}}if(!(e.byweekno||Wt(e.byweekno)||Wt(e.byyearday)||e.bymonthday||Wt(e.bymonthday)||xt(e.byweekday)||xt(e.byeaster)))switch(e.freq){case ue.YEARLY:e.bymonth||(e.bymonth=e.dtstart.getUTCMonth()+1),e.bymonthday=e.dtstart.getUTCDate();break;case ue.MONTHLY:e.bymonthday=e.dtstart.getUTCDate();break;case ue.WEEKLY:e.byweekday=[ko(e.dtstart)];break}if(xt(e.bymonth)&&!Bn(e.bymonth)&&(e.bymonth=[e.bymonth]),xt(e.byyearday)&&!Bn(e.byyearday)&&Rs(e.byyearday)&&(e.byyearday=[e.byyearday]),!xt(e.bymonthday))e.bymonthday=[],e.bynmonthday=[];else if(Bn(e.bymonthday)){const n=[],s=[];for(let i=0;i<e.bymonthday.length;i++){const r=e.bymonthday[i];r>0?n.push(r):r<0&&s.push(r)}e.bymonthday=n,e.bynmonthday=s}else e.bymonthday<0?(e.bynmonthday=[e.bymonthday],e.bymonthday=[]):(e.bynmonthday=[],e.bymonthday=[e.bymonthday]);if(xt(e.byweekno)&&!Bn(e.byweekno)&&(e.byweekno=[e.byweekno]),!xt(e.byweekday))e.bynweekday=null;else if(Rs(e.byweekday))e.byweekday=[e.byweekday],e.bynweekday=null;else if(ip(e.byweekday))e.byweekday=[Pt.fromStr(e.byweekday).weekday],e.bynweekday=null;else if(e.byweekday instanceof Pt)!e.byweekday.n||e.freq>ue.MONTHLY?(e.byweekday=[e.byweekday.weekday],e.bynweekday=null):(e.bynweekday=[[e.byweekday.weekday,e.byweekday.n]],e.byweekday=null);else{const n=[],s=[];for(let i=0;i<e.byweekday.length;i++){const r=e.byweekday[i];if(Rs(r)){n.push(r);continue}else if(ip(r)){n.push(Pt.fromStr(r).weekday);continue}!r.n||e.freq>ue.MONTHLY?n.push(r.weekday):s.push([r.weekday,r.n])}e.byweekday=Wt(n)?n:null,e.bynweekday=Wt(s)?s:null}return xt(e.byhour)?Rs(e.byhour)&&(e.byhour=[e.byhour]):e.byhour=e.freq<ue.HOURLY?[e.dtstart.getUTCHours()]:null,xt(e.byminute)?Rs(e.byminute)&&(e.byminute=[e.byminute]):e.byminute=e.freq<ue.MINUTELY?[e.dtstart.getUTCMinutes()]:null,xt(e.bysecond)?Rs(e.bysecond)&&(e.bysecond=[e.bysecond]):e.bysecond=e.freq<ue.SECONDLY?[e.dtstart.getUTCSeconds()]:null,{parsedOptions:e}}function VD(t){const e=t.dtstart.getTime()%1e3;if(!Bh(t.freq))return[];const n=[];return t.byhour.forEach(s=>{t.byminute.forEach(i=>{t.bysecond.forEach(r=>{n.push(new oc(s,i,r,e))})})}),n}function Af(t){const e=t.split(`
`).map(qD).filter(n=>n!==null);return Object.assign(Object.assign({},e[0]),e[1])}function ac(t){const e={},n=/DTSTART(?:;TZID=([^:=]+?))?(?::|=)([^;\s]+)/i.exec(t);if(!n)return e;const[,s,i]=n;return s&&(e.tzid=s),e.dtstart=Hh(i),e}function qD(t){if(t=t.replace(/^\s+|\s+$/,""),!t.length)return null;const e=/^([A-Z]+?)[:;]/.exec(t.toUpperCase());if(!e)return up(t);const[,n]=e;switch(n.toUpperCase()){case"RRULE":case"EXRULE":return up(t);case"DTSTART":return ac(t);default:throw new Error(`Unsupported RFC prop ${n} in ${t}`)}}function up(t){const e=t.replace(/^RRULE:/i,""),n=ac(e);return t.replace(/^(?:RRULE|EXRULE):/i,"").split(";").forEach(i=>{const[r,o]=i.split("=");switch(r.toUpperCase()){case"FREQ":n.freq=Be[o.toUpperCase()];break;case"WKST":n.wkst=Is[o.toUpperCase()];break;case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":const a=KD(o),l=r.toLowerCase();n[l]=a;break;case"BYWEEKDAY":case"BYDAY":n.byweekday=GD(o);break;case"DTSTART":case"TZID":const c=ac(t);n.tzid=c.tzid,n.dtstart=c.dtstart;break;case"UNTIL":n.until=Hh(o);break;case"BYEASTER":n.byeaster=Number(o);break;default:throw new Error("Unknown RRULE property '"+r+"'")}}),n}function KD(t){return t.indexOf(",")!==-1?t.split(",").map(fp):fp(t)}function fp(t){return/^[+-]?\d+$/.test(t)?Number(t):t}function GD(t){return t.split(",").map(n=>{if(n.length===2)return Is[n];const s=n.match(/^([+-]?\d{1,2})([A-Z]{2})$/);if(!s||s.length<3)throw new SyntaxError(`Invalid weekday string: ${n}`);const i=Number(s[1]),r=s[2],o=Is[r].weekday;return new Pt(o,i)})}class lc{constructor(e,n){if(isNaN(e.getTime()))throw new RangeError("Invalid date passed to DateWithZone");this.date=e,this.tzid=n}get isUTC(){return!this.tzid||this.tzid.toUpperCase()==="UTC"}toString(){const e=zh(this.date.getTime(),this.isUTC);return this.isUTC?`:${e}`:`;TZID=${this.tzid}:${e}`}getTime(){return this.date.getTime()}rezonedDate(){return this.isUTC?this.date:$D(this.date,this.tzid)}}function Wh(t){const e=[];let n="";const s=Object.keys(t),i=Object.keys(jh);for(let a=0;a<s.length;a++){if(s[a]==="tzid"||!st(i,s[a]))continue;let l=s[a].toUpperCase();const c=t[s[a]];let u="";if(!(!xt(c)||Bn(c)&&!c.length)){switch(l){case"FREQ":u=ue.FREQUENCIES[t.freq];break;case"WKST":Rs(c)?u=new Pt(c).toString():u=c.toString();break;case"BYWEEKDAY":l="BYDAY",u=CD(c).map(f=>f instanceof Pt?f:Bn(f)?new Pt(f[0],f[1]):new Pt(f)).toString();break;case"DTSTART":n=ZD(c,t.tzid);break;case"UNTIL":u=zh(c,!t.tzid);break;default:if(Bn(c)){const f=[];for(let h=0;h<c.length;h++)f[h]=String(c[h]);u=f.toString()}else u=String(c)}u&&e.push([l,u])}}const r=e.map(([a,l])=>`${a}=${l.toString()}`).join(";");let o="";return r!==""&&(o=`RRULE:${r}`),[n,o].filter(a=>!!a).join(`
`)}function ZD(t,e){return t?"DTSTART"+new lc(new Date(t),e).toString():""}function XD(t,e){return Array.isArray(t)?!Array.isArray(e)||t.length!==e.length?!1:t.every((n,s)=>n.getTime()===e[s].getTime()):t instanceof Date?e instanceof Date&&t.getTime()===e.getTime():t===e}class JD{constructor(){this.all=!1,this.before=[],this.after=[],this.between=[]}_cacheAdd(e,n,s){n&&(n=n instanceof Date?Cf(n):op(n)),e==="all"?this.all=n:(s._value=n,this[e].push(s))}_cacheGet(e,n){let s=!1;const i=n?Object.keys(n):[],r=function(a){for(let l=0;l<i.length;l++){const c=i[l];if(!XD(n[c],a[c]))return!0}return!1},o=this[e];if(e==="all")s=this.all;else if(Bn(o))for(let a=0;a<o.length;a++){const l=o[a];if(!(i.length&&r(l))){s=l._value;break}}if(!s&&this.all){const a=new Li(e,n);for(let l=0;l<this.all.length&&a.accept(this.all[l]);l++);s=a.getValue(),this._cacheAdd(e,s,n)}return Bn(s)?op(s):s instanceof Date?Cf(s):s}}const QD=[...Ve(1,31),...Ve(2,28),...Ve(3,31),...Ve(4,30),...Ve(5,31),...Ve(6,30),...Ve(7,31),...Ve(8,31),...Ve(9,30),...Ve(10,31),...Ve(11,30),...Ve(12,31),...Ve(1,7)],eO=[...Ve(1,31),...Ve(2,29),...Ve(3,31),...Ve(4,30),...Ve(5,31),...Ve(6,30),...Ve(7,31),...Ve(8,31),...Ve(9,30),...Ve(10,31),...Ve(11,30),...Ve(12,31),...Ve(1,7)],tO=zs(1,29),nO=zs(1,30),Ri=zs(1,31),ln=zs(1,32),sO=[...ln,...nO,...ln,...Ri,...ln,...Ri,...ln,...ln,...Ri,...ln,...Ri,...ln,...ln.slice(0,7)],iO=[...ln,...tO,...ln,...Ri,...ln,...Ri,...ln,...ln,...Ri,...ln,...Ri,...ln,...ln.slice(0,7)],rO=zs(-28,0),oO=zs(-29,0),Pi=zs(-30,0),cn=zs(-31,0),aO=[...cn,...oO,...cn,...Pi,...cn,...Pi,...cn,...cn,...Pi,...cn,...Pi,...cn,...cn.slice(0,7)],lO=[...cn,...rO,...cn,...Pi,...cn,...Pi,...cn,...cn,...Pi,...cn,...Pi,...cn,...cn.slice(0,7)],cO=[0,31,60,91,121,152,182,213,244,274,305,335,366],uO=[0,31,59,90,120,151,181,212,243,273,304,334,365],hp=function(){let t=[];for(let e=0;e<55;e++)t=t.concat(zs(7));return t}();function fO(t,e){const n=qi(t,1,1),s=fa(t)?366:365,i=fa(t+1)?366:365,r=xf(n),o=ko(n),a=Object.assign(Object.assign({yearlen:s,nextyearlen:i,yearordinal:r,yearweekday:o},hO(t)),{wnomask:null});if($s(e.byweekno))return a;a.wnomask=Ve(0,s+7);let l,c,u=l=Qn(7-o+e.wkst,7);u>=4?(u=0,c=a.yearlen+Qn(o-e.wkst,7)):c=s-u;const f=Math.floor(c/7),h=Qn(c,7),d=Math.floor(f+h/4);for(let y=0;y<e.byweekno.length;y++){let m=e.byweekno[y];if(m<0&&(m+=d+1),!(m>0&&m<=d))continue;let p;m>1?(p=u+(m-1)*7,u!==l&&(p-=7-l)):p=u;for(let g=0;g<7&&(a.wnomask[p]=1,p++,a.wdaymask[p]!==e.wkst);g++);}if(st(e.byweekno,1)){let y=u+d*7;if(u!==l&&(y-=7-l),y<s)for(let m=0;m<7&&(a.wnomask[y]=1,y+=1,a.wdaymask[y]!==e.wkst);m++);}if(u){let y;if(st(e.byweekno,-1))y=-1;else{const m=ko(qi(t-1,1,1));let p=Qn(7-m.valueOf()+e.wkst,7);const g=fa(t-1)?366:365;let w;p>=4?(p=0,w=g+Qn(m-e.wkst,7)):w=s-u,y=Math.floor(52+Qn(w,7)/4)}if(st(e.byweekno,y))for(let m=0;m<u;m++)a.wnomask[m]=1}return a}function hO(t){const e=fa(t)?366:365,n=qi(t,1,1),s=ko(n);return e===365?{mmask:QD,mdaymask:iO,nmdaymask:lO,wdaymask:hp.slice(s),mrange:uO}:{mmask:eO,mdaymask:sO,nmdaymask:aO,wdaymask:hp.slice(s),mrange:cO}}function dO(t,e,n,s,i,r){const o={lastyear:t,lastmonth:e,nwdaymask:[]};let a=[];if(r.freq===ue.YEARLY)if($s(r.bymonth))a=[[0,n]];else for(let l=0;l<r.bymonth.length;l++)e=r.bymonth[l],a.push(s.slice(e-1,e+1));else r.freq===ue.MONTHLY&&(a=[s.slice(e-1,e+1)]);if($s(a))return o;o.nwdaymask=Ve(0,n);for(let l=0;l<a.length;l++){const c=a[l],u=c[0],f=c[1]-1;for(let h=0;h<r.bynweekday.length;h++){let d;const[y,m]=r.bynweekday[h];m<0?(d=f+(m+1)*7,d-=Qn(i[d]-y,7)):(d=u+(m-1)*7,d+=Qn(7-i[d]+y,7)),u<=d&&d<=f&&(o.nwdaymask[d]=1)}}return o}function mO(t,e=0){const n=t%19,s=Math.floor(t/100),i=t%100,r=Math.floor(s/4),o=s%4,a=Math.floor((s+8)/25),l=Math.floor((s-a+1)/3),c=Math.floor(19*n+s-r-l+15)%30,u=Math.floor(i/4),f=i%4,h=Math.floor(32+2*o+2*u-c-f)%7,d=Math.floor((n+11*c+22*h)/451),y=Math.floor((c+h-7*d+114)/31),m=(c+h-7*d+114)%31+1,p=Date.UTC(t,y-1,m+e),g=Date.UTC(t,0,1);return[Math.ceil((p-g)/(1e3*60*60*24))]}class pO{constructor(e){this.options=e}rebuild(e,n){const s=this.options;if(e!==this.lastyear&&(this.yearinfo=fO(e,s)),Wt(s.bynweekday)&&(n!==this.lastmonth||e!==this.lastyear)){const{yearlen:i,mrange:r,wdaymask:o}=this.yearinfo;this.monthinfo=dO(e,n,i,r,o,s)}xt(s.byeaster)&&(this.eastermask=mO(e,s.byeaster))}get lastyear(){return this.monthinfo?this.monthinfo.lastyear:null}get lastmonth(){return this.monthinfo?this.monthinfo.lastmonth:null}get yearlen(){return this.yearinfo.yearlen}get yearordinal(){return this.yearinfo.yearordinal}get mrange(){return this.yearinfo.mrange}get wdaymask(){return this.yearinfo.wdaymask}get mmask(){return this.yearinfo.mmask}get wnomask(){return this.yearinfo.wnomask}get nwdaymask(){return this.monthinfo?this.monthinfo.nwdaymask:[]}get nextyearlen(){return this.yearinfo.nextyearlen}get mdaymask(){return this.yearinfo.mdaymask}get nmdaymask(){return this.yearinfo.nmdaymask}ydayset(){return[zs(this.yearlen),0,this.yearlen]}mdayset(e,n){const s=this.mrange[n-1],i=this.mrange[n],r=Ve(null,this.yearlen);for(let o=s;o<i;o++)r[o]=o;return[r,s,i]}wdayset(e,n,s){const i=Ve(null,this.yearlen+7);let r=xf(qi(e,n,s))-this.yearordinal;const o=r;for(let a=0;a<7&&(i[r]=r,++r,this.wdaymask[r]!==this.options.wkst);a++);return[i,o,r]}ddayset(e,n,s){const i=Ve(null,this.yearlen),r=xf(qi(e,n,s))-this.yearordinal;return i[r]=r,[i,r,r+1]}htimeset(e,n,s,i){let r=[];return this.options.byminute.forEach(o=>{r=r.concat(this.mtimeset(e,o,s,i))}),Ma(r),r}mtimeset(e,n,s,i){const r=this.options.bysecond.map(o=>new oc(e,n,o,i));return Ma(r),r}stimeset(e,n,s,i){return[new oc(e,n,s,i)]}getdayset(e){switch(e){case Be.YEARLY:return this.ydayset.bind(this);case Be.MONTHLY:return this.mdayset.bind(this);case Be.WEEKLY:return this.wdayset.bind(this);case Be.DAILY:return this.ddayset.bind(this);default:return this.ddayset.bind(this)}}gettimeset(e){switch(e){case Be.HOURLY:return this.htimeset.bind(this);case Be.MINUTELY:return this.mtimeset.bind(this);case Be.SECONDLY:return this.stimeset.bind(this)}}}function yO(t,e,n,s,i,r){const o=[];for(let a=0;a<t.length;a++){let l,c;const u=t[a];u<0?(l=Math.floor(u/e.length),c=Qn(u,e.length)):(l=Math.floor((u-1)/e.length),c=Qn(u-1,e.length));const f=[];for(let p=n;p<s;p++){const g=r[p];xt(g)&&f.push(g)}let h;l<0?h=f.slice(l)[0]:h=f[l];const d=e[c],y=Tv(i.yearordinal+h),m=Ev(y,d);st(o,m)||o.push(m)}return Ma(o),o}function _v(t,e){const{dtstart:n,freq:s,interval:i,until:r,bysetpos:o}=e;let a=e.count;if(a===0||i===0)return js(t);const l=WD.fromDate(n),c=new pO(e);c.rebuild(l.year,l.month);let u=wO(c,l,e);for(;;){const[f,h,d]=c.getdayset(s)(l.year,l.month,l.day),y=vO(f,h,d,c,e);if(Wt(o)){const m=yO(o,u,h,d,c,f);for(let p=0;p<m.length;p++){const g=m[p];if(r&&g>r)return js(t);if(g>=n){const w=dp(g,e);if(!t.accept(w)||a&&(--a,!a))return js(t)}}}else for(let m=h;m<d;m++){const p=f[m];if(!xt(p))continue;const g=Tv(c.yearordinal+p);for(let w=0;w<u.length;w++){const T=u[w],k=Ev(g,T);if(r&&k>r)return js(t);if(k>=n){const _=dp(k,e);if(!t.accept(_)||a&&(--a,!a))return js(t)}}}if(e.interval===0||(l.add(e,y),l.year>vv))return js(t);Bh(s)||(u=c.gettimeset(s)(l.hour,l.minute,l.second,0)),c.rebuild(l.year,l.month)}}function gO(t,e,n){const{bymonth:s,byweekno:i,byweekday:r,byeaster:o,bymonthday:a,bynmonthday:l,byyearday:c}=n;return Wt(s)&&!st(s,t.mmask[e])||Wt(i)&&!t.wnomask[e]||Wt(r)&&!st(r,t.wdaymask[e])||Wt(t.nwdaymask)&&!t.nwdaymask[e]||o!==null&&!st(t.eastermask,e)||(Wt(a)||Wt(l))&&!st(a,t.mdaymask[e])&&!st(l,t.nmdaymask[e])||Wt(c)&&(e<t.yearlen&&!st(c,e+1)&&!st(c,-t.yearlen+e)||e>=t.yearlen&&!st(c,e+1-t.yearlen)&&!st(c,-t.nextyearlen+e-t.yearlen))}function dp(t,e){return new lc(t,e.tzid).rezonedDate()}function js(t){return t.getValue()}function vO(t,e,n,s,i){let r=!1;for(let o=e;o<n;o++){const a=t[o];r=gO(s,a,i),r&&(t[a]=null)}return r}function wO(t,e,n){const{freq:s,byhour:i,byminute:r,bysecond:o}=n;return Bh(s)?VD(n):s>=ue.HOURLY&&Wt(i)&&!st(i,e.hour)||s>=ue.MINUTELY&&Wt(r)&&!st(r,e.minute)||s>=ue.SECONDLY&&Wt(o)&&!st(o,e.second)?[]:t.gettimeset(s)(e.hour,e.minute,e.second,e.millisecond)}const Is={MO:new Pt(0),TU:new Pt(1),WE:new Pt(2),TH:new Pt(3),FR:new Pt(4),SA:new Pt(5),SU:new Pt(6)},jh={freq:Be.YEARLY,dtstart:null,interval:1,wkst:Is.MO,count:null,until:null,tzid:null,bysetpos:null,bymonth:null,bymonthday:null,bynmonthday:null,byyearday:null,byweekno:null,byweekday:null,bynweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null},bO=Object.keys(jh);let ue=class Fl{constructor(e={},n=!1){this._cache=n?null:new JD,this.origOptions=kv(e);const{parsedOptions:s}=jD(e);this.options=s}static parseText(e,n){return Sv(e,n)}static fromText(e,n){return zD(e,n)}static fromString(e){return new Fl(Fl.parseString(e)||void 0)}_iter(e){return _v(e,this.options)}_cacheGet(e,n){return this._cache?this._cache._cacheGet(e,n):!1}_cacheAdd(e,n,s){if(this._cache)return this._cache._cacheAdd(e,n,s)}all(e){if(e)return this._iter(new lp("all",{},e));let n=this._cacheGet("all");return n===!1&&(n=this._iter(new Li("all",{})),this._cacheAdd("all",n)),n}between(e,n,s=!1,i){if(!na(e)||!na(n))throw new Error("Invalid date passed in to RRule.between");const r={before:n,after:e,inc:s};if(i)return this._iter(new lp("between",r,i));let o=this._cacheGet("between",r);return o===!1&&(o=this._iter(new Li("between",r)),this._cacheAdd("between",o,r)),o}before(e,n=!1){if(!na(e))throw new Error("Invalid date passed in to RRule.before");const s={dt:e,inc:n};let i=this._cacheGet("before",s);return i===!1&&(i=this._iter(new Li("before",s)),this._cacheAdd("before",i,s)),i}after(e,n=!1){if(!na(e))throw new Error("Invalid date passed in to RRule.after");const s={dt:e,inc:n};let i=this._cacheGet("after",s);return i===!1&&(i=this._iter(new Li("after",s)),this._cacheAdd("after",i,s)),i}count(){return this.all().length}toString(){return Wh(this.origOptions)}toText(e,n,s){return HD(this,e,n,s)}isFullyConvertibleToText(){return BD(this)}clone(){return new Fl(this.origOptions)}};ue.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"];ue.YEARLY=Be.YEARLY;ue.MONTHLY=Be.MONTHLY;ue.WEEKLY=Be.WEEKLY;ue.DAILY=Be.DAILY;ue.HOURLY=Be.HOURLY;ue.MINUTELY=Be.MINUTELY;ue.SECONDLY=Be.SECONDLY;ue.MO=Is.MO;ue.TU=Is.TU;ue.WE=Is.WE;ue.TH=Is.TH;ue.FR=Is.FR;ue.SA=Is.SA;ue.SU=Is.SU;ue.parseString=Af;ue.optionsToString=Wh;function TO(t,e,n,s,i,r){const o={},a=t.accept;function l(u,f){n.forEach(function(h){h.between(u,f,!0).forEach(function(d){o[Number(d)]=!0})})}i.forEach(function(u){const f=new lc(u,r).rezonedDate();o[Number(f)]=!0}),t.accept=function(u){const f=Number(u);return isNaN(f)?a.call(this,u):!o[f]&&(l(new Date(f-1),new Date(f+1)),!o[f])?(o[f]=!0,a.call(this,u)):!0},t.method==="between"&&(l(t.args.after,t.args.before),t.accept=function(u){const f=Number(u);return o[f]?!0:(o[f]=!0,a.call(this,u))});for(let u=0;u<s.length;u++){const f=new lc(s[u],r).rezonedDate();if(!t.accept(new Date(f.getTime())))break}e.forEach(function(u){_v(t,u.options)});const c=t._result;switch(Ma(c),t.method){case"all":case"between":return c;case"before":return c.length&&c[c.length-1]||null;case"after":default:return c.length&&c[0]||null}}const mp={dtstart:null,cache:!1,unfold:!1,forceset:!1,compatible:!1,tzid:null};function EO(t,e){const n=[];let s=[];const i=[];let r=[];const o=ac(t),{dtstart:a}=o;let{tzid:l}=o;return OO(t,e.unfold).forEach(u=>{var f;if(!u)return;const{name:h,parms:d,value:y}=DO(u);switch(h.toUpperCase()){case"RRULE":if(d.length)throw new Error(`unsupported RRULE parm: ${d.join(",")}`);n.push(Af(u));break;case"RDATE":const[,m]=(f=/RDATE(?:;TZID=([^:=]+))?/i.exec(u))!==null&&f!==void 0?f:[];m&&!l&&(l=m),s=s.concat(pp(y,d));break;case"EXRULE":if(d.length)throw new Error(`unsupported EXRULE parm: ${d.join(",")}`);i.push(Af(y));break;case"EXDATE":r=r.concat(pp(y,d));break;case"DTSTART":break;default:throw new Error("unsupported property: "+h)}}),{dtstart:a,tzid:l,rrulevals:n,rdatevals:s,exrulevals:i,exdatevals:r}}function SO(t,e){const{rrulevals:n,rdatevals:s,exrulevals:i,exdatevals:r,dtstart:o,tzid:a}=EO(t,e),l=e.cache===!1;if(e.compatible&&(e.forceset=!0,e.unfold=!0),e.forceset||n.length>1||s.length||i.length||r.length){const u=new Hc(l);return u.dtstart(o),u.tzid(a||void 0),n.forEach(f=>{u.rrule(new ue($u(f,o,a),l))}),s.forEach(f=>{u.rdate(f)}),i.forEach(f=>{u.exrule(new ue($u(f,o,a),l))}),r.forEach(f=>{u.exdate(f)}),e.compatible&&e.dtstart&&u.rdate(o),u}const c=n[0]||{};return new ue($u(c,c.dtstart||e.dtstart||o,c.tzid||e.tzid||a),l)}function Nf(t,e={}){return SO(t,kO(e))}function $u(t,e,n){return Object.assign(Object.assign({},t),{dtstart:e,tzid:n})}function kO(t){const e=[],n=Object.keys(t),s=Object.keys(mp);if(n.forEach(function(i){st(s,i)||e.push(i)}),e.length)throw new Error("Invalid options: "+e.join(", "));return Object.assign(Object.assign({},mp),t)}function _O(t){if(t.indexOf(":")===-1)return{name:"RRULE",value:t};const[e,n]=AD(t,":",1);return{name:e,value:n}}function DO(t){const{name:e,value:n}=_O(t),s=e.split(";");if(!s)throw new Error("empty property name");return{name:s[0].toUpperCase(),parms:s.slice(1),value:n}}function OO(t,e=!1){if(t=t&&t.trim(),!t)throw new Error("Invalid empty string");if(!e)return t.split(/\s/);const n=t.split(`
`);let s=0;for(;s<n.length;){const i=n[s]=n[s].replace(/\s+$/g,"");i?s>0&&i[0]===" "?(n[s-1]+=i.slice(1),n.splice(s,1)):s+=1:n.splice(s,1)}return n}function IO(t){t.forEach(e=>{if(!/(VALUE=DATE(-TIME)?)|(TZID=)/.test(e))throw new Error("unsupported RDATE/EXDATE parm: "+e)})}function pp(t,e){return IO(e),t.split(",").map(n=>Hh(n))}function yp(t){return e=>{if(e!==void 0&&(this[`_${t}`]=e),this[`_${t}`]!==void 0)return this[`_${t}`];for(let n=0;n<this._rrule.length;n++){const s=this._rrule[n].origOptions[t];if(s)return s}}}class Hc extends ue{constructor(e=!1){super({},e),this.dtstart=yp.apply(this,["dtstart"]),this.tzid=yp.apply(this,["tzid"]),this._rrule=[],this._rdate=[],this._exrule=[],this._exdate=[]}_iter(e){return TO(e,this._rrule,this._exrule,this._rdate,this._exdate,this.tzid())}rrule(e){gp(e,this._rrule)}exrule(e){gp(e,this._exrule)}rdate(e){vp(e,this._rdate)}exdate(e){vp(e,this._exdate)}rrules(){return this._rrule.map(e=>Nf(e.toString()))}exrules(){return this._exrule.map(e=>Nf(e.toString()))}rdates(){return this._rdate.map(e=>new Date(e.getTime()))}exdates(){return this._exdate.map(e=>new Date(e.getTime()))}valueOf(){let e=[];return!this._rrule.length&&this._dtstart&&(e=e.concat(Wh({dtstart:this._dtstart}))),this._rrule.forEach(function(n){e=e.concat(n.toString().split(`
`))}),this._exrule.forEach(function(n){e=e.concat(n.toString().split(`
`).map(s=>s.replace(/^RRULE:/,"EXRULE:")).filter(s=>!/^DTSTART/.test(s)))}),this._rdate.length&&e.push(wp("RDATE",this._rdate,this.tzid())),this._exdate.length&&e.push(wp("EXDATE",this._exdate,this.tzid())),e}toString(){return this.valueOf().join(`
`)}clone(){const e=new Hc(!!this._cache);return this._rrule.forEach(n=>e.rrule(n.clone())),this._exrule.forEach(n=>e.exrule(n.clone())),this._rdate.forEach(n=>e.rdate(new Date(n.getTime()))),this._exdate.forEach(n=>e.exdate(new Date(n.getTime()))),e}}function gp(t,e){if(!(t instanceof ue))throw new TypeError(String(t)+" is not RRule instance");st(e.map(String),String(t))||e.push(t)}function vp(t,e){if(!(t instanceof Date))throw new TypeError(String(t)+" is not Date instance");st(e.map(Number),Number(t))||(e.push(t),Ma(e))}function wp(t,e,n){const s=!n||n.toUpperCase()==="UTC",i=s?`${t}:`:`${t};TZID=${n}:`,r=e.map(o=>zh(o.valueOf(),s)).join(",");return`${i}${r}`}const MO=Object.freeze(Object.defineProperty({__proto__:null,ALL_WEEKDAYS:ic,get Frequency(){return Be},RRule:ue,RRuleSet:Hc,Weekday:Pt,datetime:qi,rrulestr:Nf},Symbol.toStringTag,{value:"Module"})),{RRule:Dv}=MO;function Ov(t){var s,i;const e=t.until?((s=H.fromJSDate(t.until))==null?void 0:s.toISO())??void 0:void 0,n=t.dtstart?((i=H.fromJSDate(t.dtstart))==null?void 0:i.toISO())??void 0:void 0;return{...t,until:e,dtstart:n}}function xO(t){const e=t.until?H.fromISO(t.until).toJSDate():void 0,n=t.dtstart?H.fromISO(t.dtstart).toJSDate():void 0;return{...t,until:e,dtstart:n}}const bp=(t,e,n,s,i)=>{const r=s[oD];if(!r)return;const o=r.trim(),a=s[0].indexOf(o),l=n[e]+a,c=n[e]+a+o.length,u={type:Ne.Recurrence,from:l,to:c,content:r};try{const f=Dv.parseText(r);return{recurrence:Ov(f),range:u}}catch{i.parseMessages.push({type:"error",message:"Cannot parse recurrence",pos:[l,c]});return}},Tp=(t,e,n,s,i)=>{const r=s[O_];if(!r)return;const o=r.trim(),a=s[0].indexOf(o),l=n[e]+a,c=n[e]+a+o.length,u={type:Ne.Recurrence,from:l,to:c,content:r};try{const f=Dv.parseText(r);return{recurrence:Ov(f),range:u}}catch{i.parseMessages.push({type:"error",message:"Cannot parse recurrence",pos:[l,c]});return}};function CO(t,e,n,s){var be,Ee,vt;const i=t.match(Ph);if(!i)return;const r=i[dk],o=t.indexOf(r),a={type:Ne.DateRange,from:n[e]+o,to:n[e]+o+r.length};s.ranges.push(a);const l=t.indexOf(":",o+r.length),c=z=>({type:z,from:n[e]+l,to:n[e]+l+1}),u=(be=s.cache)==null?void 0:be.zone(s.timezone).ranges.get(r);if(u){const z=Tp(t,e,n,i,s);z&&s.ranges.push(z.range);const X=c(Ne.DateRangeColon);return s.ranges.push(X),new Eo({from:H.fromISO(u.fromDateTimeIso,{setZone:!0}),to:H.fromISO(u.toDateTimeIso,{setZone:!0}),originalString:r,dateRangeInText:a,eventText:i[Vm],recurrence:z,definition:{...a,type:Ne.EventDefinition,to:X.to},isRelative:!1})}const f=i[mk],h=i[Kk],d=i[Mk],y=i[xk],m=["before","by"].includes(y||"")?"before":"after",p=i[c_],g=Qm(i,s,Rk,$k,Yk,Pk,Ak,Nk,Lk,qk,jk,Vk,i[Fk]?ID(i):void 0),w=Qm(i,s,m_,y_,g_,p_,f_,h_,d_,D_,k_,__,i[v_]?MD(i):void 0),T=i[Ek],k=i[n_],_=i[yk],C=i[Zk],I=i[pk],M=i[Gk];let x,R,W="instant",N=!0,se=!1;if(d){N=!1,se=!0;const z=(Ee=i[Ck])==null?void 0:Ee.substring(1);let X;if(z){const ee=s.getById(z);if(ee&&yn(ee)){const Le=Kt(ee.dateRangeIso);m==="after"?X=Le.toDateTime:X=Le.fromDateTime}else s.parseMessages.push({type:"error",message:`Event ${z} not found`,pos:[n[e]+t.indexOf(z),n[e]+t.indexOf(z)+z.length]})}if(!X){const ee=s.priorEvent();ee?X=m==="after"?Kt(ee.dateRangeIso).toDateTime:Kt(ee.dateRangeIso).fromDateTime:X=s.zonedNow}!p&&!h?m==="before"?(R=X,x=Jn.from(d,X,!0)):(x=X,R=Jn.from(d,X)):m==="before"?p&&(R=Jn.from(d,X,!0),x=Jn.from(p,R,!0)):x=Jn.from(d,X),W="instant"}else if(g)x=H.fromISO(g.dateTimeIso,{setZone:!0,zone:s.timezone}),W=g.granularity;else if(T){const z=i[Sk];let X=T;z&&(X=X.substring(0,X.indexOf(z)).trim().replace(/,/g,""));const ee=np(X,s.header.dateFormat,s);if(ee)if(z){const Le=DD(i),ct=H.fromISO(Le.dateTimeIso);x=H.fromISO(ee.dateTimeIso,{setZone:!0,zone:s.timezone}).set({hour:ct.hour,minute:ct.minute}),W=Le.granularity}else x=H.fromISO(ee.dateTimeIso,{setZone:!0,zone:s.timezone}),W=ee.granularity;else s.parseMessages.push({type:"error",message:"Was supposed to have a slash date but couldn't parse it",pos:[a.from,a.to]})}else if(_){N=!1,se=!0;const z=Vi(i,gk,vk,wk,bk,Tk),X=s.priorEventToDateTime()||s.zonedNow,ee=H.fromISO(z.dateTimeIso,{setZone:!0,zone:s.timezone});let Le=X.set({hour:ee.hour,minute:ee.minute});Le<X?(Le=Le.plus({days:1}),x=Le,W=z.granularity):(x=Le,W=z.granularity)}else I?(x=s.zonedNow,W="instant"):(x=H.fromISO(f,{zone:s.timezone,setZone:!0}),W="instant");if((!x||!x.isValid)&&(x=s.zonedNow,W="instant"),!R)if(p){N=!1,se=!0;const z=i[u_];let X;if(z){const ee=s.getById(z);ee&&yn(ee)&&(X=Kt(ee.dateRangeIso).toDateTime)}X||(X=x),R=Jn.from(h,X)}else if(w)R=H.fromISO(Ci(w,s),{setZone:!0,zone:s.timezone});else if(k){const z=i[s_];let X=k;z&&(X=X.substring(0,X.indexOf(z)).trim().replace(/,/g,""));const ee=np(X,s.header.dateFormat,s);if(ee)if(z){const Le=H.fromISO(ee.dateTimeIso,{setZone:!0,zone:s.timezone}),ct=OD(i),os=H.fromISO(ct.dateTimeIso,{setZone:!0,zone:s.timezone});R=Le.set({hour:os.hour,minute:os.minute}),R=H.fromISO(Ci({dateTimeIso:R.toISO(),granularity:ct.granularity},s),{setZone:!0,zone:s.timezone})}else R=H.fromISO(Ci(ee,s),{setZone:!0,zone:s.timezone});else s.parseMessages.push({type:"error",message:"Was supposed to have a slash date but couldn't parse it",pos:[a.from,a.to]})}else if(C){const z=Vi(i,Xk,Jk,Qk,e_,t_),X=H.fromISO(z.dateTimeIso,{setZone:!0,zone:s.timezone});let ee=x.set({hour:X.hour,minute:X.minute});ee<x&&(ee=ee.plus({days:1})),R=ee,W=z.granularity}else M?(R=s.zonedNow,W="instant"):R=H.fromISO(Ci({dateTimeIso:h,granularity:"instant"},s),{setZone:!0,zone:s.timezone});(!R||!R.isValid)&&(R=H.fromISO(Ci({dateTimeIso:x.toISO(),granularity:W},s),{setZone:!0,zone:s.timezone}));const De=Tp(t,e,n,i,s);De&&s.ranges.push(De.range);const Xe=c(Ne.DateRangeColon);s.ranges.push(Xe);const Re=new Eo({from:x,to:R,originalString:r,dateRangeInText:a,eventText:i[Vm],recurrence:De,isRelative:se,definition:{...a,type:Ne.EventDefinition,to:Xe.to}});return N&&((vt=s.cache)==null||vt.zone(s.timezone).ranges.set(r,{fromDateTimeIso:x.toISO(),toDateTimeIso:R.toISO()})),Re}function AO(t,e,n,s){var Ee,vt,z;const i=t.match($h);if(!i)return;const r=i[A_],o=i[N_],a=!!i[L_],l=!!i[R_],c=!!i[P_],u=i[V_],f=i[q_],h=!!i[K_],d=!!i[G_],y=!!i[Z_],m=i[B_];i[sD];const p=i[H_],g=["before","by"].includes(m||"")?"before":"after",w=i[nD],T=i[j_],k=i[rD],_=t.indexOf(r),C={type:Ne.DateRange,from:n[e]+_,to:n[e]+_+r.length};s.ranges.push(C);const I=t.indexOf(":",_+r.length),M=X=>({type:X,from:n[e]+I,to:n[e]+I+1}),x=(Ee=s.cache)==null?void 0:Ee.zone(s.timezone).ranges.get(r);if(x){const X=bp(t,e,n,i,s);return X&&s.ranges.push(X.range),s.ranges.push(M(Ne.DateRangeColon)),new Eo({from:H.fromISO(x.fromDateTimeIso,{setZone:!0}),to:H.fromISO(x.toDateTimeIso,{setZone:!0}),originalString:r,dateRangeInText:C,eventText:i[qm],recurrence:X,isRelative:!1,definition:{...C,type:Ne.EventDefinition,to:n[e]+I+1}})}let R,W,N="instant",se=!0,De=!1;if(o)if(c){const X=Vi(i,$_,Y_,F_,U_,z_),ee=H.fromISO(X.dateTimeIso);R=H.fromISO(o.substring(0,10),{zone:s.timezone}).set({hour:ee.hour,minute:ee.minute}),N=X.granularity}else R=H.fromISO(o,{zone:s.timezone}),N=l?"day":a?"month":"year";else if(p){se=!1,De=!0;const X=(vt=i[W_])==null?void 0:vt.substring(1);let ee;if(X){const Le=s.getById(X);if(Le&&yn(Le)){const ct=Kt(Le.dateRangeIso);g==="after"?ee=ct.toDateTime:ee=ct.fromDateTime}else s.parseMessages.push({type:"error",message:`Event ${X} not found`,pos:[n[e]+t.indexOf(X),n[e]+t.indexOf(X)+X.length]})}if(!ee){const Le=s.priorEvent();Le?ee=g==="after"?Kt(Le.dateRangeIso).toDateTime:Kt(Le.dateRangeIso).fromDateTime:ee=s.zonedNow}!w&&!u?g==="before"?(W=ee,R=Jn.from(p,ee,!0)):(R=ee,W=Jn.from(p,ee)):g==="before"?w&&(W=Jn.from(p,ee,!0),R=Jn.from(w,W,!0)):R=Jn.from(p,ee),N="instant"}else T?(R=s.zonedNow,N="instant"):(R=H.fromISO(o,{zone:s.timezone}),N="instant");if((!R||!(R!=null&&R.isValid))&&(R=s.zonedNow,N="instant"),!W){if(w){const X=i[iD];let ee;if(X){const Le=s.getById(X);if(Le&&yn(Le))ee=Kt(Le.dateRangeIso).toDateTime,se=!1,De=!0;else{const ct=t.indexOf(X);s.parseMessages.push({type:"error",message:`Event ${X} not found`,pos:[n[e]+ct,n[e]+ct+X.length]})}}ee||(ee=R),W=Jn.from(w,ee)}else if(k)W=s.zonedNow,N="instant";else if(f)if(y){const X=Vi(i,X_,J_,Q_,eD,tD),ee=H.fromISO(X.dateTimeIso);W=H.fromISO(o.substring(0,10),{zone:s.timezone}).set({hour:ee.hour,minute:ee.minute})}else W=H.fromISO(Ci({dateTimeIso:f,granularity:d?"day":h?"month":"year"},s),{setZone:!0,zone:s.timezone})}(!W||!W.isValid)&&(W=H.fromISO(Ci({dateTimeIso:R.toISO(),granularity:N},s),{setZone:!0,zone:s.timezone}));const Xe=bp(t,e,n,i,s),Re=M(Ne.DateRangeColon);Xe&&s.ranges.push(Xe.range),s.ranges.push(Re);const be=new Eo({from:R,to:W,originalString:r,dateRangeInText:C,eventText:i[qm],recurrence:Xe,isRelative:De,definition:{...C,type:Ne.EventDefinition,to:Re.to}});return se&&((z=s.cache)==null||z.zone(s.timezone).ranges.set(r,{fromDateTimeIso:R.toISO(),toDateTimeIso:W.toISO()})),be}function NO(t,e,n,s){var k,_;const i=t.match(Yh);if(!i)return;const r=i[aD],o=i[lD],a=i[cD]||i[Km],l=i[uD],c=i[Km],u=t.indexOf(r),f={type:Ne.DateRange,from:n[e]+u,to:n[e]+u+r.length};s.ranges.push(f);const h=t.indexOf(":",u+r.length),d=C=>({type:C,from:n[e]+h,to:n[e]+h+1}),y=(k=s.cache)==null?void 0:k.zone(s.timezone).ranges.get(r);if(y){const C=d(Ne.DateRangeColon);return s.ranges.push(C),new Eo({from:H.fromISO(y.fromDateTimeIso,{setZone:!0}),to:H.fromISO(y.toDateTimeIso,{setZone:!0}),originalString:r,dateRangeInText:f,eventText:i[Gm],definition:{...f,type:Ne.EventDefinition,to:C.to},isRelative:!1})}let m,p,g="year";if(o)m=sp(o,a,s);else return;(!m||!(m!=null&&m.isValid))&&(m=s.zonedNow,g="instant"),p||l&&(p=sp(l,c,s)),(!p||!p.isValid)&&(p=H.fromISO(Ci({dateTimeIso:m.toISO(),granularity:g},s),{setZone:!0,zone:s.timezone}));const w=d(Ne.DateRangeColon);s.ranges.push(w);const T=new Eo({from:m,to:p,originalString:r,dateRangeInText:f,eventText:i[Gm],definition:{...f,type:Ne.EventDefinition,to:w.to},isRelative:!1});return(_=s.cache)==null||_.zone(s.timezone).ranges.set(r,{fromDateTimeIso:m.toISO(),toDateTimeIso:p.toISO()}),T}const Wr=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Iv=new Set,Lf=typeof process=="object"&&process?process:{},Mv=(t,e,n,s)=>{typeof Lf.emitWarning=="function"?Lf.emitWarning(t,e,n,s):console.error(`[${n}] ${e}: ${t}`)};let cc=globalThis.AbortController,Ep=globalThis.AbortSignal;var My;if(typeof cc>"u"){Ep=class{constructor(){U(this,"onabort");U(this,"_onabort",[]);U(this,"reason");U(this,"aborted",!1)}addEventListener(s,i){this._onabort.push(i)}},cc=class{constructor(){U(this,"signal",new Ep);e()}abort(s){var i,r;if(!this.signal.aborted){this.signal.reason=s,this.signal.aborted=!0;for(const o of this.signal._onabort)o(s);(r=(i=this.signal).onabort)==null||r.call(i,s)}}};let t=((My=Lf.env)==null?void 0:My.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const e=()=>{t&&(t=!1,Mv("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}const LO=t=>!Iv.has(t),wi=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),xv=t=>wi(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?Ul:null:null;class Ul extends Array{constructor(e){super(e),this.fill(0)}}var fo;const ur=class ur{constructor(e,n){U(this,"heap");U(this,"length");if(!E(ur,fo))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new n(e),this.length=0}static create(e){const n=xv(e);if(!n)return[];we(ur,fo,!0);const s=new ur(e,n);return we(ur,fo,!1),s}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}};fo=new WeakMap,Pe(ur,fo,!1);let Rf=ur;var xy,Cy,hs,Yn,ds,pr,ms,ho,mo,Rt,ps,Mt,ft,Me,Tn,Fn,nn,zt,ys,Ht,gs,vs,Un,ws,Ni,En,po,re,Pf,yr,Xs,Fa,zn,Cv,gr,yo,Ua,bi,Ti,$f,zl,Hl,ut,Yf,sa,Ei,Ff;const vd=class vd{constructor(e){Pe(this,re);Pe(this,hs);Pe(this,Yn);Pe(this,ds);Pe(this,pr);Pe(this,ms);Pe(this,ho);Pe(this,mo);U(this,"ttl");U(this,"ttlResolution");U(this,"ttlAutopurge");U(this,"updateAgeOnGet");U(this,"updateAgeOnHas");U(this,"allowStale");U(this,"noDisposeOnSet");U(this,"noUpdateTTL");U(this,"maxEntrySize");U(this,"sizeCalculation");U(this,"noDeleteOnFetchRejection");U(this,"noDeleteOnStaleGet");U(this,"allowStaleOnFetchAbort");U(this,"allowStaleOnFetchRejection");U(this,"ignoreFetchAbort");Pe(this,Rt);Pe(this,ps);Pe(this,Mt);Pe(this,ft);Pe(this,Me);Pe(this,Tn);Pe(this,Fn);Pe(this,nn);Pe(this,zt);Pe(this,ys);Pe(this,Ht);Pe(this,gs);Pe(this,vs);Pe(this,Un);Pe(this,ws);Pe(this,Ni);Pe(this,En);Pe(this,po);Pe(this,yr,()=>{});Pe(this,Xs,()=>{});Pe(this,Fa,()=>{});Pe(this,zn,()=>!1);Pe(this,gr,e=>{});Pe(this,yo,(e,n,s)=>{});Pe(this,Ua,(e,n,s,i)=>{if(s||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});U(this,xy,"LRUCache");const{max:n=0,ttl:s,ttlResolution:i=1,ttlAutopurge:r,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:l,dispose:c,onInsert:u,disposeAfter:f,noDisposeOnSet:h,noUpdateTTL:d,maxSize:y=0,maxEntrySize:m=0,sizeCalculation:p,fetchMethod:g,memoMethod:w,noDeleteOnFetchRejection:T,noDeleteOnStaleGet:k,allowStaleOnFetchRejection:_,allowStaleOnFetchAbort:C,ignoreFetchAbort:I}=e;if(n!==0&&!wi(n))throw new TypeError("max option must be a nonnegative integer");const M=n?xv(n):Array;if(!M)throw new Error("invalid max value: "+n);if(we(this,hs,n),we(this,Yn,y),this.maxEntrySize=m||E(this,Yn),this.sizeCalculation=p,this.sizeCalculation){if(!E(this,Yn)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(w!==void 0&&typeof w!="function")throw new TypeError("memoMethod must be a function if defined");if(we(this,mo,w),g!==void 0&&typeof g!="function")throw new TypeError("fetchMethod must be a function if specified");if(we(this,ho,g),we(this,Ni,!!g),we(this,Mt,new Map),we(this,ft,new Array(n).fill(void 0)),we(this,Me,new Array(n).fill(void 0)),we(this,Tn,new M(n)),we(this,Fn,new M(n)),we(this,nn,0),we(this,zt,0),we(this,ys,Rf.create(n)),we(this,Rt,0),we(this,ps,0),typeof c=="function"&&we(this,ds,c),typeof u=="function"&&we(this,pr,u),typeof f=="function"?(we(this,ms,f),we(this,Ht,[])):(we(this,ms,void 0),we(this,Ht,void 0)),we(this,ws,!!E(this,ds)),we(this,po,!!E(this,pr)),we(this,En,!!E(this,ms)),this.noDisposeOnSet=!!h,this.noUpdateTTL=!!d,this.noDeleteOnFetchRejection=!!T,this.allowStaleOnFetchRejection=!!_,this.allowStaleOnFetchAbort=!!C,this.ignoreFetchAbort=!!I,this.maxEntrySize!==0){if(E(this,Yn)!==0&&!wi(E(this,Yn)))throw new TypeError("maxSize must be a positive integer if specified");if(!wi(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");me(this,re,Cv).call(this)}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!k,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=wi(i)||i===0?i:1,this.ttlAutopurge=!!r,this.ttl=s||0,this.ttl){if(!wi(this.ttl))throw new TypeError("ttl must be a positive integer if specified");me(this,re,Pf).call(this)}if(E(this,hs)===0&&this.ttl===0&&E(this,Yn)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!E(this,hs)&&!E(this,Yn)){const x="LRU_CACHE_UNBOUNDED";LO(x)&&(Iv.add(x),Mv("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",x,vd))}}static unsafeExposeInternals(e){return{starts:E(e,vs),ttls:E(e,Un),sizes:E(e,gs),keyMap:E(e,Mt),keyList:E(e,ft),valList:E(e,Me),next:E(e,Tn),prev:E(e,Fn),get head(){return E(e,nn)},get tail(){return E(e,zt)},free:E(e,ys),isBackgroundFetch:n=>{var s;return me(s=e,re,ut).call(s,n)},backgroundFetch:(n,s,i,r)=>{var o;return me(o=e,re,Hl).call(o,n,s,i,r)},moveToTail:n=>{var s;return me(s=e,re,sa).call(s,n)},indexes:n=>{var s;return me(s=e,re,bi).call(s,n)},rindexes:n=>{var s;return me(s=e,re,Ti).call(s,n)},isStale:n=>{var s;return E(s=e,zn).call(s,n)}}}get max(){return E(this,hs)}get maxSize(){return E(this,Yn)}get calculatedSize(){return E(this,ps)}get size(){return E(this,Rt)}get fetchMethod(){return E(this,ho)}get memoMethod(){return E(this,mo)}get dispose(){return E(this,ds)}get onInsert(){return E(this,pr)}get disposeAfter(){return E(this,ms)}getRemainingTTL(e){return E(this,Mt).has(e)?1/0:0}*entries(){for(const e of me(this,re,bi).call(this))E(this,Me)[e]!==void 0&&E(this,ft)[e]!==void 0&&!me(this,re,ut).call(this,E(this,Me)[e])&&(yield[E(this,ft)[e],E(this,Me)[e]])}*rentries(){for(const e of me(this,re,Ti).call(this))E(this,Me)[e]!==void 0&&E(this,ft)[e]!==void 0&&!me(this,re,ut).call(this,E(this,Me)[e])&&(yield[E(this,ft)[e],E(this,Me)[e]])}*keys(){for(const e of me(this,re,bi).call(this)){const n=E(this,ft)[e];n!==void 0&&!me(this,re,ut).call(this,E(this,Me)[e])&&(yield n)}}*rkeys(){for(const e of me(this,re,Ti).call(this)){const n=E(this,ft)[e];n!==void 0&&!me(this,re,ut).call(this,E(this,Me)[e])&&(yield n)}}*values(){for(const e of me(this,re,bi).call(this))E(this,Me)[e]!==void 0&&!me(this,re,ut).call(this,E(this,Me)[e])&&(yield E(this,Me)[e])}*rvalues(){for(const e of me(this,re,Ti).call(this))E(this,Me)[e]!==void 0&&!me(this,re,ut).call(this,E(this,Me)[e])&&(yield E(this,Me)[e])}[(Cy=Symbol.iterator,xy=Symbol.toStringTag,Cy)](){return this.entries()}find(e,n={}){for(const s of me(this,re,bi).call(this)){const i=E(this,Me)[s],r=me(this,re,ut).call(this,i)?i.__staleWhileFetching:i;if(r!==void 0&&e(r,E(this,ft)[s],this))return this.get(E(this,ft)[s],n)}}forEach(e,n=this){for(const s of me(this,re,bi).call(this)){const i=E(this,Me)[s],r=me(this,re,ut).call(this,i)?i.__staleWhileFetching:i;r!==void 0&&e.call(n,r,E(this,ft)[s],this)}}rforEach(e,n=this){for(const s of me(this,re,Ti).call(this)){const i=E(this,Me)[s],r=me(this,re,ut).call(this,i)?i.__staleWhileFetching:i;r!==void 0&&e.call(n,r,E(this,ft)[s],this)}}purgeStale(){let e=!1;for(const n of me(this,re,Ti).call(this,{allowStale:!0}))E(this,zn).call(this,n)&&(me(this,re,Ei).call(this,E(this,ft)[n],"expire"),e=!0);return e}info(e){const n=E(this,Mt).get(e);if(n===void 0)return;const s=E(this,Me)[n],i=me(this,re,ut).call(this,s)?s.__staleWhileFetching:s;if(i===void 0)return;const r={value:i};if(E(this,Un)&&E(this,vs)){const o=E(this,Un)[n],a=E(this,vs)[n];if(o&&a){const l=o-(Wr.now()-a);r.ttl=l,r.start=Date.now()}}return E(this,gs)&&(r.size=E(this,gs)[n]),r}dump(){const e=[];for(const n of me(this,re,bi).call(this,{allowStale:!0})){const s=E(this,ft)[n],i=E(this,Me)[n],r=me(this,re,ut).call(this,i)?i.__staleWhileFetching:i;if(r===void 0||s===void 0)continue;const o={value:r};if(E(this,Un)&&E(this,vs)){o.ttl=E(this,Un)[n];const a=Wr.now()-E(this,vs)[n];o.start=Math.floor(Date.now()-a)}E(this,gs)&&(o.size=E(this,gs)[n]),e.unshift([s,o])}return e}load(e){this.clear();for(const[n,s]of e){if(s.start){const i=Date.now()-s.start;s.start=Wr.now()-i}this.set(n,s.value,s)}}set(e,n,s={}){var h,d,y,m,p,g,w;if(n===void 0)return this.delete(e),this;const{ttl:i=this.ttl,start:r,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:l}=s;let{noUpdateTTL:c=this.noUpdateTTL}=s;const u=E(this,Ua).call(this,e,n,s.size||0,a);if(this.maxEntrySize&&u>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),me(this,re,Ei).call(this,e,"set"),this;let f=E(this,Rt)===0?void 0:E(this,Mt).get(e);if(f===void 0)f=E(this,Rt)===0?E(this,zt):E(this,ys).length!==0?E(this,ys).pop():E(this,Rt)===E(this,hs)?me(this,re,zl).call(this,!1):E(this,Rt),E(this,ft)[f]=e,E(this,Me)[f]=n,E(this,Mt).set(e,f),E(this,Tn)[E(this,zt)]=f,E(this,Fn)[f]=E(this,zt),we(this,zt,f),al(this,Rt)._++,E(this,yo).call(this,f,u,l),l&&(l.set="add"),c=!1,E(this,po)&&((h=E(this,pr))==null||h.call(this,n,e,"add"));else{me(this,re,sa).call(this,f);const T=E(this,Me)[f];if(n!==T){if(E(this,Ni)&&me(this,re,ut).call(this,T)){T.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:k}=T;k!==void 0&&!o&&(E(this,ws)&&((d=E(this,ds))==null||d.call(this,k,e,"set")),E(this,En)&&((y=E(this,Ht))==null||y.push([k,e,"set"])))}else o||(E(this,ws)&&((m=E(this,ds))==null||m.call(this,T,e,"set")),E(this,En)&&((p=E(this,Ht))==null||p.push([T,e,"set"])));if(E(this,gr).call(this,f),E(this,yo).call(this,f,u,l),E(this,Me)[f]=n,l){l.set="replace";const k=T&&me(this,re,ut).call(this,T)?T.__staleWhileFetching:T;k!==void 0&&(l.oldValue=k)}}else l&&(l.set="update");E(this,po)&&((g=this.onInsert)==null||g.call(this,n,e,n===T?"update":"replace"))}if(i!==0&&!E(this,Un)&&me(this,re,Pf).call(this),E(this,Un)&&(c||E(this,Fa).call(this,f,i,r),l&&E(this,Xs).call(this,l,f)),!o&&E(this,En)&&E(this,Ht)){const T=E(this,Ht);let k;for(;k=T==null?void 0:T.shift();)(w=E(this,ms))==null||w.call(this,...k)}return this}pop(){var e;try{for(;E(this,Rt);){const n=E(this,Me)[E(this,nn)];if(me(this,re,zl).call(this,!0),me(this,re,ut).call(this,n)){if(n.__staleWhileFetching)return n.__staleWhileFetching}else if(n!==void 0)return n}}finally{if(E(this,En)&&E(this,Ht)){const n=E(this,Ht);let s;for(;s=n==null?void 0:n.shift();)(e=E(this,ms))==null||e.call(this,...s)}}}has(e,n={}){const{updateAgeOnHas:s=this.updateAgeOnHas,status:i}=n,r=E(this,Mt).get(e);if(r!==void 0){const o=E(this,Me)[r];if(me(this,re,ut).call(this,o)&&o.__staleWhileFetching===void 0)return!1;if(E(this,zn).call(this,r))i&&(i.has="stale",E(this,Xs).call(this,i,r));else return s&&E(this,yr).call(this,r),i&&(i.has="hit",E(this,Xs).call(this,i,r)),!0}else i&&(i.has="miss");return!1}peek(e,n={}){const{allowStale:s=this.allowStale}=n,i=E(this,Mt).get(e);if(i===void 0||!s&&E(this,zn).call(this,i))return;const r=E(this,Me)[i];return me(this,re,ut).call(this,r)?r.__staleWhileFetching:r}async fetch(e,n={}){const{allowStale:s=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:f=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:h=this.allowStaleOnFetchRejection,ignoreFetchAbort:d=this.ignoreFetchAbort,allowStaleOnFetchAbort:y=this.allowStaleOnFetchAbort,context:m,forceRefresh:p=!1,status:g,signal:w}=n;if(!E(this,Ni))return g&&(g.fetch="get"),this.get(e,{allowStale:s,updateAgeOnGet:i,noDeleteOnStaleGet:r,status:g});const T={allowStale:s,updateAgeOnGet:i,noDeleteOnStaleGet:r,ttl:o,noDisposeOnSet:a,size:l,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:f,allowStaleOnFetchRejection:h,allowStaleOnFetchAbort:y,ignoreFetchAbort:d,status:g,signal:w};let k=E(this,Mt).get(e);if(k===void 0){g&&(g.fetch="miss");const _=me(this,re,Hl).call(this,e,k,T,m);return _.__returned=_}else{const _=E(this,Me)[k];if(me(this,re,ut).call(this,_)){const R=s&&_.__staleWhileFetching!==void 0;return g&&(g.fetch="inflight",R&&(g.returnedStale=!0)),R?_.__staleWhileFetching:_.__returned=_}const C=E(this,zn).call(this,k);if(!p&&!C)return g&&(g.fetch="hit"),me(this,re,sa).call(this,k),i&&E(this,yr).call(this,k),g&&E(this,Xs).call(this,g,k),_;const I=me(this,re,Hl).call(this,e,k,T,m),x=I.__staleWhileFetching!==void 0&&s;return g&&(g.fetch=C?"stale":"refresh",x&&C&&(g.returnedStale=!0)),x?I.__staleWhileFetching:I.__returned=I}}async forceFetch(e,n={}){const s=await this.fetch(e,n);if(s===void 0)throw new Error("fetch() returned undefined");return s}memo(e,n={}){const s=E(this,mo);if(!s)throw new Error("no memoMethod provided to constructor");const{context:i,forceRefresh:r,...o}=n,a=this.get(e,o);if(!r&&a!==void 0)return a;const l=s(e,a,{options:o,context:i});return this.set(e,l,o),l}get(e,n={}){const{allowStale:s=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,status:o}=n,a=E(this,Mt).get(e);if(a!==void 0){const l=E(this,Me)[a],c=me(this,re,ut).call(this,l);return o&&E(this,Xs).call(this,o,a),E(this,zn).call(this,a)?(o&&(o.get="stale"),c?(o&&s&&l.__staleWhileFetching!==void 0&&(o.returnedStale=!0),s?l.__staleWhileFetching:void 0):(r||me(this,re,Ei).call(this,e,"expire"),o&&s&&(o.returnedStale=!0),s?l:void 0)):(o&&(o.get="hit"),c?l.__staleWhileFetching:(me(this,re,sa).call(this,a),i&&E(this,yr).call(this,a),l))}else o&&(o.get="miss")}delete(e){return me(this,re,Ei).call(this,e,"delete")}clear(){return me(this,re,Ff).call(this,"delete")}};hs=new WeakMap,Yn=new WeakMap,ds=new WeakMap,pr=new WeakMap,ms=new WeakMap,ho=new WeakMap,mo=new WeakMap,Rt=new WeakMap,ps=new WeakMap,Mt=new WeakMap,ft=new WeakMap,Me=new WeakMap,Tn=new WeakMap,Fn=new WeakMap,nn=new WeakMap,zt=new WeakMap,ys=new WeakMap,Ht=new WeakMap,gs=new WeakMap,vs=new WeakMap,Un=new WeakMap,ws=new WeakMap,Ni=new WeakMap,En=new WeakMap,po=new WeakMap,re=new WeakSet,Pf=function(){const e=new Ul(E(this,hs)),n=new Ul(E(this,hs));we(this,Un,e),we(this,vs,n),we(this,Fa,(r,o,a=Wr.now())=>{if(n[r]=o!==0?a:0,e[r]=o,o!==0&&this.ttlAutopurge){const l=setTimeout(()=>{E(this,zn).call(this,r)&&me(this,re,Ei).call(this,E(this,ft)[r],"expire")},o+1);l.unref&&l.unref()}}),we(this,yr,r=>{n[r]=e[r]!==0?Wr.now():0}),we(this,Xs,(r,o)=>{if(e[o]){const a=e[o],l=n[o];if(!a||!l)return;r.ttl=a,r.start=l,r.now=s||i();const c=r.now-l;r.remainingTTL=a-c}});let s=0;const i=()=>{const r=Wr.now();if(this.ttlResolution>0){s=r;const o=setTimeout(()=>s=0,this.ttlResolution);o.unref&&o.unref()}return r};this.getRemainingTTL=r=>{const o=E(this,Mt).get(r);if(o===void 0)return 0;const a=e[o],l=n[o];if(!a||!l)return 1/0;const c=(s||i())-l;return a-c},we(this,zn,r=>{const o=n[r],a=e[r];return!!a&&!!o&&(s||i())-o>a})},yr=new WeakMap,Xs=new WeakMap,Fa=new WeakMap,zn=new WeakMap,Cv=function(){const e=new Ul(E(this,hs));we(this,ps,0),we(this,gs,e),we(this,gr,n=>{we(this,ps,E(this,ps)-e[n]),e[n]=0}),we(this,Ua,(n,s,i,r)=>{if(me(this,re,ut).call(this,s))return 0;if(!wi(i))if(r){if(typeof r!="function")throw new TypeError("sizeCalculation must be a function");if(i=r(s,n),!wi(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return i}),we(this,yo,(n,s,i)=>{if(e[n]=s,E(this,Yn)){const r=E(this,Yn)-e[n];for(;E(this,ps)>r;)me(this,re,zl).call(this,!0)}we(this,ps,E(this,ps)+e[n]),i&&(i.entrySize=s,i.totalCalculatedSize=E(this,ps))})},gr=new WeakMap,yo=new WeakMap,Ua=new WeakMap,bi=function*({allowStale:e=this.allowStale}={}){if(E(this,Rt))for(let n=E(this,zt);!(!me(this,re,$f).call(this,n)||((e||!E(this,zn).call(this,n))&&(yield n),n===E(this,nn)));)n=E(this,Fn)[n]},Ti=function*({allowStale:e=this.allowStale}={}){if(E(this,Rt))for(let n=E(this,nn);!(!me(this,re,$f).call(this,n)||((e||!E(this,zn).call(this,n))&&(yield n),n===E(this,zt)));)n=E(this,Tn)[n]},$f=function(e){return e!==void 0&&E(this,Mt).get(E(this,ft)[e])===e},zl=function(e){var r,o;const n=E(this,nn),s=E(this,ft)[n],i=E(this,Me)[n];return E(this,Ni)&&me(this,re,ut).call(this,i)?i.__abortController.abort(new Error("evicted")):(E(this,ws)||E(this,En))&&(E(this,ws)&&((r=E(this,ds))==null||r.call(this,i,s,"evict")),E(this,En)&&((o=E(this,Ht))==null||o.push([i,s,"evict"]))),E(this,gr).call(this,n),e&&(E(this,ft)[n]=void 0,E(this,Me)[n]=void 0,E(this,ys).push(n)),E(this,Rt)===1?(we(this,nn,we(this,zt,0)),E(this,ys).length=0):we(this,nn,E(this,Tn)[n]),E(this,Mt).delete(s),al(this,Rt)._--,n},Hl=function(e,n,s,i){const r=n===void 0?void 0:E(this,Me)[n];if(me(this,re,ut).call(this,r))return r;const o=new cc,{signal:a}=s;a==null||a.addEventListener("abort",()=>o.abort(a.reason),{signal:o.signal});const l={signal:o.signal,options:s,context:i},c=(m,p=!1)=>{const{aborted:g}=o.signal,w=s.ignoreFetchAbort&&m!==void 0;if(s.status&&(g&&!p?(s.status.fetchAborted=!0,s.status.fetchError=o.signal.reason,w&&(s.status.fetchAbortIgnored=!0)):s.status.fetchResolved=!0),g&&!w&&!p)return f(o.signal.reason);const T=d;return E(this,Me)[n]===d&&(m===void 0?T.__staleWhileFetching?E(this,Me)[n]=T.__staleWhileFetching:me(this,re,Ei).call(this,e,"fetch"):(s.status&&(s.status.fetchUpdated=!0),this.set(e,m,l.options))),m},u=m=>(s.status&&(s.status.fetchRejected=!0,s.status.fetchError=m),f(m)),f=m=>{const{aborted:p}=o.signal,g=p&&s.allowStaleOnFetchAbort,w=g||s.allowStaleOnFetchRejection,T=w||s.noDeleteOnFetchRejection,k=d;if(E(this,Me)[n]===d&&(!T||k.__staleWhileFetching===void 0?me(this,re,Ei).call(this,e,"fetch"):g||(E(this,Me)[n]=k.__staleWhileFetching)),w)return s.status&&k.__staleWhileFetching!==void 0&&(s.status.returnedStale=!0),k.__staleWhileFetching;if(k.__returned===k)throw m},h=(m,p)=>{var w;const g=(w=E(this,ho))==null?void 0:w.call(this,e,r,l);g&&g instanceof Promise&&g.then(T=>m(T===void 0?void 0:T),p),o.signal.addEventListener("abort",()=>{(!s.ignoreFetchAbort||s.allowStaleOnFetchAbort)&&(m(void 0),s.allowStaleOnFetchAbort&&(m=T=>c(T,!0)))})};s.status&&(s.status.fetchDispatched=!0);const d=new Promise(h).then(c,u),y=Object.assign(d,{__abortController:o,__staleWhileFetching:r,__returned:void 0});return n===void 0?(this.set(e,y,{...l.options,status:void 0}),n=E(this,Mt).get(e)):E(this,Me)[n]=y,y},ut=function(e){if(!E(this,Ni))return!1;const n=e;return!!n&&n instanceof Promise&&n.hasOwnProperty("__staleWhileFetching")&&n.__abortController instanceof cc},Yf=function(e,n){E(this,Fn)[n]=e,E(this,Tn)[e]=n},sa=function(e){e!==E(this,zt)&&(e===E(this,nn)?we(this,nn,E(this,Tn)[e]):me(this,re,Yf).call(this,E(this,Fn)[e],E(this,Tn)[e]),me(this,re,Yf).call(this,E(this,zt),e),we(this,zt,e))},Ei=function(e,n){var i,r,o,a;let s=!1;if(E(this,Rt)!==0){const l=E(this,Mt).get(e);if(l!==void 0)if(s=!0,E(this,Rt)===1)me(this,re,Ff).call(this,n);else{E(this,gr).call(this,l);const c=E(this,Me)[l];if(me(this,re,ut).call(this,c)?c.__abortController.abort(new Error("deleted")):(E(this,ws)||E(this,En))&&(E(this,ws)&&((i=E(this,ds))==null||i.call(this,c,e,n)),E(this,En)&&((r=E(this,Ht))==null||r.push([c,e,n]))),E(this,Mt).delete(e),E(this,ft)[l]=void 0,E(this,Me)[l]=void 0,l===E(this,zt))we(this,zt,E(this,Fn)[l]);else if(l===E(this,nn))we(this,nn,E(this,Tn)[l]);else{const u=E(this,Fn)[l];E(this,Tn)[u]=E(this,Tn)[l];const f=E(this,Tn)[l];E(this,Fn)[f]=E(this,Fn)[l]}al(this,Rt)._--,E(this,ys).push(l)}}if(E(this,En)&&((o=E(this,Ht))!=null&&o.length)){const l=E(this,Ht);let c;for(;c=l==null?void 0:l.shift();)(a=E(this,ms))==null||a.call(this,...c)}return s},Ff=function(e){var n,s,i;for(const r of me(this,re,Ti).call(this,{allowStale:!0})){const o=E(this,Me)[r];if(me(this,re,ut).call(this,o))o.__abortController.abort(new Error("deleted"));else{const a=E(this,ft)[r];E(this,ws)&&((n=E(this,ds))==null||n.call(this,o,a,e)),E(this,En)&&((s=E(this,Ht))==null||s.push([o,a,e]))}}if(E(this,Mt).clear(),E(this,Me).fill(void 0),E(this,ft).fill(void 0),E(this,Un)&&E(this,vs)&&(E(this,Un).fill(0),E(this,vs).fill(0)),E(this,gs)&&E(this,gs).fill(0),we(this,nn,0),we(this,zt,0),E(this,ys).length=0,we(this,ps,0),we(this,Rt,0),E(this,En)&&E(this,Ht)){const r=E(this,Ht);let o;for(;o=r==null?void 0:r.shift();)(i=E(this,ms))==null||i.call(this,...o)}};let uc=vd;function Bc(t,e,n,s){if(t.match(If)){const i=n[e],r=i+t.length;s.ranges.push({type:Ne.Comment,from:i,to:r});const o=s.currentFoldableComment();if(o)o.endIndex=r;else{const a=t.indexOf("//");s.startFoldable({startIndex:i,startLine:e,endIndex:r,type:"comment",foldStartIndex:i+(a>-1?a+2:0)})}return!0}else return s.finishFoldableComment(e),!1}function RO(t,e,n,s){const i=t.match(M_);if(i){const r=t.indexOf("-"),o=n[e]+r,a=n[e]+t.indexOf(i[1]),l=a+i[1].length,c={type:Ne.listItemIndicator,from:o,to:o+1},u={type:Ne.CheckboxItemIndicator,from:a,to:l,content:i[2]==="x"||i[2]==="X"},f={type:Ne.ListItemContents,from:l,to:n[e]+t.length};return s.ranges.push(c,u,f),[c,u,f]}else if(t.match(I_)){const r=t.indexOf("-"),o=n[e]+r,a={type:Ne.listItemIndicator,from:o,to:o+1},l={type:Ne.ListItemContents,from:o+2,to:n[e]+t.length};return s.ranges.push(a,l),[a,l]}return!1}function PO(t){return t.replace(/(^|\W+)#(\w+)/g,(e,n,s,i,r)=>`${n})${s}`)}function $O(t,e,n,s){const i=(r,o,a,l,c)=>{if(l===0){const u=n[e]+l+o.length;s.ranges.push({type:Ne.Tag,from:u,to:u+a.length+1,content:{tag:a}})}return`${o})${a}`};return t.replace(/(^|\W+)#(\w+)/g,i)}function Av(t,e,n,s){const i=t.matchAll(sc);if(i)for(let r of i){const o=t.indexOf("#"+r[1]),a=n[e]+o;s.ranges.push({type:Ne.Tag,from:a,to:a+r[1].length+1,content:{tag:r[1]}})}return!1}function Ui(t,e){const n=`${t}`,s=e==null?void 0:e.zones.get(n);if(s)return s;{const i=["z","ZZZ","ZZ","Z"];let r;for(const o of i)if(r=H.fromFormat(n,o,{setZone:!0}),r.isValid&&r.zone.isValid||o!=="z"&&(r=H.fromFormat(`+${n}`,o,{setZone:!0}),r.isValid&&r.zone.isValid))return e==null||e.zones.set(n,r.zone),r.zone}}const Vh=Symbol.for("yaml.alias"),Uf=Symbol.for("yaml.document"),zi=Symbol.for("yaml.map"),Nv=Symbol.for("yaml.pair"),Us=Symbol.for("yaml.scalar"),$o=Symbol.for("yaml.seq"),rs=Symbol.for("yaml.node.type"),Ar=t=>!!t&&typeof t=="object"&&t[rs]===Vh,Wc=t=>!!t&&typeof t=="object"&&t[rs]===Uf,Ga=t=>!!t&&typeof t=="object"&&t[rs]===zi,Ot=t=>!!t&&typeof t=="object"&&t[rs]===Nv,lt=t=>!!t&&typeof t=="object"&&t[rs]===Us,Za=t=>!!t&&typeof t=="object"&&t[rs]===$o;function kt(t){if(t&&typeof t=="object")switch(t[rs]){case zi:case $o:return!0}return!1}function _t(t){if(t&&typeof t=="object")switch(t[rs]){case Vh:case zi:case Us:case $o:return!0}return!1}const Lv=t=>(lt(t)||kt(t))&&!!t.anchor,lr=Symbol("break visit"),YO=Symbol("skip children"),ha=Symbol("remove node");function Yo(t,e){const n=FO(e);Wc(t)?Xr(null,t.contents,n,Object.freeze([t]))===ha&&(t.contents=null):Xr(null,t,n,Object.freeze([]))}Yo.BREAK=lr;Yo.SKIP=YO;Yo.REMOVE=ha;function Xr(t,e,n,s){const i=UO(t,e,n,s);if(_t(i)||Ot(i))return zO(t,s,i),Xr(t,i,n,s);if(typeof i!="symbol"){if(kt(e)){s=Object.freeze(s.concat(e));for(let r=0;r<e.items.length;++r){const o=Xr(r,e.items[r],n,s);if(typeof o=="number")r=o-1;else{if(o===lr)return lr;o===ha&&(e.items.splice(r,1),r-=1)}}}else if(Ot(e)){s=Object.freeze(s.concat(e));const r=Xr("key",e.key,n,s);if(r===lr)return lr;r===ha&&(e.key=null);const o=Xr("value",e.value,n,s);if(o===lr)return lr;o===ha&&(e.value=null)}}return i}function FO(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function UO(t,e,n,s){var i,r,o,a,l;if(typeof n=="function")return n(t,e,s);if(Ga(e))return(i=n.Map)==null?void 0:i.call(n,t,e,s);if(Za(e))return(r=n.Seq)==null?void 0:r.call(n,t,e,s);if(Ot(e))return(o=n.Pair)==null?void 0:o.call(n,t,e,s);if(lt(e))return(a=n.Scalar)==null?void 0:a.call(n,t,e,s);if(Ar(e))return(l=n.Alias)==null?void 0:l.call(n,t,e,s)}function zO(t,e,n){const s=e[e.length-1];if(kt(s))s.items[t]=n;else if(Ot(s))t==="key"?s.key=n:s.value=n;else if(Wc(s))s.contents=n;else{const i=Ar(s)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const HO={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},BO=t=>t.replace(/[!,[\]{}]/g,e=>HO[e]);class kn{constructor(e,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},kn.defaultYaml,e),this.tags=Object.assign({},kn.defaultTags,n)}clone(){const e=new kn(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new kn(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:kn.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},kn.defaultTags);break}return e}add(e,n){this.atNextDocument&&(this.yaml={explicit:kn.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},kn.defaultTags),this.atNextDocument=!1);const s=e.trim().split(/[ \t]+/),i=s.shift();switch(i){case"%TAG":{if(s.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),s.length<2))return!1;const[r,o]=s;return this.tags[r]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,s.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[r]=s;if(r==="1.1"||r==="1.2")return this.yaml.version=r,!0;{const o=/^\d+\.\d+$/.test(r);return n(6,`Unsupported YAML version ${r}`,o),!1}}default:return n(0,`Unknown directive ${i}`,!0),!1}}tagName(e,n){if(e==="!")return"!";if(e[0]!=="!")return n(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const o=e.slice(2,-1);return o==="!"||o==="!!"?(n(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&n("Verbatim tags must end with a >"),o)}const[,s,i]=e.match(/^(.*!)([^!]*)$/s);i||n(`The ${e} tag has no suffix`);const r=this.tags[s];if(r)try{return r+decodeURIComponent(i)}catch(o){return n(String(o)),null}return s==="!"?e:(n(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[n,s]of Object.entries(this.tags))if(e.startsWith(s))return n+BO(e.substring(s.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],s=Object.entries(this.tags);let i;if(e&&s.length>0&&_t(e.contents)){const r={};Yo(e.contents,(o,a)=>{_t(a)&&a.tag&&(r[a.tag]=!0)}),i=Object.keys(r)}else i=[];for(const[r,o]of s)r==="!!"&&o==="tag:yaml.org,2002:"||(!e||i.some(a=>a.startsWith(o)))&&n.push(`%TAG ${r} ${o}`);return n.join(`
`)}}kn.defaultYaml={explicit:!1,version:"1.2"};kn.defaultTags={"!!":"tag:yaml.org,2002:"};function Rv(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function Pv(t){const e=new Set;return Yo(t,{Value(n,s){s.anchor&&e.add(s.anchor)}}),e}function $v(t,e){for(let n=1;;++n){const s=`${t}${n}`;if(!e.has(s))return s}}function WO(t,e){const n=[],s=new Map;let i=null;return{onAnchor:r=>{n.push(r),i??(i=Pv(t));const o=$v(e,i);return i.add(o),o},setAnchors:()=>{for(const r of n){const o=s.get(r);if(typeof o=="object"&&o.anchor&&(lt(o.node)||kt(o.node)))o.node.anchor=o.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=r,a}}},sourceObjects:s}}function Jr(t,e,n,s){if(s&&typeof s=="object")if(Array.isArray(s))for(let i=0,r=s.length;i<r;++i){const o=s[i],a=Jr(t,s,String(i),o);a===void 0?delete s[i]:a!==o&&(s[i]=a)}else if(s instanceof Map)for(const i of Array.from(s.keys())){const r=s.get(i),o=Jr(t,s,i,r);o===void 0?s.delete(i):o!==r&&s.set(i,o)}else if(s instanceof Set)for(const i of Array.from(s)){const r=Jr(t,s,i,i);r===void 0?s.delete(i):r!==i&&(s.delete(i),s.add(r))}else for(const[i,r]of Object.entries(s)){const o=Jr(t,s,i,r);o===void 0?delete s[i]:o!==r&&(s[i]=o)}return t.call(e,n,s)}function is(t,e,n){if(Array.isArray(t))return t.map((s,i)=>is(s,String(i),n));if(t&&typeof t.toJSON=="function"){if(!n||!Lv(t))return t.toJSON(e,n);const s={aliasCount:0,count:1,res:void 0};n.anchors.set(t,s),n.onCreate=r=>{s.res=r,delete n.onCreate};const i=t.toJSON(e,n);return n.onCreate&&n.onCreate(i),i}return typeof t=="bigint"&&!(n!=null&&n.keep)?Number(t):t}class qh{constructor(e){Object.defineProperty(this,rs,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:n,maxAliasCount:s,onAnchor:i,reviver:r}={}){if(!Wc(e))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:e,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},a=is(this,"",o);if(typeof i=="function")for(const{count:l,res:c}of o.anchors.values())i(c,l);return typeof r=="function"?Jr(r,{"":a},"",a):a}}class Kh extends qh{constructor(e){super(Vh),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e,n){let s;n!=null&&n.aliasResolveCache?s=n.aliasResolveCache:(s=[],Yo(e,{Node:(r,o)=>{(Ar(o)||Lv(o))&&s.push(o)}}),n&&(n.aliasResolveCache=s));let i;for(const r of s){if(r===this)break;r.anchor===this.source&&(i=r)}return i}toJSON(e,n){if(!n)return{source:this.source};const{anchors:s,doc:i,maxAliasCount:r}=n,o=this.resolve(i,n);if(!o){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let a=s.get(o);if(a||(is(o,null,n),a=s.get(o)),!a||a.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(r>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=Bl(i,o,s)),a.count*a.aliasCount>r)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(e,n,s){const i=`*${this.source}`;if(e){if(Rv(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const r=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(r)}if(e.implicitKey)return`${i} `}return i}}function Bl(t,e,n){if(Ar(e)){const s=e.resolve(t),i=n&&s&&n.get(s);return i?i.count*i.aliasCount:0}else if(kt(e)){let s=0;for(const i of e.items){const r=Bl(t,i,n);r>s&&(s=r)}return s}else if(Ot(e)){const s=Bl(t,e.key,n),i=Bl(t,e.value,n);return Math.max(s,i)}return 1}const Yv=t=>!t||typeof t!="function"&&typeof t!="object";class Ce extends qh{constructor(e){super(Us),this.value=e}toJSON(e,n){return n!=null&&n.keep?this.value:is(this.value,e,n)}toString(){return String(this.value)}}Ce.BLOCK_FOLDED="BLOCK_FOLDED";Ce.BLOCK_LITERAL="BLOCK_LITERAL";Ce.PLAIN="PLAIN";Ce.QUOTE_DOUBLE="QUOTE_DOUBLE";Ce.QUOTE_SINGLE="QUOTE_SINGLE";const jO="tag:yaml.org,2002:";function VO(t,e,n){if(e){const s=n.filter(r=>r.tag===e),i=s.find(r=>!r.format)??s[0];if(!i)throw new Error(`Tag ${e} not found`);return i}return n.find(s=>{var i;return((i=s.identify)==null?void 0:i.call(s,t))&&!s.format})}function xa(t,e,n){var f,h,d;if(Wc(t)&&(t=t.contents),_t(t))return t;if(Ot(t)){const y=(h=(f=n.schema[zi]).createNode)==null?void 0:h.call(f,n.schema,null,n);return y.items.push(t),y}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:s,onAnchor:i,onTagObj:r,schema:o,sourceObjects:a}=n;let l;if(s&&t&&typeof t=="object"){if(l=a.get(t),l)return l.anchor??(l.anchor=i(t)),new Kh(l.anchor);l={anchor:null,node:null},a.set(t,l)}e!=null&&e.startsWith("!!")&&(e=jO+e.slice(2));let c=VO(t,e,o.tags);if(!c){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){const y=new Ce(t);return l&&(l.node=y),y}c=t instanceof Map?o[zi]:Symbol.iterator in Object(t)?o[$o]:o[zi]}r&&(r(c),delete n.onTagObj);const u=c!=null&&c.createNode?c.createNode(n.schema,t,n):typeof((d=c==null?void 0:c.nodeClass)==null?void 0:d.from)=="function"?c.nodeClass.from(n.schema,t,n):new Ce(t);return e?u.tag=e:c.default||(u.tag=c.tag),l&&(l.node=u),u}function fc(t,e,n){let s=n;for(let i=e.length-1;i>=0;--i){const r=e[i];if(typeof r=="number"&&Number.isInteger(r)&&r>=0){const o=[];o[r]=s,s=o}else s=new Map([[r,s]])}return xa(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const ia=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done;class Fv extends qh{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(s=>_t(s)||Ot(s)?s.clone(e):s),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(ia(e))this.add(n);else{const[s,...i]=e,r=this.get(s,!0);if(kt(r))r.addIn(i,n);else if(r===void 0&&this.schema)this.set(s,fc(this.schema,i,n));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${i}`)}}deleteIn(e){const[n,...s]=e;if(s.length===0)return this.delete(n);const i=this.get(n,!0);if(kt(i))return i.deleteIn(s);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`)}getIn(e,n){const[s,...i]=e,r=this.get(s,!0);return i.length===0?!n&&lt(r)?r.value:r:kt(r)?r.getIn(i,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!Ot(n))return!1;const s=n.value;return s==null||e&&lt(s)&&s.value==null&&!s.commentBefore&&!s.comment&&!s.tag})}hasIn(e){const[n,...s]=e;if(s.length===0)return this.has(n);const i=this.get(n,!0);return kt(i)?i.hasIn(s):!1}setIn(e,n){const[s,...i]=e;if(i.length===0)this.set(s,n);else{const r=this.get(s,!0);if(kt(r))r.setIn(i,n);else if(r===void 0&&this.schema)this.set(s,fc(this.schema,i,n));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${i}`)}}}const qO=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function ei(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const hr=(t,e,n)=>t.endsWith(`
`)?ei(n,e):n.includes(`
`)?`
`+ei(n,e):(t.endsWith(" ")?"":" ")+n,Uv="flow",zf="block",Wl="quoted";function jc(t,e,n="flow",{indentAtStart:s,lineWidth:i=80,minContentWidth:r=20,onFold:o,onOverflow:a}={}){if(!i||i<0)return t;i<r&&(r=0);const l=Math.max(1+r,1+i-e.length);if(t.length<=l)return t;const c=[],u={};let f=i-e.length;typeof s=="number"&&(s>i-Math.max(2,r)?c.push(0):f=i-s);let h,d,y=!1,m=-1,p=-1,g=-1;n===zf&&(m=Sp(t,m,e.length),m!==-1&&(f=m+l));for(let T;T=t[m+=1];){if(n===Wl&&T==="\\"){switch(p=m,t[m+1]){case"x":m+=3;break;case"u":m+=5;break;case"U":m+=9;break;default:m+=1}g=m}if(T===`
`)n===zf&&(m=Sp(t,m,e.length)),f=m+e.length+l,h=void 0;else{if(T===" "&&d&&d!==" "&&d!==`
`&&d!=="	"){const k=t[m+1];k&&k!==" "&&k!==`
`&&k!=="	"&&(h=m)}if(m>=f)if(h)c.push(h),f=h+l,h=void 0;else if(n===Wl){for(;d===" "||d==="	";)d=T,T=t[m+=1],y=!0;const k=m>g+1?m-2:p-1;if(u[k])return t;c.push(k),u[k]=!0,f=k+l,h=void 0}else y=!0}d=T}if(y&&a&&a(),c.length===0)return t;o&&o();let w=t.slice(0,c[0]);for(let T=0;T<c.length;++T){const k=c[T],_=c[T+1]||t.length;k===0?w=`
${e}${t.slice(0,_)}`:(n===Wl&&u[k]&&(w+=`${t[k]}\\`),w+=`
${e}${t.slice(k+1,_)}`)}return w}function Sp(t,e,n){let s=e,i=e+1,r=t[i];for(;r===" "||r==="	";)if(e<i+n)r=t[++e];else{do r=t[++e];while(r&&r!==`
`);s=e,i=e+1,r=t[i]}return s}const Vc=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),qc=t=>/^(%|---|\.\.\.)/m.test(t);function KO(t,e,n){if(!e||e<0)return!1;const s=e-n,i=t.length;if(i<=s)return!1;for(let r=0,o=0;r<i;++r)if(t[r]===`
`){if(r-o>s)return!0;if(o=r+1,i-o<=s)return!1}return!0}function da(t,e){const n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;const{implicitKey:s}=e,i=e.options.doubleQuotedMinMultiLineLength,r=e.indent||(qc(t)?"  ":"");let o="",a=0;for(let l=0,c=n[l];c;c=n[++l])if(c===" "&&n[l+1]==="\\"&&n[l+2]==="n"&&(o+=n.slice(a,l)+"\\ ",l+=1,a=l,c="\\"),c==="\\")switch(n[l+1]){case"u":{o+=n.slice(a,l);const u=n.substr(l+2,4);switch(u){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:u.substr(0,2)==="00"?o+="\\x"+u.substr(2):o+=n.substr(l,6)}l+=5,a=l+1}break;case"n":if(s||n[l+2]==='"'||n.length<i)l+=1;else{for(o+=n.slice(a,l)+`

`;n[l+2]==="\\"&&n[l+3]==="n"&&n[l+4]!=='"';)o+=`
`,l+=2;o+=r,n[l+2]===" "&&(o+="\\"),l+=1,a=l+1}break;default:l+=1}return o=a?o+n.slice(a):n,s?o:jc(o,r,Wl,Vc(e,!1))}function Hf(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return da(t,e);const n=e.indent||(qc(t)?"  ":""),s="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?s:jc(s,n,Uv,Vc(e,!1))}function Qr(t,e){const{singleQuote:n}=e.options;let s;if(n===!1)s=da;else{const i=t.includes('"'),r=t.includes("'");i&&!r?s=Hf:r&&!i?s=da:s=n?Hf:da}return s(t,e)}let Bf;try{Bf=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{Bf=/\n+(?!\n|$)/g}function jl({comment:t,type:e,value:n},s,i,r){const{blockQuote:o,commentString:a,lineWidth:l}=s.options;if(!o||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return Qr(n,s);const c=s.indent||(s.forceBlockIndent||qc(n)?"  ":""),u=o==="literal"?!0:o==="folded"||e===Ce.BLOCK_FOLDED?!1:e===Ce.BLOCK_LITERAL?!0:!KO(n,l,c.length);if(!n)return u?`|
`:`>
`;let f,h;for(h=n.length;h>0;--h){const _=n[h-1];if(_!==`
`&&_!=="	"&&_!==" ")break}let d=n.substring(h);const y=d.indexOf(`
`);y===-1?f="-":n===d||y!==d.length-1?(f="+",r&&r()):f="",d&&(n=n.slice(0,-d.length),d[d.length-1]===`
`&&(d=d.slice(0,-1)),d=d.replace(Bf,`$&${c}`));let m=!1,p,g=-1;for(p=0;p<n.length;++p){const _=n[p];if(_===" ")m=!0;else if(_===`
`)g=p;else break}let w=n.substring(0,g<p?g+1:p);w&&(n=n.substring(w.length),w=w.replace(/\n+/g,`$&${c}`));let k=(m?c?"2":"1":"")+f;if(t&&(k+=" "+a(t.replace(/ ?[\r\n]+/g," ")),i&&i()),!u){const _=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`);let C=!1;const I=Vc(s,!0);o!=="folded"&&e!==Ce.BLOCK_FOLDED&&(I.onOverflow=()=>{C=!0});const M=jc(`${w}${_}${d}`,c,zf,I);if(!C)return`>${k}
${c}${M}`}return n=n.replace(/\n+/g,`$&${c}`),`|${k}
${c}${w}${n}${d}`}function GO(t,e,n,s){const{type:i,value:r}=t,{actualString:o,implicitKey:a,indent:l,indentStep:c,inFlow:u}=e;if(a&&r.includes(`
`)||u&&/[[\]{},]/.test(r))return Qr(r,e);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(r))return a||u||!r.includes(`
`)?Qr(r,e):jl(t,e,n,s);if(!a&&!u&&i!==Ce.PLAIN&&r.includes(`
`))return jl(t,e,n,s);if(qc(r)){if(l==="")return e.forceBlockIndent=!0,jl(t,e,n,s);if(a&&l===c)return Qr(r,e)}const f=r.replace(/\n+/g,`$&
${l}`);if(o){const h=m=>{var p;return m.default&&m.tag!=="tag:yaml.org,2002:str"&&((p=m.test)==null?void 0:p.test(f))},{compat:d,tags:y}=e.doc.schema;if(y.some(h)||d!=null&&d.some(h))return Qr(r,e)}return a?f:jc(f,l,Uv,Vc(e,!1))}function Gh(t,e,n,s){const{implicitKey:i,inFlow:r}=e,o=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)});let{type:a}=t;a!==Ce.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=Ce.QUOTE_DOUBLE);const l=u=>{switch(u){case Ce.BLOCK_FOLDED:case Ce.BLOCK_LITERAL:return i||r?Qr(o.value,e):jl(o,e,n,s);case Ce.QUOTE_DOUBLE:return da(o.value,e);case Ce.QUOTE_SINGLE:return Hf(o.value,e);case Ce.PLAIN:return GO(o,e,n,s);default:return null}};let c=l(a);if(c===null){const{defaultKeyType:u,defaultStringType:f}=e.options,h=i&&u||f;if(c=l(h),c===null)throw new Error(`Unsupported default string type ${h}`)}return c}function zv(t,e){const n=Object.assign({blockQuote:!0,commentString:qO,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let s;switch(n.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:s,options:n}}function ZO(t,e){var i;if(e.tag){const r=t.filter(o=>o.tag===e.tag);if(r.length>0)return r.find(o=>o.format===e.format)??r[0]}let n,s;if(lt(e)){s=e.value;let r=t.filter(o=>{var a;return(a=o.identify)==null?void 0:a.call(o,s)});if(r.length>1){const o=r.filter(a=>a.test);o.length>0&&(r=o)}n=r.find(o=>o.format===e.format)??r.find(o=>!o.format)}else s=e,n=t.find(r=>r.nodeClass&&s instanceof r.nodeClass);if(!n){const r=((i=s==null?void 0:s.constructor)==null?void 0:i.name)??(s===null?"null":typeof s);throw new Error(`Tag not resolved for ${r} value`)}return n}function XO(t,e,{anchors:n,doc:s}){if(!s.directives)return"";const i=[],r=(lt(t)||kt(t))&&t.anchor;r&&Rv(r)&&(n.add(r),i.push(`&${r}`));const o=t.tag??(e.default?null:e.tag);return o&&i.push(s.directives.tagString(o)),i.join(" ")}function _o(t,e,n,s){var l;if(Ot(t))return t.toString(e,n,s);if(Ar(t)){if(e.doc.directives)return t.toString(e);if((l=e.resolvedAliases)!=null&&l.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let i;const r=_t(t)?t:e.doc.createNode(t,{onTagObj:c=>i=c});i??(i=ZO(e.doc.schema.tags,r));const o=XO(r,i,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);const a=typeof i.stringify=="function"?i.stringify(r,e,n,s):lt(r)?Gh(r,e,n,s):r.toString(e,n,s);return o?lt(r)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}
${e.indent}${a}`:a}function JO({key:t,value:e},n,s,i){const{allNullValues:r,doc:o,indent:a,indentStep:l,options:{commentString:c,indentSeq:u,simpleKeys:f}}=n;let h=_t(t)&&t.comment||null;if(f){if(h)throw new Error("With simple keys, key nodes cannot have comments");if(kt(t)||!_t(t)&&typeof t=="object"){const I="With simple keys, collection cannot be used as a key value";throw new Error(I)}}let d=!f&&(!t||h&&e==null&&!n.inFlow||kt(t)||(lt(t)?t.type===Ce.BLOCK_FOLDED||t.type===Ce.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!d&&(f||!r),indent:a+l});let y=!1,m=!1,p=_o(t,n,()=>y=!0,()=>m=!0);if(!d&&!n.inFlow&&p.length>1024){if(f)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");d=!0}if(n.inFlow){if(r||e==null)return y&&s&&s(),p===""?"?":d?`? ${p}`:p}else if(r&&!f||e==null&&d)return p=`? ${p}`,h&&!y?p+=hr(p,n.indent,c(h)):m&&i&&i(),p;y&&(h=null),d?(h&&(p+=hr(p,n.indent,c(h))),p=`? ${p}
${a}:`):(p=`${p}:`,h&&(p+=hr(p,n.indent,c(h))));let g,w,T;_t(e)?(g=!!e.spaceBefore,w=e.commentBefore,T=e.comment):(g=!1,w=null,T=null,e&&typeof e=="object"&&(e=o.createNode(e))),n.implicitKey=!1,!d&&!h&&lt(e)&&(n.indentAtStart=p.length+1),m=!1,!u&&l.length>=2&&!n.inFlow&&!d&&Za(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let k=!1;const _=_o(e,n,()=>k=!0,()=>m=!0);let C=" ";if(h||g||w){if(C=g?`
`:"",w){const I=c(w);C+=`
${ei(I,n.indent)}`}_===""&&!n.inFlow?C===`
`&&(C=`

`):C+=`
${n.indent}`}else if(!d&&kt(e)){const I=_[0],M=_.indexOf(`
`),x=M!==-1,R=n.inFlow??e.flow??e.items.length===0;if(x||!R){let W=!1;if(x&&(I==="&"||I==="!")){let N=_.indexOf(" ");I==="&"&&N!==-1&&N<M&&_[N+1]==="!"&&(N=_.indexOf(" ",N+1)),(N===-1||M<N)&&(W=!0)}W||(C=`
${n.indent}`)}}else(_===""||_[0]===`
`)&&(C="");return p+=C+_,n.inFlow?k&&s&&s():T&&!k?p+=hr(p,n.indent,c(T)):m&&i&&i(),p}function Hv(t,e){(t==="debug"||t==="warn")&&console.warn(e)}const bl="<<",ni={identify:t=>t===bl||typeof t=="symbol"&&t.description===bl,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new Ce(Symbol(bl)),{addToJSMap:Bv}),stringify:()=>bl},QO=(t,e)=>(ni.identify(e)||lt(e)&&(!e.type||e.type===Ce.PLAIN)&&ni.identify(e.value))&&(t==null?void 0:t.doc.schema.tags.some(n=>n.tag===ni.tag&&n.default));function Bv(t,e,n){if(n=t&&Ar(n)?n.resolve(t.doc):n,Za(n))for(const s of n.items)Yu(t,e,s);else if(Array.isArray(n))for(const s of n)Yu(t,e,s);else Yu(t,e,n)}function Yu(t,e,n){const s=t&&Ar(n)?n.resolve(t.doc):n;if(!Ga(s))throw new Error("Merge sources must be maps or map aliases");const i=s.toJSON(null,t,Map);for(const[r,o]of i)e instanceof Map?e.has(r)||e.set(r,o):e instanceof Set?e.add(r):Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(e,r,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}function Wv(t,e,{key:n,value:s}){if(_t(n)&&n.addToJSMap)n.addToJSMap(t,e,s);else if(QO(t,n))Bv(t,e,s);else{const i=is(n,"",t);if(e instanceof Map)e.set(i,is(s,i,t));else if(e instanceof Set)e.add(i);else{const r=eI(n,i,t),o=is(s,r,t);r in e?Object.defineProperty(e,r,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[r]=o}}return e}function eI(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(_t(t)&&(n!=null&&n.doc)){const s=zv(n.doc,{});s.anchors=new Set;for(const r of n.anchors.keys())s.anchors.add(r.anchor);s.inFlow=!0,s.inStringifyKey=!0;const i=t.toString(s);if(!n.mapKeyWarned){let r=JSON.stringify(i);r.length>40&&(r=r.substring(0,36)+'..."'),Hv(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${r}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return i}return JSON.stringify(e)}function Zh(t,e,n){const s=xa(t,void 0,n),i=xa(e,void 0,n);return new Mn(s,i)}class Mn{constructor(e,n=null){Object.defineProperty(this,rs,{value:Nv}),this.key=e,this.value=n}clone(e){let{key:n,value:s}=this;return _t(n)&&(n=n.clone(e)),_t(s)&&(s=s.clone(e)),new Mn(n,s)}toJSON(e,n){const s=n!=null&&n.mapAsMap?new Map:{};return Wv(n,s,this)}toString(e,n,s){return e!=null&&e.doc?JO(this,e,n,s):JSON.stringify(this)}}function jv(t,e,n){return(e.inFlow??t.flow?nI:tI)(t,e,n)}function tI({comment:t,items:e},n,{blockItemPrefix:s,flowChars:i,itemIndent:r,onChompKeep:o,onComment:a}){const{indent:l,options:{commentString:c}}=n,u=Object.assign({},n,{indent:r,type:null});let f=!1;const h=[];for(let y=0;y<e.length;++y){const m=e[y];let p=null;if(_t(m))!f&&m.spaceBefore&&h.push(""),hc(n,h,m.commentBefore,f),m.comment&&(p=m.comment);else if(Ot(m)){const w=_t(m.key)?m.key:null;w&&(!f&&w.spaceBefore&&h.push(""),hc(n,h,w.commentBefore,f))}f=!1;let g=_o(m,u,()=>p=null,()=>f=!0);p&&(g+=hr(g,r,c(p))),f&&p&&(f=!1),h.push(s+g)}let d;if(h.length===0)d=i.start+i.end;else{d=h[0];for(let y=1;y<h.length;++y){const m=h[y];d+=m?`
${l}${m}`:`
`}}return t?(d+=`
`+ei(c(t),l),a&&a()):f&&o&&o(),d}function nI({items:t},e,{flowChars:n,itemIndent:s}){const{indent:i,indentStep:r,flowCollectionPadding:o,options:{commentString:a}}=e;s+=r;const l=Object.assign({},e,{indent:s,inFlow:!0,type:null});let c=!1,u=0;const f=[];for(let y=0;y<t.length;++y){const m=t[y];let p=null;if(_t(m))m.spaceBefore&&f.push(""),hc(e,f,m.commentBefore,!1),m.comment&&(p=m.comment);else if(Ot(m)){const w=_t(m.key)?m.key:null;w&&(w.spaceBefore&&f.push(""),hc(e,f,w.commentBefore,!1),w.comment&&(c=!0));const T=_t(m.value)?m.value:null;T?(T.comment&&(p=T.comment),T.commentBefore&&(c=!0)):m.value==null&&(w!=null&&w.comment)&&(p=w.comment)}p&&(c=!0);let g=_o(m,l,()=>p=null);y<t.length-1&&(g+=","),p&&(g+=hr(g,s,a(p))),!c&&(f.length>u||g.includes(`
`))&&(c=!0),f.push(g),u=f.length}const{start:h,end:d}=n;if(f.length===0)return h+d;if(!c){const y=f.reduce((m,p)=>m+p.length+2,2);c=e.options.lineWidth>0&&y>e.options.lineWidth}if(c){let y=h;for(const m of f)y+=m?`
${r}${i}${m}`:`
`;return`${y}
${i}${d}`}else return`${h}${o}${f.join(" ")}${o}${d}`}function hc({indent:t,options:{commentString:e}},n,s,i){if(s&&i&&(s=s.replace(/^\n+/,"")),s){const r=ei(e(s),t);n.push(r.trimStart())}}function dr(t,e){const n=lt(e)?e.value:e;for(const s of t)if(Ot(s)&&(s.key===e||s.key===n||lt(s.key)&&s.key.value===n))return s}class es extends Fv{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(zi,e),this.items=[]}static from(e,n,s){const{keepUndefined:i,replacer:r}=s,o=new this(e),a=(l,c)=>{if(typeof r=="function")c=r.call(n,l,c);else if(Array.isArray(r)&&!r.includes(l))return;(c!==void 0||i)&&o.items.push(Zh(l,c,s))};if(n instanceof Map)for(const[l,c]of n)a(l,c);else if(n&&typeof n=="object")for(const l of Object.keys(n))a(l,n[l]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}add(e,n){var o;let s;Ot(e)?s=e:!e||typeof e!="object"||!("key"in e)?s=new Mn(e,e==null?void 0:e.value):s=new Mn(e.key,e.value);const i=dr(this.items,s.key),r=(o=this.schema)==null?void 0:o.sortMapEntries;if(i){if(!n)throw new Error(`Key ${s.key} already set`);lt(i.value)&&Yv(s.value)?i.value.value=s.value:i.value=s.value}else if(r){const a=this.items.findIndex(l=>r(s,l)<0);a===-1?this.items.push(s):this.items.splice(a,0,s)}else this.items.push(s)}delete(e){const n=dr(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){const s=dr(this.items,e),i=s==null?void 0:s.value;return(!n&&lt(i)?i.value:i)??void 0}has(e){return!!dr(this.items,e)}set(e,n){this.add(new Mn(e,n),!0)}toJSON(e,n,s){const i=s?new s:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(i);for(const r of this.items)Wv(n,i,r);return i}toString(e,n,s){if(!e)return JSON.stringify(this);for(const i of this.items)if(!Ot(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),jv(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:s,onComment:n})}}const Fo={collection:"map",default:!0,nodeClass:es,tag:"tag:yaml.org,2002:map",resolve(t,e){return Ga(t)||e("Expected a mapping for this tag"),t},createNode:(t,e,n)=>es.from(t,e,n)};class _r extends Fv{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super($o,e),this.items=[]}add(e){this.items.push(e)}delete(e){const n=Tl(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){const s=Tl(e);if(typeof s!="number")return;const i=this.items[s];return!n&&lt(i)?i.value:i}has(e){const n=Tl(e);return typeof n=="number"&&n<this.items.length}set(e,n){const s=Tl(e);if(typeof s!="number")throw new Error(`Expected a valid index, not ${e}.`);const i=this.items[s];lt(i)&&Yv(n)?i.value=n:this.items[s]=n}toJSON(e,n){const s=[];n!=null&&n.onCreate&&n.onCreate(s);let i=0;for(const r of this.items)s.push(is(r,String(i++),n));return s}toString(e,n,s){return e?jv(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:s,onComment:n}):JSON.stringify(this)}static from(e,n,s){const{replacer:i}=s,r=new this(e);if(n&&Symbol.iterator in Object(n)){let o=0;for(let a of n){if(typeof i=="function"){const l=n instanceof Set?a:String(o++);a=i.call(n,l,a)}r.items.push(xa(a,void 0,s))}}return r}}function Tl(t){let e=lt(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}const Uo={collection:"seq",default:!0,nodeClass:_r,tag:"tag:yaml.org,2002:seq",resolve(t,e){return Za(t)||e("Expected a sequence for this tag"),t},createNode:(t,e,n)=>_r.from(t,e,n)},Kc={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,n,s){return e=Object.assign({actualString:!0},e),Gh(t,e,n,s)}},Gc={identify:t=>t==null,createNode:()=>new Ce(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Ce(null),stringify:({source:t},e)=>typeof t=="string"&&Gc.test.test(t)?t:e.options.nullStr},Xh={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new Ce(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},n){if(t&&Xh.test.test(t)){const s=t[0]==="t"||t[0]==="T";if(e===s)return t}return e?n.options.trueStr:n.options.falseStr}};function xs({format:t,minFractionDigits:e,tag:n,value:s}){if(typeof s=="bigint")return String(s);const i=typeof s=="number"?s:Number(s);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let r=JSON.stringify(s);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(r)){let o=r.indexOf(".");o<0&&(o=r.length,r+=".");let a=e-(r.length-o-1);for(;a-- >0;)r+="0"}return r}const Vv={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:xs},qv={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():xs(t)}},Kv={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){const e=new Ce(parseFloat(t)),n=t.indexOf(".");return n!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-n-1),e},stringify:xs},Zc=t=>typeof t=="bigint"||Number.isInteger(t),Jh=(t,e,n,{intAsBigInt:s})=>s?BigInt(t):parseInt(t.substring(e),n);function Gv(t,e,n){const{value:s}=t;return Zc(s)&&s>=0?n+s.toString(e):xs(t)}const Zv={identify:t=>Zc(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,n)=>Jh(t,2,8,n),stringify:t=>Gv(t,8,"0o")},Xv={identify:Zc,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,n)=>Jh(t,0,10,n),stringify:xs},Jv={identify:t=>Zc(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,n)=>Jh(t,2,16,n),stringify:t=>Gv(t,16,"0x")},sI=[Fo,Uo,Kc,Gc,Xh,Zv,Xv,Jv,Vv,qv,Kv];function kp(t){return typeof t=="bigint"||Number.isInteger(t)}const El=({value:t})=>JSON.stringify(t),iI=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:El},{identify:t=>t==null,createNode:()=>new Ce(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:El},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:t=>t==="true",stringify:El},{identify:kp,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>kp(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:El}],rI={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},oI=[Fo,Uo].concat(iI,rI),Qh={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof atob=="function"){const n=atob(t.replace(/[\n\r]/g,"")),s=new Uint8Array(n.length);for(let i=0;i<n.length;++i)s[i]=n.charCodeAt(i);return s}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:n},s,i,r){if(!n)return"";const o=n;let a;if(typeof btoa=="function"){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);a=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e??(e=Ce.BLOCK_LITERAL),e!==Ce.QUOTE_DOUBLE){const l=Math.max(s.options.lineWidth-s.indent.length,s.options.minContentWidth),c=Math.ceil(a.length/l),u=new Array(c);for(let f=0,h=0;f<c;++f,h+=l)u[f]=a.substr(h,l);a=u.join(e===Ce.BLOCK_LITERAL?`
`:" ")}return Gh({comment:t,type:e,value:a},s,i,r)}};function Qv(t,e){if(Za(t))for(let n=0;n<t.items.length;++n){let s=t.items[n];if(!Ot(s)){if(Ga(s)){s.items.length>1&&e("Each pair must have its own sequence indicator");const i=s.items[0]||new Mn(new Ce(null));if(s.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${s.commentBefore}
${i.key.commentBefore}`:s.commentBefore),s.comment){const r=i.value??i.key;r.comment=r.comment?`${s.comment}
${r.comment}`:s.comment}s=i}t.items[n]=Ot(s)?s:new Mn(s)}}else e("Expected a sequence for this tag");return t}function ew(t,e,n){const{replacer:s}=n,i=new _r(t);i.tag="tag:yaml.org,2002:pairs";let r=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof s=="function"&&(o=s.call(e,String(r++),o));let a,l;if(Array.isArray(o))if(o.length===2)a=o[0],l=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const c=Object.keys(o);if(c.length===1)a=c[0],l=o[a];else throw new TypeError(`Expected tuple with one key, not ${c.length} keys`)}else a=o;i.items.push(Zh(a,l,n))}return i}const ed={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Qv,createNode:ew};class lo extends _r{constructor(){super(),this.add=es.prototype.add.bind(this),this.delete=es.prototype.delete.bind(this),this.get=es.prototype.get.bind(this),this.has=es.prototype.has.bind(this),this.set=es.prototype.set.bind(this),this.tag=lo.tag}toJSON(e,n){if(!n)return super.toJSON(e);const s=new Map;n!=null&&n.onCreate&&n.onCreate(s);for(const i of this.items){let r,o;if(Ot(i)?(r=is(i.key,"",n),o=is(i.value,r,n)):r=is(i,"",n),s.has(r))throw new Error("Ordered maps must not include duplicate keys");s.set(r,o)}return s}static from(e,n,s){const i=ew(e,n,s),r=new this;return r.items=i.items,r}}lo.tag="tag:yaml.org,2002:omap";const td={collection:"seq",identify:t=>t instanceof Map,nodeClass:lo,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){const n=Qv(t,e),s=[];for(const{key:i}of n.items)lt(i)&&(s.includes(i.value)?e(`Ordered maps must not include duplicate keys: ${i.value}`):s.push(i.value));return Object.assign(new lo,n)},createNode:(t,e,n)=>lo.from(t,e,n)};function tw({value:t,source:e},n){return e&&(t?nw:sw).test.test(e)?e:t?n.options.trueStr:n.options.falseStr}const nw={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Ce(!0),stringify:tw},sw={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new Ce(!1),stringify:tw},aI={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:xs},lI={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():xs(t)}},cI={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){const e=new Ce(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(n!==-1){const s=t.substring(n+1).replace(/_/g,"");s[s.length-1]==="0"&&(e.minFractionDigits=s.length)}return e},stringify:xs},Xa=t=>typeof t=="bigint"||Number.isInteger(t);function Xc(t,e,n,{intAsBigInt:s}){const i=t[0];if((i==="-"||i==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),s){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}const o=BigInt(t);return i==="-"?BigInt(-1)*o:o}const r=parseInt(t,n);return i==="-"?-1*r:r}function nd(t,e,n){const{value:s}=t;if(Xa(s)){const i=s.toString(e);return s<0?"-"+n+i.substr(1):n+i}return xs(t)}const uI={identify:Xa,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,n)=>Xc(t,2,2,n),stringify:t=>nd(t,2,"0b")},fI={identify:Xa,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,n)=>Xc(t,1,8,n),stringify:t=>nd(t,8,"0")},hI={identify:Xa,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,n)=>Xc(t,0,10,n),stringify:xs},dI={identify:Xa,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,n)=>Xc(t,2,16,n),stringify:t=>nd(t,16,"0x")};class co extends es{constructor(e){super(e),this.tag=co.tag}add(e){let n;Ot(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new Mn(e.key,null):n=new Mn(e,null),dr(this.items,n.key)||this.items.push(n)}get(e,n){const s=dr(this.items,e);return!n&&Ot(s)?lt(s.key)?s.key.value:s.key:s}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const s=dr(this.items,e);s&&!n?this.items.splice(this.items.indexOf(s),1):!s&&n&&this.items.push(new Mn(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,s){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,s);throw new Error("Set items must all have null values")}static from(e,n,s){const{replacer:i}=s,r=new this(e);if(n&&Symbol.iterator in Object(n))for(let o of n)typeof i=="function"&&(o=i.call(n,o,o)),r.items.push(Zh(o,null,s));return r}}co.tag="tag:yaml.org,2002:set";const sd={collection:"map",identify:t=>t instanceof Set,nodeClass:co,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,e,n)=>co.from(t,e,n),resolve(t,e){if(Ga(t)){if(t.hasAllNullValues(!0))return Object.assign(new co,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}};function id(t,e){const n=t[0],s=n==="-"||n==="+"?t.substring(1):t,i=o=>e?BigInt(o):Number(o),r=s.replace(/_/g,"").split(":").reduce((o,a)=>o*i(60)+i(a),i(0));return n==="-"?i(-1)*r:r}function iw(t){let{value:e}=t,n=o=>o;if(typeof e=="bigint")n=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return xs(t);let s="";e<0&&(s="-",e*=n(-1));const i=n(60),r=[e%i];return e<60?r.unshift(0):(e=(e-r[0])/i,r.unshift(e%i),e>=60&&(e=(e-r[0])/i,r.unshift(e))),s+r.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const rw={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:n})=>id(t,n),stringify:iw},ow={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>id(t,!1),stringify:iw},Jc={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){const e=t.match(Jc.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,s,i,r,o,a]=e.map(Number),l=e[7]?Number((e[7]+"00").substr(1,3)):0;let c=Date.UTC(n,s-1,i,r||0,o||0,a||0,l);const u=e[8];if(u&&u!=="Z"){let f=id(u,!1);Math.abs(f)<30&&(f*=60),c-=6e4*f}return new Date(c)},stringify:({value:t})=>(t==null?void 0:t.toISOString().replace(/(T00:00:00)?\.000Z$/,""))??""},_p=[Fo,Uo,Kc,Gc,nw,sw,uI,fI,hI,dI,aI,lI,cI,Qh,ni,td,ed,sd,rw,ow,Jc],Dp=new Map([["core",sI],["failsafe",[Fo,Uo,Kc]],["json",oI],["yaml11",_p],["yaml-1.1",_p]]),Op={binary:Qh,bool:Xh,float:Kv,floatExp:qv,floatNaN:Vv,floatTime:ow,int:Xv,intHex:Jv,intOct:Zv,intTime:rw,map:Fo,merge:ni,null:Gc,omap:td,pairs:ed,seq:Uo,set:sd,timestamp:Jc},mI={"tag:yaml.org,2002:binary":Qh,"tag:yaml.org,2002:merge":ni,"tag:yaml.org,2002:omap":td,"tag:yaml.org,2002:pairs":ed,"tag:yaml.org,2002:set":sd,"tag:yaml.org,2002:timestamp":Jc};function Fu(t,e,n){const s=Dp.get(e);if(s&&!t)return n&&!s.includes(ni)?s.concat(ni):s.slice();let i=s;if(!i)if(Array.isArray(t))i=[];else{const r=Array.from(Dp.keys()).filter(o=>o!=="yaml11").map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${r} or define customTags array`)}if(Array.isArray(t))for(const r of t)i=i.concat(r);else typeof t=="function"&&(i=t(i.slice()));return n&&(i=i.concat(ni)),i.reduce((r,o)=>{const a=typeof o=="string"?Op[o]:o;if(!a){const l=JSON.stringify(o),c=Object.keys(Op).map(u=>JSON.stringify(u)).join(", ");throw new Error(`Unknown custom tag ${l}; use one of ${c}`)}return r.includes(a)||r.push(a),r},[])}const pI=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0;class rd{constructor({compat:e,customTags:n,merge:s,resolveKnownTags:i,schema:r,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(e)?Fu(e,"compat"):e?Fu(null,e):null,this.name=typeof r=="string"&&r||"core",this.knownTags=i?mI:{},this.tags=Fu(n,this.name,s),this.toStringOptions=a??null,Object.defineProperty(this,zi,{value:Fo}),Object.defineProperty(this,Us,{value:Kc}),Object.defineProperty(this,$o,{value:Uo}),this.sortMapEntries=typeof o=="function"?o:o===!0?pI:null}clone(){const e=Object.create(rd.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function yI(t,e){var l;const n=[];let s=e.directives===!0;if(e.directives!==!1&&t.directives){const c=t.directives.toString(t);c?(n.push(c),s=!0):t.directives.docStart&&(s=!0)}s&&n.push("---");const i=zv(t,e),{commentString:r}=i.options;if(t.commentBefore){n.length!==1&&n.unshift("");const c=r(t.commentBefore);n.unshift(ei(c,""))}let o=!1,a=null;if(t.contents){if(_t(t.contents)){if(t.contents.spaceBefore&&s&&n.push(""),t.contents.commentBefore){const f=r(t.contents.commentBefore);n.push(ei(f,""))}i.forceBlockIndent=!!t.comment,a=t.contents.comment}const c=a?void 0:()=>o=!0;let u=_o(t.contents,i,()=>a=null,c);a&&(u+=hr(u,"",r(a))),(u[0]==="|"||u[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${u}`:n.push(u)}else n.push(_o(t.contents,i));if((l=t.directives)!=null&&l.docEnd)if(t.comment){const c=r(t.comment);c.includes(`
`)?(n.push("..."),n.push(ei(c,""))):n.push(`... ${c}`)}else n.push("...");else{let c=t.comment;c&&o&&(c=c.replace(/^\n+/,"")),c&&((!o||a)&&n[n.length-1]!==""&&n.push(""),n.push(ei(r(c),"")))}return n.join(`
`)+`
`}class Qc{constructor(e,n,s){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,rs,{value:Uf});let i=null;typeof n=="function"||Array.isArray(n)?i=n:s===void 0&&n&&(s=n,n=void 0);const r=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},s);this.options=r;let{version:o}=r;s!=null&&s._directives?(this.directives=s._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new kn({version:o}),this.setSchema(o,s),this.contents=e===void 0?null:this.createNode(e,i,s)}clone(){const e=Object.create(Qc.prototype,{[rs]:{value:Uf}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=_t(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){jr(this.contents)&&this.contents.add(e)}addIn(e,n){jr(this.contents)&&this.contents.addIn(e,n)}createAlias(e,n){if(!e.anchor){const s=Pv(this);e.anchor=!n||s.has(n)?$v(n||"a",s):n}return new Kh(e.anchor)}createNode(e,n,s){let i;if(typeof n=="function")e=n.call({"":e},"",e),i=n;else if(Array.isArray(n)){const p=w=>typeof w=="number"||w instanceof String||w instanceof Number,g=n.filter(p).map(String);g.length>0&&(n=n.concat(g)),i=n}else s===void 0&&n&&(s=n,n=void 0);const{aliasDuplicateObjects:r,anchorPrefix:o,flow:a,keepUndefined:l,onTagObj:c,tag:u}=s??{},{onAnchor:f,setAnchors:h,sourceObjects:d}=WO(this,o||"a"),y={aliasDuplicateObjects:r??!0,keepUndefined:l??!1,onAnchor:f,onTagObj:c,replacer:i,schema:this.schema,sourceObjects:d},m=xa(e,u,y);return a&&kt(m)&&(m.flow=!0),h(),m}createPair(e,n,s={}){const i=this.createNode(e,null,s),r=this.createNode(n,null,s);return new Mn(i,r)}delete(e){return jr(this.contents)?this.contents.delete(e):!1}deleteIn(e){return ia(e)?this.contents==null?!1:(this.contents=null,!0):jr(this.contents)?this.contents.deleteIn(e):!1}get(e,n){return kt(this.contents)?this.contents.get(e,n):void 0}getIn(e,n){return ia(e)?!n&&lt(this.contents)?this.contents.value:this.contents:kt(this.contents)?this.contents.getIn(e,n):void 0}has(e){return kt(this.contents)?this.contents.has(e):!1}hasIn(e){return ia(e)?this.contents!==void 0:kt(this.contents)?this.contents.hasIn(e):!1}set(e,n){this.contents==null?this.contents=fc(this.schema,[e],n):jr(this.contents)&&this.contents.set(e,n)}setIn(e,n){ia(e)?this.contents=n:this.contents==null?this.contents=fc(this.schema,Array.from(e),n):jr(this.contents)&&this.contents.setIn(e,n)}setSchema(e,n={}){typeof e=="number"&&(e=String(e));let s;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new kn({version:"1.1"}),s={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new kn({version:e}),s={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,s=null;break;default:{const i=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(s)this.schema=new rd(Object.assign(s,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:n,mapAsMap:s,maxAliasCount:i,onAnchor:r,reviver:o}={}){const a={anchors:new Map,doc:this,keep:!e,mapAsMap:s===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},l=is(this.contents,n??"",a);if(typeof r=="function")for(const{count:c,res:u}of a.anchors.values())r(u,c);return typeof o=="function"?Jr(o,{"":l},"",l):l}toJSON(e,n){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:n})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const n=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return yI(this,e)}}function jr(t){if(kt(t))return!0;throw new Error("Expected a YAML collection as document contents")}class aw extends Error{constructor(e,n,s,i){super(),this.name=e,this.code=s,this.message=i,this.pos=n}}class mr extends aw{constructor(e,n,s){super("YAMLParseError",e,n,s)}}class gI extends aw{constructor(e,n,s){super("YAMLWarning",e,n,s)}}const Ip=(t,e)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(a=>e.linePos(a));const{line:s,col:i}=n.linePos[0];n.message+=` at line ${s}, column ${i}`;let r=i-1,o=t.substring(e.lineStarts[s-1],e.lineStarts[s]).replace(/[\n\r]+$/,"");if(r>=60&&o.length>80){const a=Math.min(r-39,o.length-79);o=""+o.substring(a),r-=a-1}if(o.length>80&&(o=o.substring(0,79)+""),s>1&&/^ *$/.test(o.substring(0,r))){let a=t.substring(e.lineStarts[s-2],e.lineStarts[s-1]);a.length>80&&(a=a.substring(0,79)+`
`),o=a+o}if(/[^ ]/.test(o)){let a=1;const l=n.linePos[1];l&&l.line===s&&l.col>i&&(a=Math.max(1,Math.min(l.col-i,80-r)));const c=" ".repeat(r)+"^".repeat(a);n.message+=`:

${o}
${c}
`}};function Do(t,{flow:e,indicator:n,next:s,offset:i,onError:r,parentIndent:o,startOnNewline:a}){let l=!1,c=a,u=a,f="",h="",d=!1,y=!1,m=null,p=null,g=null,w=null,T=null,k=null,_=null;for(const M of t)switch(y&&(M.type!=="space"&&M.type!=="newline"&&M.type!=="comma"&&r(M.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),y=!1),m&&(c&&M.type!=="comment"&&M.type!=="newline"&&r(m,"TAB_AS_INDENT","Tabs are not allowed as indentation"),m=null),M.type){case"space":!e&&(n!=="doc-start"||(s==null?void 0:s.type)!=="flow-collection")&&M.source.includes("	")&&(m=M),u=!0;break;case"comment":{u||r(M,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const x=M.source.substring(1)||" ";f?f+=h+x:f=x,h="",c=!1;break}case"newline":c?f?f+=M.source:(!k||n!=="seq-item-ind")&&(l=!0):h+=M.source,c=!0,d=!0,(p||g)&&(w=M),u=!0;break;case"anchor":p&&r(M,"MULTIPLE_ANCHORS","A node can have at most one anchor"),M.source.endsWith(":")&&r(M.offset+M.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),p=M,_??(_=M.offset),c=!1,u=!1,y=!0;break;case"tag":{g&&r(M,"MULTIPLE_TAGS","A node can have at most one tag"),g=M,_??(_=M.offset),c=!1,u=!1,y=!0;break}case n:(p||g)&&r(M,"BAD_PROP_ORDER",`Anchors and tags must be after the ${M.source} indicator`),k&&r(M,"UNEXPECTED_TOKEN",`Unexpected ${M.source} in ${e??"collection"}`),k=M,c=n==="seq-item-ind"||n==="explicit-key-ind",u=!1;break;case"comma":if(e){T&&r(M,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),T=M,c=!1,u=!1;break}default:r(M,"UNEXPECTED_TOKEN",`Unexpected ${M.type} token`),c=!1,u=!1}const C=t[t.length-1],I=C?C.offset+C.source.length:i;return y&&s&&s.type!=="space"&&s.type!=="newline"&&s.type!=="comma"&&(s.type!=="scalar"||s.source!=="")&&r(s.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),m&&(c&&m.indent<=o||(s==null?void 0:s.type)==="block-map"||(s==null?void 0:s.type)==="block-seq")&&r(m,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:T,found:k,spaceBefore:l,comment:f,hasNewline:d,anchor:p,tag:g,newlineAfterProp:w,end:I,start:_??I}}function Ca(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return!0;if(t.end){for(const e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of t.items){for(const n of e.start)if(n.type==="newline")return!0;if(e.sep){for(const n of e.sep)if(n.type==="newline")return!0}if(Ca(e.key)||Ca(e.value))return!0}return!1;default:return!0}}function Wf(t,e,n){if((e==null?void 0:e.type)==="flow-collection"){const s=e.end[0];s.indent===t&&(s.source==="]"||s.source==="}")&&Ca(e)&&n(s,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function lw(t,e,n){const{uniqueKeys:s}=t.options;if(s===!1)return!1;const i=typeof s=="function"?s:(r,o)=>r===o||lt(r)&&lt(o)&&r.value===o.value;return e.some(r=>i(r.key,n))}const Mp="All mapping items must start at the same column";function vI({composeNode:t,composeEmptyNode:e},n,s,i,r){var u;const o=(r==null?void 0:r.nodeClass)??es,a=new o(n.schema);n.atRoot&&(n.atRoot=!1);let l=s.offset,c=null;for(const f of s.items){const{start:h,key:d,sep:y,value:m}=f,p=Do(h,{indicator:"explicit-key-ind",next:d??(y==null?void 0:y[0]),offset:l,onError:i,parentIndent:s.indent,startOnNewline:!0}),g=!p.found;if(g){if(d&&(d.type==="block-seq"?i(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in d&&d.indent!==s.indent&&i(l,"BAD_INDENT",Mp)),!p.anchor&&!p.tag&&!y){c=p.end,p.comment&&(a.comment?a.comment+=`
`+p.comment:a.comment=p.comment);continue}(p.newlineAfterProp||Ca(d))&&i(d??h[h.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((u=p.found)==null?void 0:u.indent)!==s.indent&&i(l,"BAD_INDENT",Mp);n.atKey=!0;const w=p.end,T=d?t(n,d,p,i):e(n,w,h,null,p,i);n.schema.compat&&Wf(s.indent,d,i),n.atKey=!1,lw(n,a.items,T)&&i(w,"DUPLICATE_KEY","Map keys must be unique");const k=Do(y??[],{indicator:"map-value-ind",next:m,offset:T.range[2],onError:i,parentIndent:s.indent,startOnNewline:!d||d.type==="block-scalar"});if(l=k.end,k.found){g&&((m==null?void 0:m.type)==="block-map"&&!k.hasNewline&&i(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&p.start<k.found.offset-1024&&i(T.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const _=m?t(n,m,k,i):e(n,l,y,null,k,i);n.schema.compat&&Wf(s.indent,m,i),l=_.range[2];const C=new Mn(T,_);n.options.keepSourceTokens&&(C.srcToken=f),a.items.push(C)}else{g&&i(T.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),k.comment&&(T.comment?T.comment+=`
`+k.comment:T.comment=k.comment);const _=new Mn(T);n.options.keepSourceTokens&&(_.srcToken=f),a.items.push(_)}}return c&&c<l&&i(c,"IMPOSSIBLE","Map comment with trailing content"),a.range=[s.offset,l,c??l],a}function wI({composeNode:t,composeEmptyNode:e},n,s,i,r){const o=(r==null?void 0:r.nodeClass)??_r,a=new o(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let l=s.offset,c=null;for(const{start:u,value:f}of s.items){const h=Do(u,{indicator:"seq-item-ind",next:f,offset:l,onError:i,parentIndent:s.indent,startOnNewline:!0});if(!h.found)if(h.anchor||h.tag||f)f&&f.type==="block-seq"?i(h.end,"BAD_INDENT","All sequence items must start at the same column"):i(l,"MISSING_CHAR","Sequence item without - indicator");else{c=h.end,h.comment&&(a.comment=h.comment);continue}const d=f?t(n,f,h,i):e(n,h.end,u,null,h,i);n.schema.compat&&Wf(s.indent,f,i),l=d.range[2],a.items.push(d)}return a.range=[s.offset,l,c??l],a}function Ja(t,e,n,s){let i="";if(t){let r=!1,o="";for(const a of t){const{source:l,type:c}=a;switch(c){case"space":r=!0;break;case"comment":{n&&!r&&s(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const u=l.substring(1)||" ";i?i+=o+u:i=u,o="";break}case"newline":i&&(o+=l),r=!0;break;default:s(a,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}e+=l.length}}return{comment:i,offset:e}}const Uu="Block collections are not allowed within flow collections",zu=t=>t&&(t.type==="block-map"||t.type==="block-seq");function bI({composeNode:t,composeEmptyNode:e},n,s,i,r){const o=s.start.source==="{",a=o?"flow map":"flow sequence",l=(r==null?void 0:r.nodeClass)??(o?es:_r),c=new l(n.schema);c.flow=!0;const u=n.atRoot;u&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let f=s.offset+s.start.source.length;for(let p=0;p<s.items.length;++p){const g=s.items[p],{start:w,key:T,sep:k,value:_}=g,C=Do(w,{flow:a,indicator:"explicit-key-ind",next:T??(k==null?void 0:k[0]),offset:f,onError:i,parentIndent:s.indent,startOnNewline:!1});if(!C.found){if(!C.anchor&&!C.tag&&!k&&!_){p===0&&C.comma?i(C.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):p<s.items.length-1&&i(C.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),C.comment&&(c.comment?c.comment+=`
`+C.comment:c.comment=C.comment),f=C.end;continue}!o&&n.options.strict&&Ca(T)&&i(T,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(p===0)C.comma&&i(C.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(C.comma||i(C.start,"MISSING_CHAR",`Missing , between ${a} items`),C.comment){let I="";e:for(const M of w)switch(M.type){case"comma":case"space":break;case"comment":I=M.source.substring(1);break e;default:break e}if(I){let M=c.items[c.items.length-1];Ot(M)&&(M=M.value??M.key),M.comment?M.comment+=`
`+I:M.comment=I,C.comment=C.comment.substring(I.length+1)}}if(!o&&!k&&!C.found){const I=_?t(n,_,C,i):e(n,C.end,k,null,C,i);c.items.push(I),f=I.range[2],zu(_)&&i(I.range,"BLOCK_IN_FLOW",Uu)}else{n.atKey=!0;const I=C.end,M=T?t(n,T,C,i):e(n,I,w,null,C,i);zu(T)&&i(M.range,"BLOCK_IN_FLOW",Uu),n.atKey=!1;const x=Do(k??[],{flow:a,indicator:"map-value-ind",next:_,offset:M.range[2],onError:i,parentIndent:s.indent,startOnNewline:!1});if(x.found){if(!o&&!C.found&&n.options.strict){if(k)for(const N of k){if(N===x.found)break;if(N.type==="newline"){i(N,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}C.start<x.found.offset-1024&&i(x.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else _&&("source"in _&&_.source&&_.source[0]===":"?i(_,"MISSING_CHAR",`Missing space after : in ${a}`):i(x.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const R=_?t(n,_,x,i):x.found?e(n,x.end,k,null,x,i):null;R?zu(_)&&i(R.range,"BLOCK_IN_FLOW",Uu):x.comment&&(M.comment?M.comment+=`
`+x.comment:M.comment=x.comment);const W=new Mn(M,R);if(n.options.keepSourceTokens&&(W.srcToken=g),o){const N=c;lw(n,N.items,M)&&i(I,"DUPLICATE_KEY","Map keys must be unique"),N.items.push(W)}else{const N=new es(n.schema);N.flow=!0,N.items.push(W);const se=(R??M).range;N.range=[M.range[0],se[1],se[2]],c.items.push(N)}f=R?R.range[2]:x.end}}const h=o?"}":"]",[d,...y]=s.end;let m=f;if(d&&d.source===h)m=d.offset+d.source.length;else{const p=a[0].toUpperCase()+a.substring(1),g=u?`${p} must end with a ${h}`:`${p} in block collection must be sufficiently indented and end with a ${h}`;i(f,u?"MISSING_CHAR":"BAD_INDENT",g),d&&d.source.length!==1&&y.unshift(d)}if(y.length>0){const p=Ja(y,m,n.options.strict,i);p.comment&&(c.comment?c.comment+=`
`+p.comment:c.comment=p.comment),c.range=[s.offset,m,p.offset]}else c.range=[s.offset,m,m];return c}function Hu(t,e,n,s,i,r){const o=n.type==="block-map"?vI(t,e,n,s,r):n.type==="block-seq"?wI(t,e,n,s,r):bI(t,e,n,s,r),a=o.constructor;return i==="!"||i===a.tagName?(o.tag=a.tagName,o):(i&&(o.tag=i),o)}function TI(t,e,n,s,i){var h;const r=s.tag,o=r?e.directives.tagName(r.source,d=>i(r,"TAG_RESOLVE_FAILED",d)):null;if(n.type==="block-seq"){const{anchor:d,newlineAfterProp:y}=s,m=d&&r?d.offset>r.offset?d:r:d??r;m&&(!y||y.offset<m.offset)&&i(m,"MISSING_CHAR","Missing newline after block sequence props")}const a=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!r||!o||o==="!"||o===es.tagName&&a==="map"||o===_r.tagName&&a==="seq")return Hu(t,e,n,i,o);let l=e.schema.tags.find(d=>d.tag===o&&d.collection===a);if(!l){const d=e.schema.knownTags[o];if(d&&d.collection===a)e.schema.tags.push(Object.assign({},d,{default:!1})),l=d;else return d?i(r,"BAD_COLLECTION_TYPE",`${d.tag} used for ${a} collection, but expects ${d.collection??"scalar"}`,!0):i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),Hu(t,e,n,i,o)}const c=Hu(t,e,n,i,o,l),u=((h=l.resolve)==null?void 0:h.call(l,c,d=>i(r,"TAG_RESOLVE_FAILED",d),e.options))??c,f=_t(u)?u:new Ce(u);return f.range=c.range,f.tag=o,l!=null&&l.format&&(f.format=l.format),f}function EI(t,e,n){const s=e.offset,i=SI(e,t.options.strict,n);if(!i)return{value:"",type:null,comment:"",range:[s,s,s]};const r=i.mode===">"?Ce.BLOCK_FOLDED:Ce.BLOCK_LITERAL,o=e.source?kI(e.source):[];let a=o.length;for(let m=o.length-1;m>=0;--m){const p=o[m][1];if(p===""||p==="\r")a=m;else break}if(a===0){const m=i.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"";let p=s+i.length;return e.source&&(p+=e.source.length),{value:m,type:r,comment:i.comment,range:[s,p,p]}}let l=e.indent+i.indent,c=e.offset+i.length,u=0;for(let m=0;m<a;++m){const[p,g]=o[m];if(g===""||g==="\r")i.indent===0&&p.length>l&&(l=p.length);else{p.length<l&&n(c+p.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),i.indent===0&&(l=p.length),u=m,l===0&&!t.atRoot&&n(c,"BAD_INDENT","Block scalar values in collections must be indented");break}c+=p.length+g.length+1}for(let m=o.length-1;m>=a;--m)o[m][0].length>l&&(a=m+1);let f="",h="",d=!1;for(let m=0;m<u;++m)f+=o[m][0].slice(l)+`
`;for(let m=u;m<a;++m){let[p,g]=o[m];c+=p.length+g.length+1;const w=g[g.length-1]==="\r";if(w&&(g=g.slice(0,-1)),g&&p.length<l){const k=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;n(c-g.length-(w?2:1),"BAD_INDENT",k),p=""}r===Ce.BLOCK_LITERAL?(f+=h+p.slice(l)+g,h=`
`):p.length>l||g[0]==="	"?(h===" "?h=`
`:!d&&h===`
`&&(h=`

`),f+=h+p.slice(l)+g,h=`
`,d=!0):g===""?h===`
`?f+=`
`:h=`
`:(f+=h+g,h=" ",d=!1)}switch(i.chomp){case"-":break;case"+":for(let m=a;m<o.length;++m)f+=`
`+o[m][0].slice(l);f[f.length-1]!==`
`&&(f+=`
`);break;default:f+=`
`}const y=s+i.length+e.source.length;return{value:f,type:r,comment:i.comment,range:[s,y,y]}}function SI({offset:t,props:e},n,s){if(e[0].type!=="block-scalar-header")return s(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:i}=e[0],r=i[0];let o=0,a="",l=-1;for(let h=1;h<i.length;++h){const d=i[h];if(!a&&(d==="-"||d==="+"))a=d;else{const y=Number(d);!o&&y?o=y:l===-1&&(l=t+h)}}l!==-1&&s(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let c=!1,u="",f=i.length;for(let h=1;h<e.length;++h){const d=e[h];switch(d.type){case"space":c=!0;case"newline":f+=d.source.length;break;case"comment":n&&!c&&s(d,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),f+=d.source.length,u=d.source.substring(1);break;case"error":s(d,"UNEXPECTED_TOKEN",d.message),f+=d.source.length;break;default:{const y=`Unexpected token in block scalar header: ${d.type}`;s(d,"UNEXPECTED_TOKEN",y);const m=d.source;m&&typeof m=="string"&&(f+=m.length)}}}return{mode:r,indent:o,chomp:a,comment:u,length:f}}function kI(t){const e=t.split(/\n( *)/),n=e[0],s=n.match(/^( *)/),r=[s!=null&&s[1]?[s[1],n.slice(s[1].length)]:["",n]];for(let o=1;o<e.length;o+=2)r.push([e[o],e[o+1]]);return r}function _I(t,e,n){const{offset:s,type:i,source:r,end:o}=t;let a,l;const c=(h,d,y)=>n(s+h,d,y);switch(i){case"scalar":a=Ce.PLAIN,l=DI(r,c);break;case"single-quoted-scalar":a=Ce.QUOTE_SINGLE,l=OI(r,c);break;case"double-quoted-scalar":a=Ce.QUOTE_DOUBLE,l=II(r,c);break;default:return n(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[s,s+r.length,s+r.length]}}const u=s+r.length,f=Ja(o,u,e,n);return{value:l,type:a,comment:f.comment,range:[s,u,f.offset]}}function DI(t,e){let n="";switch(t[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${t[0]}`;break}case"@":case"`":{n=`reserved character ${t[0]}`;break}}return n&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),cw(t)}function OI(t,e){return(t[t.length-1]!=="'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing 'quote"),cw(t.slice(1,-1)).replace(/''/g,"'")}function cw(t){let e,n;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let s=e.exec(t);if(!s)return t;let i=s[1],r=" ",o=e.lastIndex;for(n.lastIndex=o;s=n.exec(t);)s[1]===""?r===`
`?i+=r:r=`
`:(i+=r+s[1],r=" "),o=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=o,s=a.exec(t),i+r+((s==null?void 0:s[1])??"")}function II(t,e){let n="";for(let s=1;s<t.length-1;++s){const i=t[s];if(!(i==="\r"&&t[s+1]===`
`))if(i===`
`){const{fold:r,offset:o}=MI(t,s);n+=r,s=o}else if(i==="\\"){let r=t[++s];const o=xI[r];if(o)n+=o;else if(r===`
`)for(r=t[s+1];r===" "||r==="	";)r=t[++s+1];else if(r==="\r"&&t[s+1]===`
`)for(r=t[++s+1];r===" "||r==="	";)r=t[++s+1];else if(r==="x"||r==="u"||r==="U"){const a={x:2,u:4,U:8}[r];n+=CI(t,s+1,a,e),s+=a}else{const a=t.substr(s-1,2);e(s-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),n+=a}}else if(i===" "||i==="	"){const r=s;let o=t[s+1];for(;o===" "||o==="	";)o=t[++s+1];o!==`
`&&!(o==="\r"&&t[s+2]===`
`)&&(n+=s>r?t.slice(r,s+1):i)}else n+=i}return(t[t.length-1]!=='"'||t.length===1)&&e(t.length,"MISSING_CHAR",'Missing closing "quote'),n}function MI(t,e){let n="",s=t[e+1];for(;(s===" "||s==="	"||s===`
`||s==="\r")&&!(s==="\r"&&t[e+2]!==`
`);)s===`
`&&(n+=`
`),e+=1,s=t[e+1];return n||(n=" "),{fold:n,offset:e}}const xI={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function CI(t,e,n,s){const i=t.substr(e,n),o=i.length===n&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(o)){const a=t.substr(e-2,n+2);return s(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(o)}function uw(t,e,n,s){const{value:i,type:r,comment:o,range:a}=e.type==="block-scalar"?EI(t,e,s):_I(e,t.options.strict,s),l=n?t.directives.tagName(n.source,f=>s(n,"TAG_RESOLVE_FAILED",f)):null;let c;t.options.stringKeys&&t.atKey?c=t.schema[Us]:l?c=AI(t.schema,i,l,n,s):e.type==="scalar"?c=NI(t,i,e,s):c=t.schema[Us];let u;try{const f=c.resolve(i,h=>s(n??e,"TAG_RESOLVE_FAILED",h),t.options);u=lt(f)?f:new Ce(f)}catch(f){const h=f instanceof Error?f.message:String(f);s(n??e,"TAG_RESOLVE_FAILED",h),u=new Ce(i)}return u.range=a,u.source=i,r&&(u.type=r),l&&(u.tag=l),c.format&&(u.format=c.format),o&&(u.comment=o),u}function AI(t,e,n,s,i){var a;if(n==="!")return t[Us];const r=[];for(const l of t.tags)if(!l.collection&&l.tag===n)if(l.default&&l.test)r.push(l);else return l;for(const l of r)if((a=l.test)!=null&&a.test(e))return l;const o=t.knownTags[n];return o&&!o.collection?(t.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(i(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),t[Us])}function NI({atKey:t,directives:e,schema:n},s,i,r){const o=n.tags.find(a=>{var l;return(a.default===!0||t&&a.default==="key")&&((l=a.test)==null?void 0:l.test(s))})||n[Us];if(n.compat){const a=n.compat.find(l=>{var c;return l.default&&((c=l.test)==null?void 0:c.test(s))})??n[Us];if(o.tag!==a.tag){const l=e.tagString(o.tag),c=e.tagString(a.tag),u=`Value may be parsed as either ${l} or ${c}`;r(i,"TAG_RESOLVE_FAILED",u,!0)}}return o}function LI(t,e,n){if(e){n??(n=e.length);for(let s=n-1;s>=0;--s){let i=e[s];switch(i.type){case"space":case"comment":case"newline":t-=i.source.length;continue}for(i=e[++s];(i==null?void 0:i.type)==="space";)t+=i.source.length,i=e[++s];break}}return t}const RI={composeNode:fw,composeEmptyNode:od};function fw(t,e,n,s){const i=t.atKey,{spaceBefore:r,comment:o,anchor:a,tag:l}=n;let c,u=!0;switch(e.type){case"alias":c=PI(t,e,s),(a||l)&&s(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=uw(t,e,l,s),a&&(c.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=TI(RI,t,e,n,s),a&&(c.anchor=a.source.substring(1));break;default:{const f=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;s(e,"UNEXPECTED_TOKEN",f),c=od(t,e.offset,void 0,null,n,s),u=!1}}return a&&c.anchor===""&&s(a,"BAD_ALIAS","Anchor cannot be an empty string"),i&&t.options.stringKeys&&(!lt(c)||typeof c.value!="string"||c.tag&&c.tag!=="tag:yaml.org,2002:str")&&s(l??e,"NON_STRING_KEY","With stringKeys, all keys must be strings"),r&&(c.spaceBefore=!0),o&&(e.type==="scalar"&&e.source===""?c.comment=o:c.commentBefore=o),t.options.keepSourceTokens&&u&&(c.srcToken=e),c}function od(t,e,n,s,{spaceBefore:i,comment:r,anchor:o,tag:a,end:l},c){const u={type:"scalar",offset:LI(e,n,s),indent:-1,source:""},f=uw(t,u,a,c);return o&&(f.anchor=o.source.substring(1),f.anchor===""&&c(o,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(f.spaceBefore=!0),r&&(f.comment=r,f.range[2]=l),f}function PI({options:t},{offset:e,source:n,end:s},i){const r=new Kh(n.substring(1));r.source===""&&i(e,"BAD_ALIAS","Alias cannot be an empty string"),r.source.endsWith(":")&&i(e+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=e+n.length,a=Ja(s,o,t.strict,i);return r.range=[e,o,a.offset],a.comment&&(r.comment=a.comment),r}function $I(t,e,{offset:n,start:s,value:i,end:r},o){const a=Object.assign({_directives:e},t),l=new Qc(void 0,a),c={atKey:!1,atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},u=Do(s,{indicator:"doc-start",next:i??(r==null?void 0:r[0]),offset:n,onError:o,parentIndent:0,startOnNewline:!0});u.found&&(l.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!u.hasNewline&&o(u.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=i?fw(c,i,u,o):od(c,u.end,s,null,u,o);const f=l.contents.range[2],h=Ja(r,f,!1,o);return h.comment&&(l.comment=h.comment),l.range=[n,f,h.offset],l}function Ko(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];const{offset:e,source:n}=t;return[e,e+(typeof n=="string"?n.length:1)]}function xp(t){var i;let e="",n=!1,s=!1;for(let r=0;r<t.length;++r){const o=t[r];switch(o[0]){case"#":e+=(e===""?"":s?`

`:`
`)+(o.substring(1)||" "),n=!0,s=!1;break;case"%":((i=t[r+1])==null?void 0:i[0])!=="#"&&(r+=1),n=!1;break;default:n||(s=!0),n=!1}}return{comment:e,afterEmptyLine:s}}class YI{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,s,i,r)=>{const o=Ko(n);r?this.warnings.push(new gI(o,s,i)):this.errors.push(new mr(o,s,i))},this.directives=new kn({version:e.version||"1.2"}),this.options=e}decorate(e,n){const{comment:s,afterEmptyLine:i}=xp(this.prelude);if(s){const r=e.contents;if(n)e.comment=e.comment?`${e.comment}
${s}`:s;else if(i||e.directives.docStart||!r)e.commentBefore=s;else if(kt(r)&&!r.flow&&r.items.length>0){let o=r.items[0];Ot(o)&&(o=o.key);const a=o.commentBefore;o.commentBefore=a?`${s}
${a}`:s}else{const o=r.commentBefore;r.commentBefore=o?`${s}
${o}`:s}}n?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:xp(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,n=!1,s=-1){for(const i of e)yield*this.next(i);yield*this.end(n,s)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(n,s,i)=>{const r=Ko(e);r[0]+=n,this.onError(r,"BAD_DIRECTIVE",s,i)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const n=$I(this.options,this.directives,e,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const n=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,s=new mr(Ko(e),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(s):this.doc.errors.push(s);break}case"doc-end":{if(!this.doc){const s="Unexpected doc-end without preceding document";this.errors.push(new mr(Ko(e),"UNEXPECTED_TOKEN",s));break}this.doc.directives.docEnd=!0;const n=Ja(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const s=this.doc.comment;this.doc.comment=s?`${s}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new mr(Ko(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const s=Object.assign({_directives:this.directives},this.options),i=new Qc(void 0,s);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,n,n],this.decorate(i,!1),yield i}}}const hw="\uFEFF",dw="",mw="",jf="";function FI(t){switch(t){case hw:return"byte-order-mark";case dw:return"doc-mode";case mw:return"flow-error-end";case jf:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function us(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const Cp=new Set("0123456789ABCDEFabcdef"),UI=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),Sl=new Set(",[]{}"),zI=new Set(` ,[]{}
\r	`),Bu=t=>!t||zI.has(t);class HI{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,n=!1){if(e){if(typeof e!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!n;let s=this.next??"stream";for(;s&&(n||this.hasChars(1));)s=yield*this.parseNext(s)}atLineEnd(){let e=this.pos,n=this.buffer[e];for(;n===" "||n==="	";)n=this.buffer[++e];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let n=this.buffer[e];if(this.indentNext>0){let s=0;for(;n===" ";)n=this.buffer[++s+e];if(n==="\r"){const i=this.buffer[s+e+1];if(i===`
`||!i&&!this.atEnd)return e+s+1}return n===`
`||s>=this.indentNext||!n&&!this.atEnd?e+s:-1}if(n==="-"||n==="."){const s=this.buffer.substr(e,3);if((s==="---"||s==="...")&&us(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===hw&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let n=e.length,s=e.indexOf("#");for(;s!==-1;){const r=e[s-1];if(r===" "||r==="	"){n=s-1;break}else s=e.indexOf("#",s+1)}for(;;){const r=e[n-1];if(r===" "||r==="	")n-=1;else break}const i=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-n),yield*this.pushNewline(),"stream"}return yield dw,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if((n==="---"||n==="...")&&us(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!us(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&us(n)){const s=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=s,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(e[n]){case"#":yield*this.pushCount(e.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(Bu),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,n,s=-1;do e=yield*this.pushNewline(),e>0?(n=yield*this.pushSpaces(!1),this.indentValue=s=n):n=0,n+=yield*this.pushSpaces(!0);while(e+n>0);const i=this.getLine();if(i===null)return this.setNext("flow");if((s!==-1&&s<this.indentNext&&i[0]!=="#"||s===0&&(i.startsWith("---")||i.startsWith("..."))&&us(i[3]))&&!(s===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield mw,yield*this.parseLineStart();let r=0;for(;i[r]===",";)r+=yield*this.pushCount(1),r+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(r+=yield*this.pushIndicators(),i[r]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-r),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(Bu),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||us(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let n=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let r=0;for(;this.buffer[n-1-r]==="\\";)r+=1;if(r%2===0)break;n=this.buffer.indexOf('"',n+1)}const s=this.buffer.substring(0,n);let i=s.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){const r=this.continueScalar(i+1);if(r===-1)break;i=s.indexOf(`
`,r)}i!==-1&&(n=i-(s[i-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const n=this.buffer[++e];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>us(n)||n==="#")}*parseBlockScalar(){let e=this.pos-1,n=0,s;e:for(let r=this.pos;s=this.buffer[r];++r)switch(s){case" ":n+=1;break;case`
`:e=r,n=0;break;case"\r":{const o=this.buffer[r+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!s&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const r=this.continueScalar(e+1);if(r===-1)break;e=this.buffer.indexOf(`
`,r)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}let i=e+1;for(s=this.buffer[i];s===" ";)s=this.buffer[++i];if(s==="	"){for(;s==="	"||s===" "||s==="\r"||s===`
`;)s=this.buffer[++i];e=i-1}else if(!this.blockScalarKeep)do{let r=e-1,o=this.buffer[r];o==="\r"&&(o=this.buffer[--r]);const a=r;for(;o===" ";)o=this.buffer[--r];if(o===`
`&&r>=this.pos&&r+1+n>a)e=r;else break}while(!0);return yield jf,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let n=this.pos-1,s=this.pos-1,i;for(;i=this.buffer[++s];)if(i===":"){const r=this.buffer[s+1];if(us(r)||e&&Sl.has(r))break;n=s}else if(us(i)){let r=this.buffer[s+1];if(i==="\r"&&(r===`
`?(s+=1,i=`
`,r=this.buffer[s+1]):n=s),r==="#"||e&&Sl.has(r))break;if(i===`
`){const o=this.continueScalar(s+1);if(o===-1)break;s=Math.max(s,o-2)}}else{if(e&&Sl.has(i))break;n=s}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield jf,yield*this.pushToIndex(n+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,n){const s=this.buffer.slice(this.pos,e);return s?(yield s,this.pos+=s.length,s.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(Bu))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,n=this.charAt(1);if(us(n)||e&&Sl.has(n))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,n=this.buffer[e];for(;!us(n)&&n!==">";)n=this.buffer[++e];return yield*this.pushToIndex(n===">"?e+1:e,!1)}else{let e=this.pos+1,n=this.buffer[e];for(;n;)if(UI.has(n))n=this.buffer[++e];else if(n==="%"&&Cp.has(this.buffer[e+1])&&Cp.has(this.buffer[e+2]))n=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let n=this.pos-1,s;do s=this.buffer[++n];while(s===" "||e&&s==="	");const i=n-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=n),i}*pushUntil(e){let n=this.pos,s=this.buffer[n];for(;!e(s);)s=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class BI{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let n=0,s=this.lineStarts.length;for(;n<s;){const r=n+s>>1;this.lineStarts[r]<e?n=r+1:s=r}if(this.lineStarts[n]===e)return{line:n+1,col:1};if(n===0)return{line:0,col:e};const i=this.lineStarts[n-1];return{line:n,col:e-i+1}}}}function Oi(t,e){for(let n=0;n<t.length;++n)if(t[n].type===e)return!0;return!1}function Ap(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function pw(t){switch(t==null?void 0:t.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function kl(t){switch(t.type){case"document":return t.start;case"block-map":{const e=t.items[t.items.length-1];return e.sep??e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function Vr(t){var n;if(t.length===0)return[];let e=t.length;e:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((n=t[++e])==null?void 0:n.type)==="space";);return t.splice(e,t.length)}function Np(t){if(t.start.type==="flow-seq-start")for(const e of t.items)e.sep&&!e.value&&!Oi(e.start,"explicit-key-ind")&&!Oi(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,pw(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class WI{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new HI,this.onNewLine=e}*parse(e,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const s of this.lexer.lex(e,n))yield*this.next(s);n||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}const n=FI(e);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const s=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:s,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const n=e??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const s=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in s?s.indent:0:n.type==="flow-collection"&&s.type==="document"&&(n.indent=0),n.type==="flow-collection"&&Np(n),s.type){case"document":s.value=n;break;case"block-scalar":s.props.push(n);break;case"block-map":{const i=s.items[s.items.length-1];if(i.value){s.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=n;else{Object.assign(i,{key:n,sep:[]}),this.onKeyLine=!i.explicitKey;return}break}case"block-seq":{const i=s.items[s.items.length-1];i.value?s.items.push({start:[],value:n}):i.value=n;break}case"flow-collection":{const i=s.items[s.items.length-1];!i||i.value?s.items.push({start:[],key:n,sep:[]}):i.sep?i.value=n:Object.assign(i,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((s.type==="document"||s.type==="block-map"||s.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const i=n.items[n.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&Ap(i.start)===-1&&(n.indent===0||i.start.every(r=>r.type!=="comment"||r.indent<n.indent))&&(s.type==="document"?s.end=i.start:s.items.push({start:i.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{Ap(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const n=this.startBlockValue(e);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const n=kl(this.peek(2)),s=Vr(n);let i;e.end?(i=e.end,i.push(this.sourceToken),delete e.end):i=[this.sourceToken];const r={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:s,key:e,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=r}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){var s;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const i="end"in n.value?n.value.end:void 0,r=Array.isArray(i)?i[i.length-1]:void 0;(r==null?void 0:r.type)==="comment"?i==null||i.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){const i=e.items[e.items.length-2],r=(s=i==null?void 0:i.value)==null?void 0:s.end;if(Array.isArray(r)){Array.prototype.push.apply(r,n.start),r.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const i=!this.onKeyLine&&this.indent===e.indent,r=i&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let o=[];if(r&&n.sep&&!n.value){const a=[];for(let l=0;l<n.sep.length;++l){const c=n.sep[l];switch(c.type){case"newline":a.push(l);break;case"space":break;case"comment":c.indent>e.indent&&(a.length=0);break;default:a.length=0}}a.length>=2&&(o=n.sep.splice(a[1]))}switch(this.type){case"anchor":case"tag":r||n.value?(o.push(this.sourceToken),e.items.push({start:o}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):r||n.value?(o.push(this.sourceToken),e.items.push({start:o,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Oi(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(pw(n.key)&&!Oi(n.sep,"newline")){const a=Vr(n.start),l=n.key,c=n.sep;c.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:l,sep:c}]})}else o.length>0?n.sep=n.sep.concat(o,this.sourceToken):n.sep.push(this.sourceToken);else if(Oi(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const a=Vr(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||r?e.items.push({start:o,key:null,sep:[this.sourceToken]}):Oi(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const a=this.flowScalar(this.type);r||n.value?(e.items.push({start:o,key:a,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(a):(Object.assign(n,{key:a,sep:[]}),this.onKeyLine=!0);return}default:{const a=this.startBlockValue(e);if(a){if(a.type==="block-seq"){if(!n.explicitKey&&n.sep&&!Oi(n.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else i&&e.items.push({start:o});this.stack.push(a);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){var s;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){const i="end"in n.value?n.value.end:void 0,r=Array.isArray(i)?i[i.length-1]:void 0;(r==null?void 0:r.type)==="comment"?i==null||i.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){const i=e.items[e.items.length-2],r=(s=i==null?void 0:i.value)==null?void 0:s.end;if(Array.isArray(r)){Array.prototype.push.apply(r,n.start),r.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||Oi(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){const i=this.startBlockValue(e);if(i){this.stack.push(i);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){const n=e.items[e.items.length-1];if(this.type==="flow-error-end"){let s;do yield*this.pop(),s=this.peek(1);while(s&&s.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?e.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);!n||n.value?e.items.push({start:[],key:i,sep:[]}):n.sep?this.stack.push(i):Object.assign(n,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const s=this.startBlockValue(e);s?this.stack.push(s):(yield*this.pop(),yield*this.step())}else{const s=this.peek(2);if(s.type==="block-map"&&(this.type==="map-value-ind"&&s.indent===e.indent||this.type==="newline"&&!s.items[s.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&s.type!=="flow-collection"){const i=kl(s),r=Vr(i);Np(e);const o=e.end.splice(1,e.end.length);o.push(this.sourceToken);const a={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:r,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=kl(e),s=Vr(n);return s.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=kl(e),s=Vr(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,n){return this.type!=="comment"||this.indent<=n?!1:e.every(s=>s.type==="newline"||s.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function jI(t){const e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new BI||null,prettyErrors:e}}function VI(t,e={}){const{lineCounter:n,prettyErrors:s}=jI(e),i=new WI(n==null?void 0:n.addNewLine),r=new YI(e);let o=null;for(const a of r.compose(i.parse(t),!0,t.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new mr(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return s&&n&&(o.errors.forEach(Ip(t,n)),o.warnings.forEach(Ip(t,n))),o}function yw(t,e,n){let s;typeof e=="function"?s=e:n===void 0&&e&&typeof e=="object"&&(n=e);const i=VI(t,n);if(!i)return null;if(i.warnings.forEach(r=>Hv(i.options.logLevel,r)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:s},n))}const Lp=t=>t.trim().split(/ |,/).filter(e=>!!e&&e.includes("@")||e==="*"||e==="\\*"),qI=/^([^:]+)(:)(?:\s|$)/,KI=/^(?!-)\s*([\w\-\.]+)(:)(?:\s|$)/,GI=/(:)\s+(.+)$/,gw=t=>!!t.match($h)||!!t.match(Ph)||!!t.match(Yh)||!!t.match(zc),vw=/^---/;function ww(t,e,n,s){let i=n,r=i,o=-1,a=-1;const l=[],c=[];let u=!1;const f=[];let h=t[i];for(;typeof h<"u"&&!(!u&&gw(h));){const m=h.match(vw);if(m){const g={type:Ne.FrontmatterDelimiter,from:e[r],to:e[r]+4};if(f.push(g),!u)i=r,u=!0;else{f.length===2&&(s.ranges.push(f[0]),s.ranges.push(f[1]));break}}const p=Bc(h,r,e,s);if(p||(h=PO(h)),!p&&!m){const g=h.match(KI);if(g){const w=e[r],T=g.index+g[0].indexOf(g[1]);l.push({type:Ne.PropertyKey,from:w+T,to:w+T+g[1].length}),l.push({type:Ne.PropertyKeyColon,from:w+T+g[1].length,to:w+T+g[1].length+1}),l.push({type:Ne.PropertyValue,from:w+T+g[1].length+1,to:w+h.length}),c.push(h),o===-1&&(o=r),a=r}else if(!u)break}else if(!u)break;h=t[++r]}let d={},y=[];if(c.length)try{const m=yw(c.join(`
`),{mapAsMap:!0});y=(()=>{const p=[];for(const g of m.keys())p.push(g);return p})(),d=Vf(m),s.ranges.push(...l)}catch(m){m instanceof mr&&s.parseMessages.push({type:"error",pos:m.pos.map(p=>e[n]+p),message:m.message}),console.error(m)}if(f.length===2){const m=e[i];s.foldables[m]={startLine:i,startIndex:m,endIndex:e[r]-1,type:"header",foldStartIndex:f.length===2?m+3:m}}else if(o>=0&&a>=0&&a!==o){const m=e[o],p={startLine:o,startIndex:m,endIndex:e[a+1]-1,type:"header",foldStartIndex:m};s.foldables[m]=p}return{properties:d,propOrder:y,i:r}}function Vf(t){const e={};for(const[n,s]of t.entries())s instanceof Map?e[n]=Vf(s):typeof s=="object"&&s!==null&&!Array.isArray(s)?e[n]=Vf(new Map(Object.entries(s))):e[n]=s;return e}function ZI(t,e,n){let s=0,i=s,r=-1,o=-1,a=!1;const l=[],c=[],u=[];let f=t[s];for(;typeof f<"u"&&!(!a&&gw(f));){const m=f.match(vw);if(m){const g={type:Ne.FrontmatterDelimiter,from:e[i],to:e[i]+4};if(u.push(g),!a)s=i,a=!0;else{u.length===2&&(n.ranges.push(u[0]),n.ranges.push(u[1]));break}}const p=Bc(f,i,e,n);if(p||(f=$O(f,i,e,n),l.push(f)),!p&&!m){const g=f.match(qI);g&&(c.push({type:Ne.HeaderKey,from:e[i],to:e[i]+g[1].length}),c.push({type:Ne.HeaderKeyColon,from:e[i]+g[1].length,to:e[i]+g[1].length+1}));const w=f.match(GI);let T;w?g?T=g[0].length+f.substring(g[0].length).indexOf(w[2]):T=f.indexOf(w[2]):g?T=-1:T=0,T>=0&&c.push({type:Ne.HeaderValue,from:e[i]+T,to:e[i]+T+(w?w[2].length:f.length)})}f.length&&(r===-1&&(r=i),o=i),i++,f=t[i]}try{const m=yw(l.join(`
`));if(m.dateFormat||(m.dateFormat=m.dateFormat==="d/M/y"?fD:To),m.view&&typeof m.view=="string"&&(m.view=Lp(m.view)),m.edit&&typeof m.edit=="string"&&(m.edit=Lp(m.edit)),(typeof m.timezone<"u"||typeof m.tz<"u")&&!Ui(m.timezone??m.tz,n.cache))for(let p=s;p<t.length;p++){const g=["timezone:","tz:"];for(let w=0;w<g.length;w++){const T=g[w];if(t[p].startsWith(T)){const k=t[p].substring(T.length).trim(),_=e[p]+t[p].indexOf(k),C=_+k.length;n.parseMessages.push({type:"error",pos:[_,C],message:`Invalid timezone "${k}"`})}}}n.ranges.push(...c),n.header=m}catch(m){m instanceof mr&&n.parseMessages.push({type:"error",pos:m.pos,message:m.message}),n.header={dateFormat:To}}let h,d;if(u.length===2){const m=e[s];h=m,d=e[i]-1,n.foldables[m]={startLine:s,startIndex:h,endIndex:d,type:"header",foldStartIndex:u.length===2?m+3:m}}else if(r>=0&&o>=0&&o!==r){h=e[r],d=e[o+1]-1;const m={startLine:r,startIndex:h,endIndex:d,type:"header",foldStartIndex:h};n.foldables[h]=m}const y=t.length>0||t[0].length>0;return!n.header.timezone&&y&&n.documentMessages.push({type:"warning",message:"Timezone not specified. Specifying a `timezone` in the header is highly recommended."}),i}function XI(t,e,n,s){t.id&&!s.ids[t.id]&&(s.ids[t.id]=[...e]),(!s.earliest||n.fromDateTime<s.earliest)&&(s.earliest=n.fromDateTime),(!s.latest||n.toDateTime>s.latest)&&(s.latest=n.toDateTime);const i=+n.toDateTime-+n.fromDateTime;(typeof s.maxDuration>"u"||i>s.maxDuration)&&(s.maxDuration=i)}function JI(t,e,n){const s=t.eventText.match(pv),i=e.indexOf(t.eventText);let r;if(s){const o=i+t.eventText.indexOf(s[0]),a=o+t.eventText.indexOf(s[1])+s[1].length;r=["X","x"].some(c=>s.includes(c));const l={type:Ne.CheckboxItemIndicator,from:t.dateRangeInText.from+o,to:t.dateRangeInText.from+a,content:r};n.ranges.push(l)}return r}function QI(t,e,n,s,i){let r=AO(t,n,s,i);if(r||(r=CO(t,n,s,i)),r||(r=NO(t,n,s,i)),!r)return n;const{properties:o,i:a,propOrder:l}=ww(e,s,n+1,i),c=[];let u=a-1,f;for(;f=e[++u],!(typeof f!="string"||f.match($h)||f.match(Ph)||f.match(Yh)||f.match(zc)||i.currentPath.length>1&&f.match(mv));){Bc(f,u,s,i),Av(f,u,s,i);const w=RO(f,u,s,i);w&&c.push(...w)}const h=e.slice(a-1,u),d=JI(r,t,i);h[0]=r.eventText.trim();const y=new TD(h,c,d),m=o.timezone||o.tz;if(m)if(typeof m=="string"||typeof m=="number"){const w=Ui(m,i.cache);w?(r.fromDateTime=r.fromDateTime.setZone(w,{keepLocalTime:!0}),r.toDateTime=r.toDateTime.setZone(w,{keepLocalTime:!0})):i.parseMessages.push({type:"error",message:`Unable to parse timezone "${m}"`,pos:[r.dateRangeInText.from,r.dateRangeInText.to]})}else if(typeof m=="object"){const w=m.from,T=m.to;if(!w&&!T&&i.parseMessages.push({type:"error",message:"Unable to parse distinct from and to timezones. Specify 'timezone.from' and/or 'timezone.to' to set zones for the start or end of ranges, respectively.",pos:[r.dateRangeInText.from,r.dateRangeInText.to]}),w){const k=Ui(w,i.cache);k?r.fromDateTime=r.fromDateTime.setZone(k,{keepLocalTime:!0}):i.parseMessages.push({type:"error",message:`Unable to parse 'from' timezone "${w}"`,pos:[r.dateRangeInText.from,r.dateRangeInText.to]})}if(T){const k=Ui(T,i.cache);k?r.toDateTime=r.toDateTime.setZone(k,{keepLocalTime:!0}):i.parseMessages.push({type:"error",message:`Unable to parse 'to' timezone "${T}"`,pos:[r.dateRangeInText.from,r.dateRangeInText.to]})}}else i.parseMessages.push({type:"error",message:`Unable to parse timezone "${m[1]}"`,pos:[r.dateRangeInText.from,r.dateRangeInText.to]});const p={from:s[n],to:s[u],type:Ne.Event},g=new SD(t,o,l,r,p,r.dateRangeInText,y,r.originalString);if(g){const w=i.push(g);XI(g,w,r,i),u-n>1&&p.to-s[n+1]>0&&(i.foldables[s[n]]={startIndex:s[n+1]-1,endIndex:p.to-1,type:"event",foldStartIndex:s[n+1]-1,startLine:n})}return u-1}class eM{constructor(e,n,s){if(this.parseMessages=[],this.documentMessages=[],this.events=new Uh,this.ids={},this.paletteIndex=0,this.earliest=void 0,this.latest=void 0,this.maxDuration=void 0,this.currentPath=[],this.foldables={},this.foldableSections=[],this.ranges=[],this.header={dateFormat:To},this.cache=n,typeof e=="string"){const i=H.fromISO(e);i.isValid?this.now=i:this.now=H.now()}else e?this.now=e:this.now=H.now();s&&(this.priorEvent=()=>s(this))}get zonedNow(){return this.now.setZone(this.timezone)}get timezone(){return this.parentZone()}currentFoldableSection(){return this.foldableSections[this.foldableSections.length-1]}currentFoldableComment(){return this.foldables.comment}startFoldableSection(e){this.foldableSections.push(e)}startFoldable(e){this.foldables[e.type]=e}finishFoldableSection(e,n){const s=this.foldableSections.pop();s&&s.startLine<e-1&&(this.foldables[s.startIndex]={...s,endIndex:n})}finishFoldableComment(e){const n=this.currentFoldableComment();n&&(n.startLine<e-1&&(this.foldables[n.startIndex]={...n}),delete this.foldables.comment)}push(e){const{path:n,tail:s}=yv(e,this.events,this.currentPath.slice(0,-1),this.tail);return s&&(this.head||(this.head=s),this.tail=s),this.currentPath=n,n}endCurrentGroup(e,n){this.currentPath.pop();const s=ua(this.events,this.currentPath);s.textRanges.whole={...s.textRanges.whole,to:e},this.finishFoldableSection(n.line,e)}toTimeline(){return this.maxDuration&&this.maxDuration/1e3/60/60/24,{events:this.events,ids:this.ids,ranges:this.ranges.sort(({from:e},{from:n})=>e-n),foldables:this.foldables,header:this.header,parseMessages:this.parseMessages.sort(({pos:e,message:n},{pos:s,message:i})=>e[0]-s[0]),documentMessages:this.documentMessages}}priorEvent(){return this.tail}parentZone(){const e=[...this.currentPath];for(e.pop();e.length;){const n=ua(this.events,e),s=tM((n==null?void 0:n.properties)??[],this.cache);if(s)return s;e.pop()}return Ui(this.header.timezone??this.header.tz,this.cache)??ja.instance}priorEventToDateTime(){const e=this.priorEvent();if(e)return Kt(e.dateRangeIso).toDateTime}priorEventFromDateTime(){const e=this.priorEvent();if(e)return Kt(e.dateRangeIso).fromDateTime}getById(e){const n=this.ids[e];if(n)return ua(this.events,n)}}function tM(t,e){if(Array.isArray(t)){const n=t.find(([s,i])=>(s==="tz"||s==="timezone")&&(typeof i=="string"||typeof i=="number"));if(n)return Ui(n[1],e)}else{const n=(t==null?void 0:t.timezone)??(t==null?void 0:t.tz);if(n)return Ui(n,e)}}function nM(t,e,n,s){return s.currentPath.length>1&&t.match(mv)?(s.ranges.push({from:n[e],to:n[e]+t.length,type:Ne.Section}),s.endCurrentGroup(n[e]+t.length,{line:e,index:t.length}),!0):!1}function sM(t,e,n,s){return[Bc,Av,nM].some(i=>i(t,e,n,s))}class eu{constructor(e){U(this,"icaltype","binary");this.value=e}static fromString(e){return new eu(e)}decodeValue(){return this._b64_decode(this.value)}setEncodedValue(e){this.value=this._b64_encode(e)}_b64_encode(e){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s,i,r,o,a,l,c,u,f=0,h=0,d="",y=[];if(!e)return e;do s=e.charCodeAt(f++),i=e.charCodeAt(f++),r=e.charCodeAt(f++),u=s<<16|i<<8|r,o=u>>18&63,a=u>>12&63,l=u>>6&63,c=u&63,y[h++]=n.charAt(o)+n.charAt(a)+n.charAt(l)+n.charAt(c);while(f<e.length);d=y.join("");let m=e.length%3;return(m?d.slice(0,m-3):d)+"===".slice(m||3)}_b64_decode(e){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s,i,r,o,a,l,c,u,f=0,h=0,d="",y=[];if(!e)return e;e+="";do o=n.indexOf(e.charAt(f++)),a=n.indexOf(e.charAt(f++)),l=n.indexOf(e.charAt(f++)),c=n.indexOf(e.charAt(f++)),u=o<<18|a<<12|l<<6|c,s=u>>16&255,i=u>>8&255,r=u&255,l==64?y[h++]=String.fromCharCode(s):c==64?y[h++]=String.fromCharCode(s,i):y[h++]=String.fromCharCode(s,i,r);while(f<e.length);return d=y.join(""),d}toString(){return this.value}}const iM=/([PDWHMTS]{1,1})/,rM=["weeks","days","hours","minutes","seconds","isNegative"];class mn{constructor(e){U(this,"weeks",0);U(this,"days",0);U(this,"hours",0);U(this,"minutes",0);U(this,"seconds",0);U(this,"isNegative",!1);U(this,"icalclass","icalduration");U(this,"icaltype","duration");this.wrappedJSObject=this,this.fromData(e)}static fromSeconds(e){return new mn().fromSeconds(e)}static isValueString(e){return e[0]==="P"||e[1]==="P"}static fromString(e){let n=0,s=Object.create(null),i=0;for(;(n=e.search(iM))!==-1;){let r=e[n],o=e.slice(0,Math.max(0,n));e=e.slice(n+1),i+=oM(r,o,s)}if(i<2)throw new Error('invalid duration value: Not enough duration components in "'+e+'"');return new mn(s)}static fromData(e){return new mn(e)}clone(){return mn.fromData(this)}toSeconds(){let e=this.seconds+60*this.minutes+3600*this.hours+86400*this.days+604800*this.weeks;return this.isNegative?-e:e}fromSeconds(e){let n=Math.abs(e);return this.isNegative=e<0,this.days=Bt(n/86400),this.days%7==0?(this.weeks=this.days/7,this.days=0):this.weeks=0,n-=(this.days+7*this.weeks)*86400,this.hours=Bt(n/3600),n-=this.hours*3600,this.minutes=Bt(n/60),n-=this.minutes*60,this.seconds=n,this}fromData(e){for(let n of rM)e&&n in e?this[n]=e[n]:this[n]=0}reset(){this.isNegative=!1,this.weeks=0,this.days=0,this.hours=0,this.minutes=0,this.seconds=0}compare(e){let n=this.toSeconds(),s=e.toSeconds();return(n>s)-(n<s)}normalize(){this.fromSeconds(this.toSeconds())}toString(){if(this.toSeconds()==0)return"PT0S";{let e="";return this.isNegative&&(e+="-"),e+="P",this.weeks&&(e+=this.weeks+"W"),this.days&&(e+=this.days+"D"),(this.hours||this.minutes||this.seconds)&&(e+="T",this.hours&&(e+=this.hours+"H"),this.minutes&&(e+=this.minutes+"M"),this.seconds&&(e+=this.seconds+"S")),e}}toICALString(){return this.toString()}}function oM(t,e,n){let s;switch(t){case"P":e&&e==="-"?n.isNegative=!0:n.isNegative=!1;break;case"D":s="days";break;case"W":s="weeks";break;case"H":s="hours";break;case"M":s="minutes";break;case"S":s="seconds";break;default:return 0}if(s){if(!e&&e!==0)throw new Error('invalid duration value: Missing number before "'+t+'"');let i=parseInt(e,10);if(Aa(i))throw new Error('invalid duration value: Invalid number "'+e+'" before "'+t+'"');n[s]=i}return 1}var go;const fe=class fe{constructor(e,n){U(this,"icalclass","icaltime");U(this,"_cachedUnixTime",null);U(this,"zone",null);U(this,"_pendingNormalization",!1);this.wrappedJSObject=this;let s=this._time=Object.create(null);s.year=0,s.month=1,s.day=1,s.hour=0,s.minute=0,s.second=0,s.isDate=!1,this.fromData(e,n)}static daysInMonth(e,n){let s=[0,31,28,31,30,31,30,31,31,30,31,30,31],i=30;return e<1||e>12||(i=s[e],e==2&&(i+=fe.isLeapYear(n))),i}static isLeapYear(e){return e<=1752?e%4==0:e%4==0&&e%100!=0||e%400==0}static fromDayOfYear(e,n){let s=n,i=e,r=new fe;r.auto_normalize=!1;let o=fe.isLeapYear(s)?1:0;if(i<1)return s--,o=fe.isLeapYear(s)?1:0,i+=fe.daysInYearPassedMonth[o][12],fe.fromDayOfYear(i,s);if(i>fe.daysInYearPassedMonth[o][12])return o=fe.isLeapYear(s)?1:0,i-=fe.daysInYearPassedMonth[o][12],s++,fe.fromDayOfYear(i,s);r.year=s,r.isDate=!0;for(let a=11;a>=0;a--)if(i>fe.daysInYearPassedMonth[o][a]){r.month=a+1,r.day=i-fe.daysInYearPassedMonth[o][a];break}return r.auto_normalize=!0,r}static fromStringv2(e){return new fe({year:parseInt(e.slice(0,4),10),month:parseInt(e.slice(5,7),10),day:parseInt(e.slice(8,10),10),isDate:!0})}static fromDateString(e){return new fe({year:rn(e.slice(0,4)),month:rn(e.slice(5,7)),day:rn(e.slice(8,10)),isDate:!0})}static fromDateTimeString(e,n){if(e.length<19)throw new Error('invalid date-time value: "'+e+'"');let s,i;e[19]&&e[19]==="Z"?s=Qe.utcTimezone:n&&(i=n.getParameter("tzid"),n.parent&&(n.parent.name==="standard"||n.parent.name==="daylight"?s=Qe.localTimezone:i&&(s=n.parent.getTimeZoneByID(i))));const r={year:rn(e.slice(0,4)),month:rn(e.slice(5,7)),day:rn(e.slice(8,10)),hour:rn(e.slice(11,13)),minute:rn(e.slice(14,16)),second:rn(e.slice(17,19))};return i&&!s&&(r.timezone=i),new fe(r,s)}static fromString(e,n){return e.length>10?fe.fromDateTimeString(e,n):fe.fromDateString(e)}static fromJSDate(e,n){return new fe().fromJSDate(e,n)}static now(){return fe.fromJSDate(new Date,!1)}static weekOneStarts(e,n){let s=fe.fromData({year:e,month:1,day:1,isDate:!0}),i=s.dayOfWeek(),r=n||fe.DEFAULT_WEEK_START;return i>fe.THURSDAY&&(s.day+=7),r>fe.THURSDAY&&(s.day-=7),s.day-=i-r,s}static getDominicalLetter(e){let n="GFEDCBA",s=(e+(e/4|0)+(e/400|0)-(e/100|0)-1)%7;return fe.isLeapYear(e)?n[(s+6)%7]+n[s]:n[s]}static get epochTime(){return E(this,go)||we(this,go,fe.fromData({year:1970,month:1,day:1,hour:0,minute:0,second:0,isDate:!1,timezone:"Z"})),E(this,go)}static _cmp_attr(e,n,s){return e[s]>n[s]?1:e[s]<n[s]?-1:0}get icaltype(){return this.isDate?"date":"date-time"}clone(){return new fe(this._time,this.zone)}reset(){this.fromData(fe.epochTime),this.zone=Qe.utcTimezone}resetTo(e,n,s,i,r,o,a){this.fromData({year:e,month:n,day:s,hour:i,minute:r,second:o,zone:a})}fromJSDate(e,n){return e?n?(this.zone=Qe.utcTimezone,this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()):(this.zone=Qe.localTimezone,this.year=e.getFullYear(),this.month=e.getMonth()+1,this.day=e.getDate(),this.hour=e.getHours(),this.minute=e.getMinutes(),this.second=e.getSeconds()):this.reset(),this._cachedUnixTime=null,this}fromData(e,n){if(e)for(let[s,i]of Object.entries(e))s!=="icaltype"&&(this[s]=i);if(n&&(this.zone=n),e&&!("isDate"in e)?this.isDate=!("hour"in e):e&&"isDate"in e&&(this.isDate=e.isDate),e&&"timezone"in e){let s=mc.get(e.timezone);this.zone=s||Qe.localTimezone}return e&&"zone"in e&&(this.zone=e.zone),this.zone||(this.zone=Qe.localTimezone),this._cachedUnixTime=null,this}dayOfWeek(e){let n=e||fe.SUNDAY,s=(this.year<<12)+(this.month<<8)+(this.day<<3)+n;if(s in fe._dowCache)return fe._dowCache[s];let i=this.day,r=this.month+(this.month<3?12:0),o=this.year-(this.month<3?1:0),a=i+o+Bt((r+1)*26/10)+Bt(o/4);return a+=Bt(o/100)*6+Bt(o/400),a=(a+7-n)%7+1,fe._dowCache[s]=a,a}dayOfYear(){let e=fe.isLeapYear(this.year)?1:0;return fe.daysInYearPassedMonth[e][this.month-1]+this.day}startOfWeek(e){let n=e||fe.SUNDAY,s=this.clone();return s.day-=(this.dayOfWeek()+7-n)%7,s.isDate=!0,s.hour=0,s.minute=0,s.second=0,s}endOfWeek(e){let n=e||fe.SUNDAY,s=this.clone();return s.day+=(7-this.dayOfWeek()+n-fe.SUNDAY)%7,s.isDate=!0,s.hour=0,s.minute=0,s.second=0,s}startOfMonth(){let e=this.clone();return e.day=1,e.isDate=!0,e.hour=0,e.minute=0,e.second=0,e}endOfMonth(){let e=this.clone();return e.day=fe.daysInMonth(e.month,e.year),e.isDate=!0,e.hour=0,e.minute=0,e.second=0,e}startOfYear(){let e=this.clone();return e.day=1,e.month=1,e.isDate=!0,e.hour=0,e.minute=0,e.second=0,e}endOfYear(){let e=this.clone();return e.day=31,e.month=12,e.isDate=!0,e.hour=0,e.minute=0,e.second=0,e}startDoyWeek(e){let n=e||fe.SUNDAY,s=this.dayOfWeek()-n;return s<0&&(s+=7),this.dayOfYear()-s}getDominicalLetter(){return fe.getDominicalLetter(this.year)}nthWeekDay(e,n){let s=fe.daysInMonth(this.month,this.year),i,r=n,o=0,a=this.clone();if(r>=0){a.day=1,r!=0&&r--,o=a.day;let l=a.dayOfWeek(),c=e-l;c<0&&(c+=7),o+=c,o-=e,i=e}else{a.day=s;let l=a.dayOfWeek();r++,i=l-e,i<0&&(i+=7),i=s-i}return i+=r*7,o+i}isNthWeekDay(e,n){let s=this.dayOfWeek();return n===0&&s===e||this.nthWeekDay(e,n)===this.day}weekNumber(e){let n=(this.year<<12)+(this.month<<8)+(this.day<<3)+e;if(n in fe._wnCache)return fe._wnCache[n];let s,i=this.clone();i.isDate=!0;let r=this.year;i.month==12&&i.day>25?(s=fe.weekOneStarts(r+1,e),i.compare(s)<0?s=fe.weekOneStarts(r,e):r++):(s=fe.weekOneStarts(r,e),i.compare(s)<0&&(s=fe.weekOneStarts(--r,e)));let o=i.subtractDate(s).toSeconds()/86400,a=Bt(o/7)+1;return fe._wnCache[n]=a,a}addDuration(e){let n=e.isNegative?-1:1,s=this.second,i=this.minute,r=this.hour,o=this.day;s+=n*e.seconds,i+=n*e.minutes,r+=n*e.hours,o+=n*e.days,o+=n*7*e.weeks,this.second=s,this.minute=i,this.hour=r,this.day=o,this._cachedUnixTime=null}subtractDate(e){let n=this.toUnixTime()+this.utcOffset(),s=e.toUnixTime()+e.utcOffset();return mn.fromSeconds(n-s)}subtractDateTz(e){let n=this.toUnixTime(),s=e.toUnixTime();return mn.fromSeconds(n-s)}compare(e){let n=this.toUnixTime(),s=e.toUnixTime();return n>s?1:s>n?-1:0}compareDateOnlyTz(e,n){let s=this.convertToZone(n),i=e.convertToZone(n),r=0;return(r=fe._cmp_attr(s,i,"year"))!=0||(r=fe._cmp_attr(s,i,"month"))!=0||(r=fe._cmp_attr(s,i,"day"))!=0,r}convertToZone(e){let n=this.clone(),s=this.zone.tzid==e.tzid;return!this.isDate&&!s&&Qe.convert_time(n,this.zone,e),n.zone=e,n}utcOffset(){return this.zone==Qe.localTimezone||this.zone==Qe.utcTimezone?0:this.zone.utcOffset(this)}toICALString(){let e=this.toString();return e.length>10?Gt.icalendar.value["date-time"].toICAL(e):Gt.icalendar.value.date.toICAL(e)}toString(){let e=this.year+"-"+Ln(this.month)+"-"+Ln(this.day);return this.isDate||(e+="T"+Ln(this.hour)+":"+Ln(this.minute)+":"+Ln(this.second),this.zone===Qe.utcTimezone&&(e+="Z")),e}toJSDate(){return this.zone==Qe.localTimezone?this.isDate?new Date(this.year,this.month-1,this.day):new Date(this.year,this.month-1,this.day,this.hour,this.minute,this.second,0):new Date(this.toUnixTime()*1e3)}_normalize(){return this._time.isDate&&(this._time.hour=0,this._time.minute=0,this._time.second=0),this.adjust(0,0,0,0),this}adjust(e,n,s,i,r){let o,a,l=0,c=0,u,f,h,d,y,m=r||this._time;if(m.isDate||(u=m.second+i,m.second=u%60,o=Bt(u/60),m.second<0&&(m.second+=60,o--),f=m.minute+s+o,m.minute=f%60,a=Bt(f/60),m.minute<0&&(m.minute+=60,a--),h=m.hour+n+a,m.hour=h%24,l=Bt(h/24),m.hour<0&&(m.hour+=24,l--)),m.month>12?c=Bt((m.month-1)/12):m.month<1&&(c=Bt(m.month/12)-1),m.year+=c,m.month-=12*c,d=m.day+e+l,d>0)for(;y=fe.daysInMonth(m.month,m.year),!(d<=y);)m.month++,m.month>12&&(m.year++,m.month=1),d-=y;else for(;d<=0;)m.month==1?(m.year--,m.month=12):m.month--,d+=fe.daysInMonth(m.month,m.year);return m.day=d,this._cachedUnixTime=null,this}fromUnixTime(e){this.zone=Qe.utcTimezone;let n=new Date(e*1e3);this.year=n.getUTCFullYear(),this.month=n.getUTCMonth()+1,this.day=n.getUTCDate(),this._time.isDate?(this.hour=0,this.minute=0,this.second=0):(this.hour=n.getUTCHours(),this.minute=n.getUTCMinutes(),this.second=n.getUTCSeconds()),this._cachedUnixTime=null}toUnixTime(){if(this._cachedUnixTime!==null)return this._cachedUnixTime;let e=this.utcOffset(),n=Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second-e);return this._cachedUnixTime=n/1e3,this._cachedUnixTime}toJSON(){let e=["year","month","day","hour","minute","second","isDate"],n=Object.create(null),s=0,i=e.length,r;for(;s<i;s++)r=e[s],n[r]=this[r];return this.zone&&(n.timezone=this.zone.tzid),n}};go=new WeakMap,U(fe,"_dowCache",{}),U(fe,"_wnCache",{}),U(fe,"fromData",function(n,s){return new fe().fromData(n,s)}),Pe(fe,go,null),U(fe,"daysInYearPassedMonth",[[0,31,59,90,120,151,181,212,243,273,304,334,365],[0,31,60,91,121,152,182,213,244,274,305,335,366]]),U(fe,"SUNDAY",1),U(fe,"MONDAY",2),U(fe,"TUESDAY",3),U(fe,"WEDNESDAY",4),U(fe,"THURSDAY",5),U(fe,"FRIDAY",6),U(fe,"SATURDAY",7),U(fe,"DEFAULT_WEEK_START",2);let ge=fe;(function(){function e(n){Object.defineProperty(ge.prototype,n,{get:function(){return this._pendingNormalization&&(this._normalize(),this._pendingNormalization=!1),this._time[n]},set:function(i){n==="isDate"&&i&&!this._time.isDate&&this.adjust(0,0,0,0),this._cachedUnixTime=null,this._pendingNormalization=!0,this._time[n]=i}})}e("year"),e("month"),e("day"),e("hour"),e("minute"),e("second"),e("isDate")})();const aM=/[^ \t]/,dc=":",qf=";",lM="=",cM="unknown",uM="text",fM={"^'":'"',"^n":`
`,"^^":"^"};function Ze(t){let e={},n=e.component=[];if(e.stack=[n],Ze._eachLine(t,function(s,i){Ze._handleContentLine(i,e)}),e.stack.length>1)throw new br("invalid ical body. component began but did not end");return e=null,n.length==1?n[0]:n}Ze.property=function(t,e){let n={component:[[],[]],designSet:e||Gt.defaultSet};return Ze._handleContentLine(t,n),n.component[1][0]};Ze.component=function(t){return Ze(t)};class br extends Error{constructor(){super(...arguments);U(this,"name",this.constructor.name)}}Ze.ParserError=br;Ze._handleContentLine=function(t,e){let n=t.indexOf(dc),s=t.indexOf(qf),i,r,o,a,l={};s!==-1&&n!==-1&&s>n&&(s=-1);let c;if(s!==-1){if(o=t.slice(0,Math.max(0,s)).toLowerCase(),c=Ze._parseParameters(t.slice(Math.max(0,s)),0,e.designSet),c[2]==-1)throw new br("Invalid parameters in '"+t+"'");if(l=c[0],i=c[1].length+c[2]+s,(r=t.slice(Math.max(0,i)).indexOf(dc))!==-1)a=t.slice(Math.max(0,i+r+1));else throw new br("Missing parameter value in '"+t+"'")}else if(n!==-1){if(o=t.slice(0,Math.max(0,n)).toLowerCase(),a=t.slice(Math.max(0,n+1)),o==="begin"){let g=[a.toLowerCase(),[],[]];e.stack.length===1?e.component.push(g):e.component[2].push(g),e.stack.push(e.component),e.component=g,e.designSet||(e.designSet=Gt.getDesignSet(e.component[0]));return}else if(o==="end"){e.component=e.stack.pop();return}}else throw new br('invalid line (no token ";" or ":") "'+t+'"');let u,f=!1,h=!1,d,y,m;e.designSet.propertyGroups&&o.indexOf(".")!==-1?(y=o.split("."),l.group=y[0],m=y[1]):m=o,m in e.designSet.property&&(d=e.designSet.property[m],"multiValue"in d&&(f=d.multiValue),"structuredValue"in d&&(h=d.structuredValue),a&&"detectType"in d&&(u=d.detectType(a))),u||("value"in l?u=l.value.toLowerCase():d?u=d.defaultType:u=cM),delete l.value;let p;f&&h?(a=Ze._parseMultiValue(a,h,u,[],f,e.designSet,h),p=[m,l,u,a]):f?(p=[m,l,u],Ze._parseMultiValue(a,f,u,p,null,e.designSet,!1)):h?(a=Ze._parseMultiValue(a,h,u,[],null,e.designSet,h),p=[m,l,u,a]):(a=Ze._parseValue(a,u,e.designSet,!1),p=[m,l,u,a]),e.component[0]==="vcard"&&e.component[1].length===0&&!(o==="version"&&a==="4.0")&&(e.designSet=Gt.getDesignSet("vcard3")),e.component[1].push(p)};Ze._parseValue=function(t,e,n,s){return e in n.value&&"fromICAL"in n.value[e]?n.value[e].fromICAL(t,s):t};Ze._parseParameters=function(t,e,n){let s=e,i=0,r=lM,o={},a,l,c,u=-1,f,h,d;for(;i!==!1&&(i=t.indexOf(r,i+1))!==-1;){if(a=t.slice(s+1,i),a.length==0)throw new br("Empty parameter name in '"+t+"'");if(l=a.toLowerCase(),d=!1,h=!1,l in n.param&&n.param[l].valueType?f=n.param[l].valueType:f=uM,l in n.param&&(h=n.param[l].multiValue,n.param[l].multiValueSeparateDQuote&&(d=Ze._rfc6868Escape('"'+h+'"'))),t[i+1]==='"'){if(u=i+2,i=t.indexOf('"',u),h&&i!=-1){let g=!0;for(;g;)t[i+1]==h&&t[i+2]=='"'?i=t.indexOf('"',i+3):g=!1}if(i===-1)throw new br('invalid line (no matching double quote) "'+t+'"');c=t.slice(u,i),s=t.indexOf(qf,i);let p=t.indexOf(dc,i);(s===-1||p!==-1&&s>p)&&(i=!1)}else{u=i+1;let p=t.indexOf(qf,u),g=t.indexOf(dc,u);g!==-1&&p>g?(p=g,i=!1):p===-1?(g===-1?p=t.length:p=g,i=!1):(s=p,i=p),c=t.slice(u,p)}const m=c.length;if(c=Ze._rfc6868Escape(c),u+=m-c.length,h){let p=d||h;c=Ze._parseMultiValue(c,p,f,[],null,n)}else c=Ze._parseValue(c,f,n);h&&l in o?Array.isArray(o[l])?o[l].push(c):o[l]=[o[l],c]:o[l]=c}return[o,c,u]};Ze._rfc6868Escape=function(t){return t.replace(/\^['n^]/g,function(e){return fM[e]})};Ze._parseMultiValue=function(t,e,n,s,i,r,o){let a=0,l=0,c;if(e.length===0)return t;for(;(a=bw(t,e,l))!==-1;)c=t.slice(l,a),i?c=Ze._parseMultiValue(c,i,n,[],null,r,o):c=Ze._parseValue(c,n,r,o),s.push(c),l=a+e.length;return c=t.slice(l),i?c=Ze._parseMultiValue(c,i,n,[],null,r,o):c=Ze._parseValue(c,n,r,o),s.push(c),s.length==1?s[0]:s};Ze._eachLine=function(t,e){let n=t.length,s=t.search(aM),i=s,r,o,a;do i=t.indexOf(`
`,s)+1,i>1&&t[i-2]==="\r"?a=2:a=1,i===0&&(i=n,a=0),o=t[s],o===" "||o==="	"?r+=t.slice(s+1,i-a):(r&&e(null,r),r=t.slice(s,i-a)),s=i;while(i!==n);r=r.trim(),r.length&&e(null,r)};const hM=["tzid","location","tznames","latitude","longitude"];var vo,wo;const ze=class ze{constructor(e){U(this,"tzid","");U(this,"location","");U(this,"tznames","");U(this,"latitude",0);U(this,"longitude",0);U(this,"component",null);U(this,"expandedUntilYear",0);U(this,"icalclass","icaltimezone");this.wrappedJSObject=this,this.fromData(e)}static _compare_change_fn(e,n){return e.year<n.year?-1:e.year>n.year?1:e.month<n.month?-1:e.month>n.month?1:e.day<n.day?-1:e.day>n.day?1:e.hour<n.hour?-1:e.hour>n.hour?1:e.minute<n.minute?-1:e.minute>n.minute?1:e.second<n.second?-1:e.second>n.second?1:0}static convert_time(e,n,s){if(e.isDate||n.tzid==s.tzid||n==ze.localTimezone||s==ze.localTimezone)return e.zone=s,e;let i=n.utcOffset(e);return e.adjust(0,0,0,-i),i=s.utcOffset(e),e.adjust(0,0,0,i),null}static fromData(e){return new ze().fromData(e)}static get utcTimezone(){return E(this,vo)||we(this,vo,ze.fromData({tzid:"UTC"})),E(this,vo)}static get localTimezone(){return E(this,wo)||we(this,wo,ze.fromData({tzid:"floating"})),E(this,wo)}static adjust_change(e,n,s,i,r){return ge.prototype.adjust.call(e,n,s,i,r,e)}fromData(e){if(this.expandedUntilYear=0,this.changes=[],e instanceof Wn)this.component=e;else{if(e&&"component"in e)if(typeof e.component=="string"){let n=Ze(e.component);this.component=new Wn(n)}else e.component instanceof Wn?this.component=e.component:this.component=null;for(let n of hM)e&&n in e&&(this[n]=e[n])}return this.component instanceof Wn&&!this.tzid&&(this.tzid=this.component.getFirstPropertyValue("tzid")),this}utcOffset(e){if(this==ze.utcTimezone||this==ze.localTimezone||(this._ensureCoverage(e.year),!this.changes.length))return 0;let n={year:e.year,month:e.month,day:e.day,hour:e.hour,minute:e.minute,second:e.second},s=this._findNearbyChange(n),i=-1,r=1;for(;;){let l=Dr(this.changes[s],!0);if(l.utcOffset<l.prevUtcOffset?ze.adjust_change(l,0,0,0,l.utcOffset):ze.adjust_change(l,0,0,0,l.prevUtcOffset),ze._compare_change_fn(n,l)>=0?i=s:r=-1,r==-1&&i!=-1)break;if(s+=r,s<0)return 0;if(s>=this.changes.length)break}let o=this.changes[i];if(o.utcOffset-o.prevUtcOffset<0&&i>0){let l=Dr(o,!0);if(ze.adjust_change(l,0,0,0,l.prevUtcOffset),ze._compare_change_fn(n,l)<0){let c=this.changes[i-1],u=!1;o.is_daylight!=u&&c.is_daylight==u&&(o=c)}}return o.utcOffset}_findNearbyChange(e){let n=Tr(this.changes,e,ze._compare_change_fn);return n>=this.changes.length?this.changes.length-1:n}_ensureCoverage(e){if(ze._minimumExpansionYear==-1){let s=ge.now();ze._minimumExpansionYear=s.year}let n=e;if(n<ze._minimumExpansionYear&&(n=ze._minimumExpansionYear),n+=ze.EXTRA_COVERAGE,!this.changes.length||this.expandedUntilYear<e){let s=this.component.getAllSubcomponents(),i=s.length,r=0;for(;r<i;r++)this._expandComponent(s[r],n,this.changes);this.changes.sort(ze._compare_change_fn),this.expandedUntilYear=n}}_expandComponent(e,n,s){if(!e.hasProperty("dtstart")||!e.hasProperty("tzoffsetto")||!e.hasProperty("tzoffsetfrom"))return null;let i=e.getFirstProperty("dtstart").getFirstValue(),r;function o(l){return l.factor*(l.hours*3600+l.minutes*60)}function a(){let l={};return l.is_daylight=e.name=="daylight",l.utcOffset=o(e.getFirstProperty("tzoffsetto").getFirstValue()),l.prevUtcOffset=o(e.getFirstProperty("tzoffsetfrom").getFirstValue()),l}if(!e.hasProperty("rrule")&&!e.hasProperty("rdate"))r=a(),r.year=i.year,r.month=i.month,r.day=i.day,r.hour=i.hour,r.minute=i.minute,r.second=i.second,ze.adjust_change(r,0,0,0,-r.prevUtcOffset),s.push(r);else{let l=e.getAllProperties("rdate");for(let u of l){let f=u.getFirstValue();r=a(),r.year=f.year,r.month=f.month,r.day=f.day,f.isDate?(r.hour=i.hour,r.minute=i.minute,r.second=i.second,i.zone!=ze.utcTimezone&&ze.adjust_change(r,0,0,0,-r.prevUtcOffset)):(r.hour=f.hour,r.minute=f.minute,r.second=f.second,f.zone!=ze.utcTimezone&&ze.adjust_change(r,0,0,0,-r.prevUtcOffset)),s.push(r)}let c=e.getFirstProperty("rrule");if(c){c=c.getFirstValue(),r=a(),c.until&&c.until.zone==ze.utcTimezone&&(c.until.adjust(0,0,0,r.prevUtcOffset),c.until.zone=ze.localTimezone);let u=c.iterator(i),f;for(;(f=u.next())&&(r=a(),!(f.year>n||!f));)r.year=f.year,r.month=f.month,r.day=f.day,r.hour=f.hour,r.minute=f.minute,r.second=f.second,r.isDate=f.isDate,ze.adjust_change(r,0,0,0,-r.prevUtcOffset),s.push(r)}}return s}toString(){return this.tznames?this.tznames:this.tzid}};vo=new WeakMap,wo=new WeakMap,Pe(ze,vo,null),Pe(ze,wo,null),U(ze,"_minimumExpansionYear",-1),U(ze,"EXTRA_COVERAGE",5);let Qe=ze,wn=null;const mc={get count(){return wn===null?0:Object.keys(wn).length},reset:function(){wn=Object.create(null);let t=Qe.utcTimezone;wn.Z=t,wn.UTC=t,wn.GMT=t},_hard_reset:function(){wn=null},has:function(t){return wn===null?!1:!!wn[t]},get:function(t){return wn===null&&this.reset(),wn[t]},register:function(t,e){if(wn===null&&this.reset(),typeof t=="string"&&e instanceof Qe&&([t,e]=[e,t]),e||(t instanceof Qe?e=t.tzid:t.name==="vtimezone"&&(t=new Qe(t),e=t.tzid)),!e)throw new TypeError("Neither a timezone nor a name was passed");if(t instanceof Qe)wn[e]=t;else throw new TypeError("timezone must be ICAL.Timezone or ICAL.Component")},remove:function(t){return wn===null?null:delete wn[t]}};function dM(t){let e,n,s,i,r;if(!t||t.name!=="vcalendar")return t;for(e=t.getAllSubcomponents(),n=[],s={},r=0;r<e.length;r++)if(e[r].name==="vtimezone"){let o=e[r].getFirstProperty("tzid").getFirstValue();s[o]=e[r]}else n=n.concat(e[r].getAllProperties());for(i={},r=0;r<n.length;r++){let o=n[r].getParameter("tzid");o&&(i[o]=!0)}for(let[o,a]of Object.entries(s))i[o]||t.removeSubcomponent(a);for(let o of Object.keys(i))!s[o]&&mc.has(o)&&t.addSubcomponent(mc.get(o).component);return t}function Aa(t){return typeof t=="number"&&isNaN(t)}function rn(t){let e=parseInt(t,10);if(Aa(e))throw new Error('Could not extract integer from "'+t+'"');return e}function Qs(t,e){if(!(typeof t>"u"))return t instanceof e?t:new e(t)}function bw(t,e,n){for(;(n=t.indexOf(e,n))!==-1;)if(n>0&&t[n-1]==="\\")n+=1;else return n;return-1}function Tr(t,e,n){if(!t.length)return 0;let s=0,i=t.length-1,r,o;for(;s<=i;)if(r=s+Math.floor((i-s)/2),o=n(e,t[r]),o<0)i=r-1;else if(o>0)s=r+1;else break;return o<0?r:o>0?r+1:r}function Dr(t,e){if(!t||typeof t!="object")return t;if(t instanceof Date)return new Date(t.getTime());if("clone"in t)return t.clone();if(Array.isArray(t)){let n=[];for(let s=0;s<t.length;s++)n.push(e?Dr(t[s],!0):t[s]);return n}else{let n={};for(let[s,i]of Object.entries(t))e?n[s]=Dr(i,!0):n[s]=i;return n}}function Tw(t){let e="",n=t||"",s=0,i=0;for(;n.length;){let r=n.codePointAt(s);r<128?++i:r<2048?i+=2:r<65536?i+=3:i+=4,i<Vu.foldLength+1?s+=r>65535?2:1:(e+=Vu.newLineChar+" "+n.slice(0,Math.max(0,s)),n=n.slice(Math.max(0,s)),s=i=0)}return e.slice(Vu.newLineChar.length+1)}function Ln(t){switch(typeof t!="string"&&(typeof t=="number"&&(t=parseInt(t)),t=String(t)),t.length){case 0:return"00";case 1:return"0"+t;default:return t}}function Bt(t){return t<0?Math.ceil(t):Math.floor(t)}function Nr(t,e){for(let n in t){let s=Object.getOwnPropertyDescriptor(t,n);s&&!Object.getOwnPropertyDescriptor(e,n)&&Object.defineProperty(e,n,s)}return e}var mM=Object.freeze({__proto__:null,updateTimezones:dM,isStrictlyNaN:Aa,strictParseInt:rn,formatClassType:Qs,unescapedIndexOf:bw,binsearchInsert:Tr,clone:Dr,foldline:Tw,pad2:Ln,trunc:Bt,extend:Nr});class Es{constructor(e){U(this,"hours",0);U(this,"minutes",0);U(this,"factor",1);U(this,"icaltype","utc-offset");this.fromData(e)}static fromString(e){let n={};return n.factor=e[0]==="+"?1:-1,n.hours=rn(e.slice(1,3)),n.minutes=rn(e.slice(4,6)),new Es(n)}static fromSeconds(e){let n=new Es;return n.fromSeconds(e),n}clone(){return Es.fromSeconds(this.toSeconds())}fromData(e){if(e)for(let[n,s]of Object.entries(e))this[n]=s;this._normalize()}fromSeconds(e){let n=Math.abs(e);return this.factor=e<0?-1:1,this.hours=Bt(n/3600),n-=this.hours*3600,this.minutes=Bt(n/60),this}toSeconds(){return this.factor*(60*this.minutes+3600*this.hours)}compare(e){let n=this.toSeconds(),s=e.toSeconds();return(n>s)-(s>n)}_normalize(){let e=this.toSeconds(),n=this.factor;for(;e<-43200;)e+=97200;for(;e>50400;)e-=97200;this.fromSeconds(e),e==0&&(this.factor=n)}toICALString(){return Gt.icalendar.value["utc-offset"].toICAL(this.toString())}toString(){return(this.factor==1?"+":"-")+Ln(this.hours)+":"+Ln(this.minutes)}}class $i extends ge{constructor(n,s,i){super(n,s);U(this,"icalclass","vcardtime");U(this,"icaltype","date-and-or-time");this.icaltype=i||"date-and-or-time"}static fromDateAndOrTimeString(n,s){function i(p,g,w){return p?rn(p.slice(g,g+w)):null}let r=n.split("T"),o=r[0],a=r[1],l=a?Gt.vcard.value.time._splitZone(a):[],c=l[0],u=l[1],f=o?o.length:0,h=u?u.length:0,d=o&&o[0]=="-"&&o[1]=="-",y=u&&u[0]=="-",m={year:d?null:i(o,0,4),month:d&&(f==4||f==7)?i(o,2,2):f==7||f==10?i(o,5,2):null,day:f==5?i(o,3,2):f==7&&d?i(o,5,2):f==10?i(o,8,2):null,hour:y?null:i(u,0,2),minute:y&&h==3?i(u,1,2):h>4?y?i(u,1,2):i(u,3,2):null,second:h==4?i(u,2,2):h==6?i(u,4,2):h==8?i(u,6,2):null};return c=="Z"?c=Qe.utcTimezone:c&&c[3]==":"?c=Es.fromString(c):c=null,new $i(m,c,s)}clone(){return new $i(this._time,this.zone,this.icaltype)}_normalize(){return this}utcOffset(){return this.zone instanceof Es?this.zone.toSeconds():ge.prototype.utcOffset.apply(this,arguments)}toICALString(){return Gt.vcard.value[this.icaltype].toICAL(this.toString())}toString(){let n=this.year,s=this.month,i=this.day,r=this.hour,o=this.minute,a=this.second,l=n!==null,c=s!==null,u=i!==null,f=r!==null,h=o!==null,d=a!==null,y=(l?Ln(n)+(c||u?"-":""):c||u?"--":"")+(c?Ln(s):"")+(u?"-"+Ln(i):""),m=(f?Ln(r):"-")+(f&&h?":":"")+(h?Ln(o):"")+(!f&&!h?"-":"")+(h&&d?":":"")+(d?Ln(a):""),p;switch(this.zone===Qe.utcTimezone?p="Z":this.zone instanceof Es?p=this.zone.toString():this.zone===Qe.localTimezone?p="":this.zone instanceof Qe?p=Es.fromSeconds(this.zone.utcOffset(this)).toString():p="",this.icaltype){case"time":return m+p;case"date-and-or-time":case"date-time":return y+(m=="--"?"":"T"+m+p);case"date":return y}return null}}const An=class An{constructor(e){U(this,"completed",!1);U(this,"rule",null);U(this,"dtstart",null);U(this,"last",null);U(this,"occurrence_number",0);U(this,"by_indices",null);U(this,"initialized",!1);U(this,"by_data",null);U(this,"days",null);U(this,"days_index",0);this.fromData(e)}fromData(e){if(this.rule=Qs(e.rule,hn),!this.rule)throw new Error("iterator requires a (ICAL.Recur) rule");if(this.dtstart=Qs(e.dtstart,ge),!this.dtstart)throw new Error("iterator requires a (ICAL.Time) dtstart");if(e.by_data?this.by_data=e.by_data:this.by_data=Dr(this.rule.parts,!0),e.occurrence_number&&(this.occurrence_number=e.occurrence_number),this.days=e.days||[],e.last&&(this.last=Qs(e.last,ge)),this.by_indices=e.by_indices,this.by_indices||(this.by_indices={BYSECOND:0,BYMINUTE:0,BYHOUR:0,BYDAY:0,BYMONTH:0,BYWEEKNO:0,BYMONTHDAY:0}),this.initialized=e.initialized||!1,!this.initialized)try{this.init()}catch(n){if(n instanceof Rp)this.completed=!0;else throw n}}init(){this.initialized=!0,this.last=this.dtstart.clone();let e=this.by_data;if("BYDAY"in e&&this.sort_byday_rules(e.BYDAY),"BYYEARDAY"in e&&("BYMONTH"in e||"BYWEEKNO"in e||"BYMONTHDAY"in e||"BYDAY"in e))throw new Error("Invalid BYYEARDAY rule");if("BYWEEKNO"in e&&"BYMONTHDAY"in e)throw new Error("BYWEEKNO does not fit to BYMONTHDAY");if(this.rule.freq=="MONTHLY"&&("BYYEARDAY"in e||"BYWEEKNO"in e))throw new Error("For MONTHLY recurrences neither BYYEARDAY nor BYWEEKNO may appear");if(this.rule.freq=="WEEKLY"&&("BYYEARDAY"in e||"BYMONTHDAY"in e))throw new Error("For WEEKLY recurrences neither BYMONTHDAY nor BYYEARDAY may appear");if(this.rule.freq!="YEARLY"&&"BYYEARDAY"in e)throw new Error("BYYEARDAY may only appear in YEARLY rules");if(this.last.second=this.setup_defaults("BYSECOND","SECONDLY",this.dtstart.second),this.last.minute=this.setup_defaults("BYMINUTE","MINUTELY",this.dtstart.minute),this.last.hour=this.setup_defaults("BYHOUR","HOURLY",this.dtstart.hour),this.last.day=this.setup_defaults("BYMONTHDAY","DAILY",this.dtstart.day),this.last.month=this.setup_defaults("BYMONTH","MONTHLY",this.dtstart.month),this.rule.freq=="WEEKLY")if("BYDAY"in e){let[,n]=this.ruleDayOfWeek(e.BYDAY[0],this.rule.wkst),s=n-this.last.dayOfWeek(this.rule.wkst);(this.last.dayOfWeek(this.rule.wkst)<n&&s>=0||s<0)&&(this.last.day+=s)}else{let n=hn.numericDayToIcalDay(this.dtstart.dayOfWeek());e.BYDAY=[n]}if(this.rule.freq=="YEARLY"){const n=this.rule.until?this.rule.until.year:2e4;for(;this.last.year<=n&&(this.expand_year_days(this.last.year),!(this.days.length>0));)this.increment_year(this.rule.interval);if(this.days.length==0)throw new Rp;this._nextByYearDay()}if(this.rule.freq=="MONTHLY"){if(this.has_by_data("BYDAY")){let n=null,s=this.last.clone(),i=ge.daysInMonth(this.last.month,this.last.year);for(let r of this.by_data.BYDAY){this.last=s.clone();let[o,a]=this.ruleDayOfWeek(r),l=this.last.nthWeekDay(a,o);if(o>=6||o<=-6)throw new Error("Malformed values in BYDAY part");if(l>i||l<=0){if(n&&n.month==s.month)continue;for(;l>i||l<=0;)this.increment_month(),i=ge.daysInMonth(this.last.month,this.last.year),l=this.last.nthWeekDay(a,o)}this.last.day=l,(!n||this.last.compare(n)<0)&&(n=this.last.clone())}if(this.last=n.clone(),this.has_by_data("BYMONTHDAY")&&this._byDayAndMonthDay(!0),this.last.day>i||this.last.day==0)throw new Error("Malformed values in BYDAY part")}else if(this.has_by_data("BYMONTHDAY")){this.last.day=1;let n=this.normalizeByMonthDayRules(this.last.year,this.last.month,this.rule.parts.BYMONTHDAY).filter(s=>s>=this.last.day);if(n.length)this.last.day=n[0],this.by_data.BYMONTHDAY=n;else if(!this.next_month()&&!this.next_month()&&!this.next_month())throw new Error("No possible occurrences")}}}next(e=!1){let n=this.last?this.last.clone():null;if((this.rule.count&&this.occurrence_number>=this.rule.count||this.rule.until&&this.last.compare(this.rule.until)>0)&&(this.completed=!0),this.completed)return null;if(this.occurrence_number==0&&this.last.compare(this.dtstart)>=0)return this.occurrence_number++,this.last;let s;do switch(s=1,this.rule.freq){case"SECONDLY":this.next_second();break;case"MINUTELY":this.next_minute();break;case"HOURLY":this.next_hour();break;case"DAILY":this.next_day();break;case"WEEKLY":this.next_week();break;case"MONTHLY":s=this.next_month();break;case"YEARLY":this.next_year();break;default:return null}while(!this.check_contracting_rules()||this.last.compare(this.dtstart)<0||!s);if(this.last.compare(n)==0){if(e)throw new Error("Same occurrence found twice, protecting you from death by recursion");this.next(!0)}return this.rule.until&&this.last.compare(this.rule.until)>0?(this.completed=!0,null):(this.occurrence_number++,this.last)}next_second(){return this.next_generic("BYSECOND","SECONDLY","second","minute")}increment_second(e){return this.increment_generic(e,"second",60,"minute")}next_minute(){return this.next_generic("BYMINUTE","MINUTELY","minute","hour","next_second")}increment_minute(e){return this.increment_generic(e,"minute",60,"hour")}next_hour(){return this.next_generic("BYHOUR","HOURLY","hour","monthday","next_minute")}increment_hour(e){this.increment_generic(e,"hour",24,"monthday")}next_day(){let e=this.rule.freq=="DAILY";return this.next_hour()==0||(e?this.increment_monthday(this.rule.interval):this.increment_monthday(1)),0}next_week(){let e=0;if(this.next_weekday_by_week()==0)return e;if(this.has_by_data("BYWEEKNO")){this.by_indices.BYWEEKNO++,this.by_indices.BYWEEKNO==this.by_data.BYWEEKNO.length&&(this.by_indices.BYWEEKNO=0,e=1),this.last.month=1,this.last.day=1;let n=this.by_data.BYWEEKNO[this.by_indices.BYWEEKNO];this.last.day+=7*n,e&&this.increment_year(1)}else this.increment_monthday(7*this.rule.interval);return e}normalizeByMonthDayRules(e,n,s){let i=ge.daysInMonth(n,e),r=[],o=0,a=s.length,l;for(;o<a;o++){if(l=parseInt(s[o],10),isNaN(l))throw new Error("Invalid BYMONTHDAY value");if(!(Math.abs(l)>i)){if(l<0)l=i+(l+1);else if(l===0)continue;r.indexOf(l)===-1&&r.push(l)}}return r.sort(function(c,u){return c-u})}_byDayAndMonthDay(e){let n,s=this.by_data.BYDAY,i,r=0,o,a=s.length,l=0,c,u=this,f=this.last.day;function h(){for(c=ge.daysInMonth(u.last.month,u.last.year),n=u.normalizeByMonthDayRules(u.last.year,u.last.month,u.by_data.BYMONTHDAY),o=n.length;n[r]<=f&&!(e&&n[r]==f)&&r<o-1;)r++}function d(){f=0,u.increment_month(),r=0,h()}h(),e&&(f-=1);let y=48;for(;!l&&y;){if(y--,i=f+1,i>c){d();continue}let m=n[r++];if(m>=i)f=m;else{d();continue}for(let p=0;p<a;p++){let g=this.ruleDayOfWeek(s[p]),w=g[0],T=g[1];if(this.last.day=f,this.last.isNthWeekDay(T,w)){l=1;break}}if(!l&&r===o){d();continue}}if(y<=0)throw new Error("Malformed values in BYDAY combined with BYMONTHDAY parts");return l}next_month(){let e=1;if(this.next_hour()==0)return e;if(this.has_by_data("BYDAY")&&this.has_by_data("BYMONTHDAY"))e=this._byDayAndMonthDay();else if(this.has_by_data("BYDAY")){let n=ge.daysInMonth(this.last.month,this.last.year),s=0,i=0;if(this.has_by_data("BYSETPOS")){let o=this.last.day;for(let a=1;a<=n;a++)this.last.day=a,this.is_day_in_byday(this.last)&&(i++,a<=o&&s++);this.last.day=o}e=0;let r;for(r=this.last.day+1;r<=n;r++)if(this.last.day=r,this.is_day_in_byday(this.last)&&(!this.has_by_data("BYSETPOS")||this.check_set_position(++s)||this.check_set_position(s-i-1))){e=1;break}r>n&&(this.last.day=1,this.increment_month(),this.is_day_in_byday(this.last)?(!this.has_by_data("BYSETPOS")||this.check_set_position(1))&&(e=1):e=0)}else if(this.has_by_data("BYMONTHDAY")){if(this.by_indices.BYMONTHDAY++,this.by_indices.BYMONTHDAY>=this.by_data.BYMONTHDAY.length&&(this.by_indices.BYMONTHDAY=0,this.increment_month(),this.by_indices.BYMONTHDAY>=this.by_data.BYMONTHDAY.length))return 0;let n=ge.daysInMonth(this.last.month,this.last.year),s=this.by_data.BYMONTHDAY[this.by_indices.BYMONTHDAY];s<0&&(s=n+s+1),s>n?(this.last.day=1,e=this.is_day_in_byday(this.last)):this.last.day=s}else{this.increment_month();let n=ge.daysInMonth(this.last.month,this.last.year);this.by_data.BYMONTHDAY[0]>n?e=0:this.last.day=this.by_data.BYMONTHDAY[0]}return e}next_weekday_by_week(){let e=0;if(this.next_hour()==0)return e;if(!this.has_by_data("BYDAY"))return 1;for(;;){let n=new ge;this.by_indices.BYDAY++,this.by_indices.BYDAY==Object.keys(this.by_data.BYDAY).length&&(this.by_indices.BYDAY=0,e=1);let s=this.by_data.BYDAY[this.by_indices.BYDAY],r=this.ruleDayOfWeek(s)[1];r-=this.rule.wkst,r<0&&(r+=7),n.year=this.last.year,n.month=this.last.month,n.day=this.last.day;let o=n.startDoyWeek(this.rule.wkst);if(r+o<1&&!e)continue;let a=ge.fromDayOfYear(o+r,this.last.year);return this.last.year=a.year,this.last.month=a.month,this.last.day=a.day,e}}next_year(){if(this.next_hour()==0)return 0;if(++this.days_index==this.days.length){this.days_index=0;do this.increment_year(this.rule.interval),this.has_by_data("BYMONTHDAY")&&(this.by_data.BYMONTHDAY=this.normalizeByMonthDayRules(this.last.year,this.last.month,this.rule.parts.BYMONTHDAY)),this.expand_year_days(this.last.year);while(this.days.length==0)}return this._nextByYearDay(),1}_nextByYearDay(){let e=this.days[this.days_index],n=this.last.year;e<1&&(e+=1,n+=1);let s=ge.fromDayOfYear(e,n);this.last.day=s.day,this.last.month=s.month}ruleDayOfWeek(e,n){let s=e.match(/([+-]?[0-9])?(MO|TU|WE|TH|FR|SA|SU)/);if(s){let i=parseInt(s[1]||0,10);return e=hn.icalDayToNumericDay(s[2],n),[i,e]}else return[0,0]}next_generic(e,n,s,i,r){let o=e in this.by_data,a=this.rule.freq==n,l=0;if(r&&this[r]()==0)return l;if(o){this.by_indices[e]++;let c=this.by_data[e];this.by_indices[e]==c.length&&(this.by_indices[e]=0,l=1),this.last[s]=c[this.by_indices[e]]}else a&&this["increment_"+s](this.rule.interval);return o&&l&&a&&this["increment_"+i](1),l}increment_monthday(e){for(let n=0;n<e;n++){let s=ge.daysInMonth(this.last.month,this.last.year);this.last.day++,this.last.day>s&&(this.last.day-=s,this.increment_month())}}increment_month(){if(this.last.day=1,this.has_by_data("BYMONTH"))this.by_indices.BYMONTH++,this.by_indices.BYMONTH==this.by_data.BYMONTH.length&&(this.by_indices.BYMONTH=0,this.increment_year(1)),this.last.month=this.by_data.BYMONTH[this.by_indices.BYMONTH];else{this.rule.freq=="MONTHLY"?this.last.month+=this.rule.interval:this.last.month++,this.last.month--;let e=Bt(this.last.month/12);this.last.month%=12,this.last.month++,e!=0&&this.increment_year(e)}this.has_by_data("BYMONTHDAY")&&(this.by_data.BYMONTHDAY=this.normalizeByMonthDayRules(this.last.year,this.last.month,this.rule.parts.BYMONTHDAY))}increment_year(e){this.last.day=1,this.last.year+=e}increment_generic(e,n,s,i){this.last[n]+=e;let r=Bt(this.last[n]/s);this.last[n]%=s,r!=0&&this["increment_"+i](r)}has_by_data(e){return e in this.rule.parts}expand_year_days(e){let n=new ge;this.days=[];let s={},i=["BYDAY","BYWEEKNO","BYMONTHDAY","BYMONTH","BYYEARDAY"];for(let a of i)a in this.rule.parts&&(s[a]=this.rule.parts[a]);if("BYMONTH"in s&&"BYWEEKNO"in s){let a=1,l={};n.year=e,n.isDate=!0;for(let c=0;c<this.by_data.BYMONTH.length;c++){let u=this.by_data.BYMONTH[c];n.month=u,n.day=1;let f=n.weekNumber(this.rule.wkst);n.day=ge.daysInMonth(u,e);let h=n.weekNumber(this.rule.wkst);for(c=f;c<h;c++)l[c]=1}for(let c=0;c<this.by_data.BYWEEKNO.length&&a;c++)this.by_data.BYWEEKNO[c]<52?a&=l[c]:a=0;a?delete s.BYMONTH:delete s.BYWEEKNO}let r=Object.keys(s).length;if(r==0){let a=this.dtstart.clone();a.year=this.last.year,this.days.push(a.dayOfYear())}else if(r==1&&"BYMONTH"in s)for(let a of this.by_data.BYMONTH){let l=this.dtstart.clone();l.year=e,l.month=a,l.isDate=!0,this.days.push(l.dayOfYear())}else if(r==1&&"BYMONTHDAY"in s)for(let a of this.by_data.BYMONTHDAY){let l=this.dtstart.clone();if(a<0){let c=ge.daysInMonth(l.month,e);a=a+c+1}l.day=a,l.year=e,l.isDate=!0,this.days.push(l.dayOfYear())}else if(r==2&&"BYMONTHDAY"in s&&"BYMONTH"in s)for(let a of this.by_data.BYMONTH){let l=ge.daysInMonth(a,e);for(let c of this.by_data.BYMONTHDAY)c<0&&(c=c+l+1),n.day=c,n.month=a,n.year=e,n.isDate=!0,this.days.push(n.dayOfYear())}else if(!(r==1&&"BYWEEKNO"in s)){if(!(r==2&&"BYWEEKNO"in s&&"BYMONTHDAY"in s))if(r==1&&"BYDAY"in s)this.days=this.days.concat(this.expand_by_day(e));else if(r==2&&"BYDAY"in s&&"BYMONTH"in s){for(let a of this.by_data.BYMONTH){let l=ge.daysInMonth(a,e);n.year=e,n.month=a,n.day=1,n.isDate=!0;let c=n.dayOfWeek(),u=n.dayOfYear()-1;n.day=l;let f=n.dayOfWeek();if(this.has_by_data("BYSETPOS")){let h=[];for(let d=1;d<=l;d++)n.day=d,this.is_day_in_byday(n)&&h.push(d);for(let d=0;d<h.length;d++)(this.check_set_position(d+1)||this.check_set_position(d-h.length))&&this.days.push(u+h[d])}else for(let h of this.by_data.BYDAY){let d=this.ruleDayOfWeek(h),y=d[0],m=d[1],p,g=(m+7-c)%7+1,w=l-(f+7-m)%7;if(y==0)for(let T=g;T<=l;T+=7)this.days.push(u+T);else y>0?(p=g+(y-1)*7,p<=l&&this.days.push(u+p)):(p=w+(y+1)*7,p>0&&this.days.push(u+p))}}this.days.sort(function(a,l){return a-l})}else if(r==2&&"BYDAY"in s&&"BYMONTHDAY"in s){let a=this.expand_by_day(e);for(let l of a){let c=ge.fromDayOfYear(l,e);this.by_data.BYMONTHDAY.indexOf(c.day)>=0&&this.days.push(l)}}else if(r==3&&"BYDAY"in s&&"BYMONTHDAY"in s&&"BYMONTH"in s){let a=this.expand_by_day(e);for(let l of a){let c=ge.fromDayOfYear(l,e);this.by_data.BYMONTH.indexOf(c.month)>=0&&this.by_data.BYMONTHDAY.indexOf(c.day)>=0&&this.days.push(l)}}else if(r==2&&"BYDAY"in s&&"BYWEEKNO"in s){let a=this.expand_by_day(e);for(let l of a){let u=ge.fromDayOfYear(l,e).weekNumber(this.rule.wkst);this.by_data.BYWEEKNO.indexOf(u)&&this.days.push(l)}}else r==3&&"BYDAY"in s&&"BYWEEKNO"in s&&"BYMONTHDAY"in s||(r==1&&"BYYEARDAY"in s?this.days=this.days.concat(this.by_data.BYYEARDAY):this.days=[])}let o=ge.isLeapYear(e)?366:365;return this.days.sort((a,l)=>(a<0&&(a+=o+1),l<0&&(l+=o+1),a-l)),0}expand_by_day(e){let n=[],s=this.last.clone();s.year=e,s.month=1,s.day=1,s.isDate=!0;let i=s.dayOfWeek();s.month=12,s.day=31,s.isDate=!0;let r=s.dayOfWeek(),o=s.dayOfYear();for(let a of this.by_data.BYDAY){let l=this.ruleDayOfWeek(a),c=l[0],u=l[1];if(c==0){let f=(u+7-i)%7+1;for(let h=f;h<=o;h+=7)n.push(h)}else if(c>0){let f;u>=i?f=u-i+1:f=u-i+8,n.push(f+(c-1)*7)}else{let f;c=-c,u<=r?f=o-r+u:f=o-r+u-7,n.push(f-(c-1)*7)}}return n}is_day_in_byday(e){if(this.by_data.BYDAY)for(let n of this.by_data.BYDAY){let s=this.ruleDayOfWeek(n),i=s[0],r=s[1],o=e.dayOfWeek();if(i==0&&r==o||e.nthWeekDay(r,i)==e.day)return 1}return 0}check_set_position(e){return this.has_by_data("BYSETPOS")?this.by_data.BYSETPOS.indexOf(e)!==-1:!1}sort_byday_rules(e){for(let n=0;n<e.length;n++)for(let s=0;s<n;s++){let i=this.ruleDayOfWeek(e[s],this.rule.wkst)[1],r=this.ruleDayOfWeek(e[n],this.rule.wkst)[1];if(i>r){let o=e[n];e[n]=e[s],e[s]=o}}}check_contract_restriction(e,n){let s=An._indexMap[e],i=An._expandMap[this.rule.freq][s],r=!1;if(e in this.by_data&&i==An.CONTRACT){let o=this.by_data[e];for(let a of o)if(a==n){r=!0;break}}else r=!0;return r}check_contracting_rules(){let e=this.last.dayOfWeek(),n=this.last.weekNumber(this.rule.wkst),s=this.last.dayOfYear();return this.check_contract_restriction("BYSECOND",this.last.second)&&this.check_contract_restriction("BYMINUTE",this.last.minute)&&this.check_contract_restriction("BYHOUR",this.last.hour)&&this.check_contract_restriction("BYDAY",hn.numericDayToIcalDay(e))&&this.check_contract_restriction("BYWEEKNO",n)&&this.check_contract_restriction("BYMONTHDAY",this.last.day)&&this.check_contract_restriction("BYMONTH",this.last.month)&&this.check_contract_restriction("BYYEARDAY",s)}setup_defaults(e,n,s){let i=An._indexMap[e];return An._expandMap[this.rule.freq][i]!=An.CONTRACT&&(e in this.by_data||(this.by_data[e]=[s]),this.rule.freq!=n)?this.by_data[e][0]:s}toJSON(){let e=Object.create(null);return e.initialized=this.initialized,e.rule=this.rule.toJSON(),e.dtstart=this.dtstart.toJSON(),e.by_data=this.by_data,e.days=this.days,e.last=this.last.toJSON(),e.by_indices=this.by_indices,e.occurrence_number=this.occurrence_number,e}};U(An,"_indexMap",{BYSECOND:0,BYMINUTE:1,BYHOUR:2,BYDAY:3,BYMONTHDAY:4,BYYEARDAY:5,BYWEEKNO:6,BYMONTH:7,BYSETPOS:8}),U(An,"_expandMap",{SECONDLY:[1,1,1,1,1,1,1,1],MINUTELY:[2,1,1,1,1,1,1,1],HOURLY:[2,2,1,1,1,1,1,1],DAILY:[2,2,2,1,1,1,1,1],WEEKLY:[2,2,2,2,3,3,1,1],MONTHLY:[2,2,2,2,2,3,3,1],YEARLY:[2,2,2,2,2,2,2,2]}),U(An,"UNKNOWN",0),U(An,"CONTRACT",1),U(An,"EXPAND",2),U(An,"ILLEGAL",3);let Na=An;class Rp extends Error{constructor(){super("Recurrence rule has no valid occurrences")}}const pM=/^(SU|MO|TU|WE|TH|FR|SA)$/,yM=/^([+-])?(5[0-3]|[1-4][0-9]|[1-9])?(SU|MO|TU|WE|TH|FR|SA)$/,Ew={SU:ge.SUNDAY,MO:ge.MONDAY,TU:ge.TUESDAY,WE:ge.WEDNESDAY,TH:ge.THURSDAY,FR:ge.FRIDAY,SA:ge.SATURDAY},gM=Object.fromEntries(Object.entries(Ew).map(t=>t.reverse())),Pp=["SECONDLY","MINUTELY","HOURLY","DAILY","WEEKLY","MONTHLY","YEARLY"];class hn{constructor(e){U(this,"parts",null);U(this,"interval",1);U(this,"wkst",ge.MONDAY);U(this,"until",null);U(this,"count",null);U(this,"freq",null);U(this,"icalclass","icalrecur");U(this,"icaltype","recur");this.wrappedJSObject=this,this.parts={},e&&typeof e=="object"&&this.fromData(e)}static fromString(e){let n=this._stringToData(e,!1);return new hn(n)}static fromData(e){return new hn(e)}static _stringToData(e,n){let s=Object.create(null),i=e.split(";"),r=i.length;for(let o=0;o<r;o++){let a=i[o].split("="),l=a[0].toUpperCase(),c=a[0].toLowerCase(),u=n?c:l,f=a[1];if(l in ju){let h=f.split(","),d=new Set;for(let y of h)d.add(ju[l](y));h=[...d],s[u]=h.length==1?h[0]:h}else l in Wu?Wu[l](f,s,n):s[c]=f}return s}static icalDayToNumericDay(e,n){let s=n||ge.SUNDAY;return(Ew[e]-s+7)%7+1}static numericDayToIcalDay(e,n){let s=n||ge.SUNDAY,i=e+s-ge.SUNDAY;return i>7&&(i-=7),gM[i]}iterator(e){return new Na({rule:this,dtstart:e})}clone(){return new hn(this.toJSON())}isFinite(){return!!(this.count||this.until)}isByCount(){return!!(this.count&&!this.until)}addComponent(e,n){let s=e.toUpperCase();s in this.parts?this.parts[s].push(n):this.parts[s]=[n]}setComponent(e,n){this.parts[e.toUpperCase()]=n.slice()}getComponent(e){let n=e.toUpperCase();return n in this.parts?this.parts[n].slice():[]}getNextOccurrence(e,n){let s=this.iterator(e),i;do i=s.next();while(i&&i.compare(n)<=0);return i&&n.zone&&(i.zone=n.zone),i}fromData(e){for(let n in e){let s=n.toUpperCase();s in ju?Array.isArray(e[n])?this.parts[s]=e[n]:this.parts[s]=[e[n]]:this[n]=e[n]}this.interval&&typeof this.interval!="number"&&Wu.INTERVAL(this.interval,this),this.wkst&&typeof this.wkst!="number"&&(this.wkst=hn.icalDayToNumericDay(this.wkst)),this.until&&!(this.until instanceof ge)&&(this.until=ge.fromString(this.until))}toJSON(){let e=Object.create(null);e.freq=this.freq,this.count&&(e.count=this.count),this.interval>1&&(e.interval=this.interval);for(let[n,s]of Object.entries(this.parts))Array.isArray(s)&&s.length==1?e[n.toLowerCase()]=s[0]:e[n.toLowerCase()]=Dr(s);return this.until&&(e.until=this.until.toString()),"wkst"in this&&this.wkst!==ge.DEFAULT_WEEK_START&&(e.wkst=hn.numericDayToIcalDay(this.wkst)),e}toString(){let e="FREQ="+this.freq;this.count&&(e+=";COUNT="+this.count),this.interval>1&&(e+=";INTERVAL="+this.interval);for(let[n,s]of Object.entries(this.parts))e+=";"+n+"="+s;return this.until&&(e+=";UNTIL="+this.until.toICALString()),"wkst"in this&&this.wkst!==ge.DEFAULT_WEEK_START&&(e+=";WKST="+hn.numericDayToIcalDay(this.wkst)),e}}function di(t,e,n,s){let i=s;if(s[0]==="+"&&(i=s.slice(1)),i=rn(i),e!==void 0&&s<e)throw new Error(t+': invalid value "'+s+'" must be > '+e);if(n!==void 0&&s>n)throw new Error(t+': invalid value "'+s+'" must be < '+e);return i}const Wu={FREQ:function(t,e,n){if(Pp.indexOf(t)!==-1)e.freq=t;else throw new Error('invalid frequency "'+t+'" expected: "'+Pp.join(", ")+'"')},COUNT:function(t,e,n){e.count=rn(t)},INTERVAL:function(t,e,n){e.interval=rn(t),e.interval<1&&(e.interval=1)},UNTIL:function(t,e,n){t.length>10?e.until=Gt.icalendar.value["date-time"].fromICAL(t):e.until=Gt.icalendar.value.date.fromICAL(t),n||(e.until=ge.fromString(e.until))},WKST:function(t,e,n){if(pM.test(t))e.wkst=hn.icalDayToNumericDay(t);else throw new Error('invalid WKST value "'+t+'"')}},ju={BYSECOND:di.bind(void 0,"BYSECOND",0,60),BYMINUTE:di.bind(void 0,"BYMINUTE",0,59),BYHOUR:di.bind(void 0,"BYHOUR",0,23),BYDAY:function(t){if(yM.test(t))return t;throw new Error('invalid BYDAY value "'+t+'"')},BYMONTHDAY:di.bind(void 0,"BYMONTHDAY",-31,31),BYYEARDAY:di.bind(void 0,"BYYEARDAY",-366,366),BYWEEKNO:di.bind(void 0,"BYWEEKNO",-53,53),BYMONTH:di.bind(void 0,"BYMONTH",1,12),BYSETPOS:di.bind(void 0,"BYSETPOS",-366,366)};class Ai{constructor(e){U(this,"start",null);U(this,"end",null);U(this,"duration",null);U(this,"icalclass","icalperiod");U(this,"icaltype","period");if(this.wrappedJSObject=this,e&&"start"in e){if(e.start&&!(e.start instanceof ge))throw new TypeError(".start must be an instance of ICAL.Time");this.start=e.start}if(e&&e.end&&e.duration)throw new Error("cannot accept both end and duration");if(e&&"end"in e){if(e.end&&!(e.end instanceof ge))throw new TypeError(".end must be an instance of ICAL.Time");this.end=e.end}if(e&&"duration"in e){if(e.duration&&!(e.duration instanceof mn))throw new TypeError(".duration must be an instance of ICAL.Duration");this.duration=e.duration}}static fromString(e,n){let s=e.split("/");if(s.length!==2)throw new Error('Invalid string value: "'+e+'" must contain a "/" char.');let i={start:ge.fromDateTimeString(s[0],n)},r=s[1];return mn.isValueString(r)?i.duration=mn.fromString(r):i.end=ge.fromDateTimeString(r,n),new Ai(i)}static fromData(e){return new Ai(e)}static fromJSON(e,n,s){function i(r,o){return s?ge.fromString(r,o):ge.fromDateTimeString(r,o)}return mn.isValueString(e[1])?Ai.fromData({start:i(e[0],n),duration:mn.fromString(e[1])}):Ai.fromData({start:i(e[0],n),end:i(e[1],n)})}clone(){return Ai.fromData({start:this.start?this.start.clone():null,end:this.end?this.end.clone():null,duration:this.duration?this.duration.clone():null})}getDuration(){return this.duration?this.duration:this.end.subtractDate(this.start)}getEnd(){if(this.end)return this.end;{let e=this.start.clone();return e.addDuration(this.duration),e}}toString(){return this.start+"/"+(this.end||this.duration)}toJSON(){return[this.start.toString(),(this.end||this.duration).toString()]}toICALString(){return this.start.toICALString()+"/"+(this.end||this.duration).toICALString()}}const vM=/\\\\|\\;|\\,|\\[Nn]/g,wM=/\\|;|,|\n/g,$p=/\\\\|\\,|\\[Nn]/g,Yp=/\\|,|\n/g;function Kf(t,e){return{matches:/.*/,fromICAL:function(s,i){return TM(s,t,i)},toICAL:function(s,i){let r=e;return i&&(r=new RegExp(r.source+"|"+i,r.flags)),s.replace(r,function(o){switch(o){case"\\":return"\\\\";case";":return"\\;";case",":return"\\,";case`
`:return"\\n";default:return o}})}}}const He={defaultType:"text"},La={defaultType:"text",multiValue:","},pc={defaultType:"text",structuredValue:";"},_l={defaultType:"integer"},Dl={defaultType:"date-time",allowedTypes:["date-time","date"]},Ol={defaultType:"date-time"},Cn={defaultType:"uri"},Fp={defaultType:"utc-offset"},Up={defaultType:"recur"},zp={defaultType:"date-and-or-time",allowedTypes:["date-time","date","text"]};function bM(t){switch(t){case"\\\\":return"\\";case"\\;":return";";case"\\,":return",";case"\\n":case"\\N":return`
`;default:return t}}function TM(t,e,n){return t.indexOf("\\")===-1?t:(n&&(e=new RegExp(e.source+"|\\\\"+n,e.flags)),t.replace(e,bM))}let ad={categories:La,url:Cn,version:He,uid:He},ld={boolean:{values:["TRUE","FALSE"],fromICAL:function(t){switch(t){case"TRUE":return!0;case"FALSE":return!1;default:return!1}},toICAL:function(t){return t?"TRUE":"FALSE"}},float:{matches:/^[+-]?\d+\.\d+$/,fromICAL:function(t){let e=parseFloat(t);return Aa(e)?0:e},toICAL:function(t){return String(t)}},integer:{fromICAL:function(t){let e=parseInt(t);return Aa(e)?0:e},toICAL:function(t){return String(t)}},"utc-offset":{toICAL:function(t){return t.length<7?t.slice(0,3)+t.slice(4,6):t.slice(0,3)+t.slice(4,6)+t.slice(7,9)},fromICAL:function(t){return t.length<6?t.slice(0,3)+":"+t.slice(3,5):t.slice(0,3)+":"+t.slice(3,5)+":"+t.slice(5,7)},decorate:function(t){return Es.fromString(t)},undecorate:function(t){return t.toString()}}},EM={cutype:{values:["INDIVIDUAL","GROUP","RESOURCE","ROOM","UNKNOWN"],allowXName:!0,allowIanaToken:!0},"delegated-from":{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},"delegated-to":{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},encoding:{values:["8BIT","BASE64"]},fbtype:{values:["FREE","BUSY","BUSY-UNAVAILABLE","BUSY-TENTATIVE"],allowXName:!0,allowIanaToken:!0},member:{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},partstat:{values:["NEEDS-ACTION","ACCEPTED","DECLINED","TENTATIVE","DELEGATED","COMPLETED","IN-PROCESS"],allowXName:!0,allowIanaToken:!0},range:{values:["THISANDFUTURE"]},related:{values:["START","END"]},reltype:{values:["PARENT","CHILD","SIBLING"],allowXName:!0,allowIanaToken:!0},role:{values:["REQ-PARTICIPANT","CHAIR","OPT-PARTICIPANT","NON-PARTICIPANT"],allowXName:!0,allowIanaToken:!0},rsvp:{values:["TRUE","FALSE"]},"sent-by":{valueType:"cal-address"},tzid:{matches:/^\//},value:{values:["binary","boolean","cal-address","date","date-time","duration","float","integer","period","recur","text","time","uri","utc-offset"],allowXName:!0,allowIanaToken:!0}};const Jt=Nr(ld,{text:Kf(vM,wM),uri:{},binary:{decorate:function(t){return eu.fromString(t)},undecorate:function(t){return t.toString()}},"cal-address":{},date:{decorate:function(t,e){return ge.fromDateString(t,e)},undecorate:function(t){return t.toString()},fromICAL:function(t){return t.slice(0,4)+"-"+t.slice(4,6)+"-"+t.slice(6,8)},toICAL:function(t){let e=t.length;return e==10?t.slice(0,4)+t.slice(5,7)+t.slice(8,10):e>=19?Jt["date-time"].toICAL(t):t}},"date-time":{fromICAL:function(t){{let e=t.slice(0,4)+"-"+t.slice(4,6)+"-"+t.slice(6,8)+"T"+t.slice(9,11)+":"+t.slice(11,13)+":"+t.slice(13,15);return t[15]&&t[15]==="Z"&&(e+="Z"),e}},toICAL:function(t){let e=t.length;if(e==10&&!uo.strict)return Jt.date.toICAL(t);if(e>=19){let n=t.slice(0,4)+t.slice(5,7)+t.slice(8,13)+t.slice(14,16)+t.slice(17,19);return t[19]&&t[19]==="Z"&&(n+="Z"),n}else return t},decorate:function(t,e){return ge.fromDateTimeString(t,e)},undecorate:function(t){return t.toString()}},duration:{decorate:function(t){return mn.fromString(t)},undecorate:function(t){return t.toString()}},period:{fromICAL:function(t){let e=t.split("/");return e[0]=Jt["date-time"].fromICAL(e[0]),mn.isValueString(e[1])||(e[1]=Jt["date-time"].fromICAL(e[1])),e},toICAL:function(t){return t=t.slice(),t[0]=Jt["date-time"].toICAL(t[0]),mn.isValueString(t[1])||(t[1]=Jt["date-time"].toICAL(t[1])),t.join("/")},decorate:function(t,e){return Ai.fromJSON(t,e,!uo.strict)},undecorate:function(t){return t.toJSON()}},recur:{fromICAL:function(t){return hn._stringToData(t,!0)},toICAL:function(t){let e="";for(let[n,s]of Object.entries(t))n=="until"?s.length>10?s=Jt["date-time"].toICAL(s):s=Jt.date.toICAL(s):n=="wkst"?typeof s=="number"&&(s=hn.numericDayToIcalDay(s)):Array.isArray(s)&&(s=s.join(",")),e+=n.toUpperCase()+"="+s+";";return e.slice(0,Math.max(0,e.length-1))},decorate:function(e){return hn.fromData(e)},undecorate:function(t){return t.toJSON()}},time:{fromICAL:function(t){if(t.length<6)return t;let e=t.slice(0,2)+":"+t.slice(2,4)+":"+t.slice(4,6);return t[6]==="Z"&&(e+="Z"),e},toICAL:function(t){if(t.length<8)return t;let e=t.slice(0,2)+t.slice(3,5)+t.slice(6,8);return t[8]==="Z"&&(e+="Z"),e}}});let SM=Nr(ad,{action:He,attach:{defaultType:"uri"},attendee:{defaultType:"cal-address"},calscale:He,class:He,comment:He,completed:Ol,contact:He,created:Ol,description:He,dtend:Dl,dtstamp:Ol,dtstart:Dl,due:Dl,duration:{defaultType:"duration"},exdate:{defaultType:"date-time",allowedTypes:["date-time","date"],multiValue:","},exrule:Up,freebusy:{defaultType:"period",multiValue:","},geo:{defaultType:"float",structuredValue:";"},"last-modified":Ol,location:He,method:He,organizer:{defaultType:"cal-address"},"percent-complete":_l,priority:_l,prodid:He,"related-to":He,repeat:_l,rdate:{defaultType:"date-time",allowedTypes:["date-time","date","period"],multiValue:",",detectType:function(t){return t.indexOf("/")!==-1?"period":t.indexOf("T")===-1?"date":"date-time"}},"recurrence-id":Dl,resources:La,"request-status":pc,rrule:Up,sequence:_l,status:He,summary:He,transp:He,trigger:{defaultType:"duration",allowedTypes:["duration","date-time"]},tzoffsetfrom:Fp,tzoffsetto:Fp,tzurl:Cn,tzid:He,tzname:He});const Xn=Nr(ld,{text:Kf($p,Yp),uri:Kf($p,Yp),date:{decorate:function(t){return $i.fromDateAndOrTimeString(t,"date")},undecorate:function(t){return t.toString()},fromICAL:function(t){return t.length==8?Jt.date.fromICAL(t):t[0]=="-"&&t.length==6?t.slice(0,4)+"-"+t.slice(4):t},toICAL:function(t){return t.length==10?Jt.date.toICAL(t):t[0]=="-"&&t.length==7?t.slice(0,4)+t.slice(5):t}},time:{decorate:function(t){return $i.fromDateAndOrTimeString("T"+t,"time")},undecorate:function(t){return t.toString()},fromICAL:function(t){let e=Xn.time._splitZone(t,!0),n=e[0],s=e[1];return s.length==6?s=s.slice(0,2)+":"+s.slice(2,4)+":"+s.slice(4,6):s.length==4&&s[0]!="-"?s=s.slice(0,2)+":"+s.slice(2,4):s.length==5&&(s=s.slice(0,3)+":"+s.slice(3,5)),n.length==5&&(n[0]=="-"||n[0]=="+")&&(n=n.slice(0,3)+":"+n.slice(3)),s+n},toICAL:function(t){let e=Xn.time._splitZone(t),n=e[0],s=e[1];return s.length==8?s=s.slice(0,2)+s.slice(3,5)+s.slice(6,8):s.length==5&&s[0]!="-"?s=s.slice(0,2)+s.slice(3,5):s.length==6&&(s=s.slice(0,3)+s.slice(4,6)),n.length==6&&(n[0]=="-"||n[0]=="+")&&(n=n.slice(0,3)+n.slice(4)),s+n},_splitZone:function(t,e){let n=t.length-1,s=t.length-(e?5:6),i=t[s],r,o;return t[n]=="Z"?(r=t[n],o=t.slice(0,Math.max(0,n))):t.length>6&&(i=="-"||i=="+")?(r=t.slice(s),o=t.slice(0,Math.max(0,s))):(r="",o=t),[r,o]}},"date-time":{decorate:function(t){return $i.fromDateAndOrTimeString(t,"date-time")},undecorate:function(t){return t.toString()},fromICAL:function(t){return Xn["date-and-or-time"].fromICAL(t)},toICAL:function(t){return Xn["date-and-or-time"].toICAL(t)}},"date-and-or-time":{decorate:function(t){return $i.fromDateAndOrTimeString(t,"date-and-or-time")},undecorate:function(t){return t.toString()},fromICAL:function(t){let e=t.split("T");return(e[0]?Xn.date.fromICAL(e[0]):"")+(e[1]?"T"+Xn.time.fromICAL(e[1]):"")},toICAL:function(t){let e=t.split("T");return Xn.date.toICAL(e[0])+(e[1]?"T"+Xn.time.toICAL(e[1]):"")}},timestamp:Jt["date-time"],"language-tag":{matches:/^[a-zA-Z0-9-]+$/},"phone-number":{fromICAL:function(t){return Array.from(t).filter(function(e){return e==="\\"?void 0:e}).join("")},toICAL:function(t){return Array.from(t).map(function(e){return e===","||e===";"?"\\"+e:e}).join("")}}});let kM={type:{valueType:"text",multiValue:","},value:{values:["text","uri","date","time","date-time","date-and-or-time","timestamp","boolean","integer","float","utc-offset","language-tag"],allowXName:!0,allowIanaToken:!0}},_M=Nr(ad,{adr:{defaultType:"text",structuredValue:";",multiValue:","},anniversary:zp,bday:zp,caladruri:Cn,caluri:Cn,clientpidmap:pc,email:He,fburl:Cn,fn:He,gender:pc,geo:Cn,impp:Cn,key:Cn,kind:He,lang:{defaultType:"language-tag"},logo:Cn,member:Cn,n:{defaultType:"text",structuredValue:";",multiValue:","},nickname:La,note:He,org:{defaultType:"text",structuredValue:";"},photo:Cn,related:Cn,rev:{defaultType:"timestamp"},role:He,sound:Cn,source:Cn,tel:{defaultType:"uri",allowedTypes:["uri","text"]},title:He,tz:{defaultType:"text",allowedTypes:["text","utc-offset","uri"]},xml:He}),DM=Nr(ld,{binary:Jt.binary,date:Xn.date,"date-time":Xn["date-time"],"phone-number":Xn["phone-number"],uri:Jt.uri,text:Jt.text,time:Jt.time,vcard:Jt.text,"utc-offset":{toICAL:function(t){return t.slice(0,7)},fromICAL:function(t){return t.slice(0,7)},decorate:function(t){return Es.fromString(t)},undecorate:function(t){return t.toString()}}}),OM={type:{valueType:"text",multiValue:","},value:{values:["text","uri","date","date-time","phone-number","time","boolean","integer","float","utc-offset","vcard","binary"],allowXName:!0,allowIanaToken:!0}},IM=Nr(ad,{fn:He,n:{defaultType:"text",structuredValue:";",multiValue:","},nickname:La,photo:{defaultType:"binary",allowedTypes:["binary","uri"]},bday:{defaultType:"date-time",allowedTypes:["date-time","date"],detectType:function(t){return t.indexOf("T")===-1?"date":"date-time"}},adr:{defaultType:"text",structuredValue:";",multiValue:","},label:He,tel:{defaultType:"phone-number"},email:He,mailer:He,tz:{defaultType:"utc-offset",allowedTypes:["utc-offset","text"]},geo:{defaultType:"float",structuredValue:";"},title:He,role:He,logo:{defaultType:"binary",allowedTypes:["binary","uri"]},agent:{defaultType:"vcard",allowedTypes:["vcard","text","uri"]},org:pc,note:La,prodid:He,rev:{defaultType:"date-time",allowedTypes:["date-time","date"],detectType:function(t){return t.indexOf("T")===-1?"date":"date-time"}},"sort-string":He,sound:{defaultType:"binary",allowedTypes:["binary","uri"]},class:He,key:{defaultType:"binary",allowedTypes:["binary","text"]}}),Vs={value:Jt,param:EM,property:SM,propertyGroups:!1},Hp={value:Xn,param:kM,property:_M,propertyGroups:!0},Bp={value:DM,param:OM,property:IM,propertyGroups:!0};const uo={strict:!0,defaultSet:Vs,defaultType:"unknown",components:{vcard:Hp,vcard3:Bp,vevent:Vs,vtodo:Vs,vjournal:Vs,valarm:Vs,vtimezone:Vs,daylight:Vs,standard:Vs},icalendar:Vs,vcard:Hp,vcard3:Bp,getDesignSet:function(t){return t&&t in uo.components?uo.components[t]:uo.defaultSet}};var Gt=uo;const Vl=`\r
`,Wp="unknown",MM={'"':"^'","\n":"^n","^":"^^"};function gt(t){typeof t[0]=="string"&&(t=[t]);let e=0,n=t.length,s="";for(;e<n;e++)s+=gt.component(t[e])+Vl;return s}gt.component=function(t,e){let n=t[0].toUpperCase(),s="BEGIN:"+n+Vl,i=t[1],r=0,o=i.length,a=t[0];for(a==="vcard"&&t[1].length>0&&!(t[1][0][0]==="version"&&t[1][0][3]==="4.0")&&(a="vcard3"),e=e||Gt.getDesignSet(a);r<o;r++)s+=gt.property(i[r],e)+Vl;let l=t[2]||[],c=0,u=l.length;for(;c<u;c++)s+=gt.component(l[c],e)+Vl;return s+="END:"+n,s};gt.property=function(t,e,n){let s=t[0].toUpperCase(),i=t[0],r=t[1];e||(e=Gt.defaultSet);let o=r.group,a;e.propertyGroups&&o?a=o.toUpperCase()+"."+s:a=s;for(let[d,y]of Object.entries(r)){if(e.propertyGroups&&d=="group")continue;let m=e.param[d],p=m&&m.multiValue;p&&Array.isArray(y)?(y=y.map(function(g){return g=gt._rfc6868Unescape(g),g=gt.paramPropertyValue(g,m.multiValueSeparateDQuote),g}),y=gt.multiValue(y,p,"unknown",null,e)):(y=gt._rfc6868Unescape(y),y=gt.paramPropertyValue(y)),a+=";"+d.toUpperCase()+"="+y}if(t.length===3)return a+":";let l=t[2],c,u=!1,f=!1,h=!1;return i in e.property?(c=e.property[i],"multiValue"in c&&(u=c.multiValue),"structuredValue"in c&&Array.isArray(t[3])&&(f=c.structuredValue),"defaultType"in c?l===c.defaultType&&(h=!0):l===Wp&&(h=!0)):l===Wp&&(h=!0),h||(a+=";VALUE="+l.toUpperCase()),a+=":",u&&f?a+=gt.multiValue(t[3],f,l,u,e,f):u?a+=gt.multiValue(t.slice(3),u,l,null,e,!1):f?a+=gt.multiValue(t[3],f,l,null,e,f):a+=gt.value(t[3],l,e,!1),n?a:Tw(a)};gt.paramPropertyValue=function(t,e){return!e&&t.indexOf(",")===-1&&t.indexOf(":")===-1&&t.indexOf(";")===-1?t:'"'+t+'"'};gt.multiValue=function(t,e,n,s,i,r){let o="",a=t.length,l=0;for(;l<a;l++)s&&Array.isArray(t[l])?o+=gt.multiValue(t[l],s,n,null,i,r):o+=gt.value(t[l],n,i,r),l!==a-1&&(o+=e);return o};gt.value=function(t,e,n,s){return e in n.value&&"toICAL"in n.value[e]?n.value[e].toICAL(t,s):t};gt._rfc6868Unescape=function(t){return t.replace(/[\n^"]/g,function(e){return MM[e]})};const jp=0,Il=1,Ml=2,mi=3;class Er{static fromString(e,n){return new Er(Ze.property(e,n))}constructor(e,n){this._parent=n||null,typeof e=="string"?(this.jCal=[e,{},Gt.defaultType],this.jCal[Ml]=this.getDefaultType()):this.jCal=e,this._updateType()}get type(){return this.jCal[Ml]}get name(){return this.jCal[jp]}get parent(){return this._parent}set parent(e){let n=!this._parent||e&&e._designSet!=this._parent._designSet;this._parent=e,this.type==Gt.defaultType&&n&&(this.jCal[Ml]=this.getDefaultType(),this._updateType())}get _designSet(){return this.parent?this.parent._designSet:Gt.defaultSet}_updateType(){let e=this._designSet;this.type in e.value&&("decorate"in e.value[this.type]?this.isDecorated=!0:this.isDecorated=!1,this.name in e.property&&(this.isMultiValue="multiValue"in e.property[this.name],this.isStructuredValue="structuredValue"in e.property[this.name]))}_hydrateValue(e){return this._values&&this._values[e]?this._values[e]:this.jCal.length<=mi+e?null:this.isDecorated?(this._values||(this._values=[]),this._values[e]=this._decorate(this.jCal[mi+e])):this.jCal[mi+e]}_decorate(e){return this._designSet.value[this.type].decorate(e,this)}_undecorate(e){return this._designSet.value[this.type].undecorate(e,this)}_setDecoratedValue(e,n){this._values||(this._values=[]),typeof e=="object"&&"icaltype"in e?(this.jCal[mi+n]=this._undecorate(e),this._values[n]=e):(this.jCal[mi+n]=e,this._values[n]=this._decorate(e))}getParameter(e){if(e in this.jCal[Il])return this.jCal[Il][e]}getFirstParameter(e){let n=this.getParameter(e);return Array.isArray(n)?n[0]:n}setParameter(e,n){let s=e.toLowerCase();typeof n=="string"&&s in this._designSet.param&&"multiValue"in this._designSet.param[s]&&(n=[n]),this.jCal[Il][e]=n}removeParameter(e){delete this.jCal[Il][e]}getDefaultType(){let e=this.jCal[jp],n=this._designSet;if(e in n.property){let s=n.property[e];if("defaultType"in s)return s.defaultType}return Gt.defaultType}resetType(e){this.removeAllValues(),this.jCal[Ml]=e,this._updateType()}getFirstValue(){return this._hydrateValue(0)}getValues(){let e=this.jCal.length-mi;if(e<1)return[];let n=0,s=[];for(;n<e;n++)s[n]=this._hydrateValue(n);return s}removeAllValues(){this._values&&(this._values.length=0),this.jCal.length=3}setValues(e){if(!this.isMultiValue)throw new Error(this.name+`: does not not support mulitValue.
override isMultiValue`);let n=e.length,s=0;if(this.removeAllValues(),n>0&&typeof e[0]=="object"&&"icaltype"in e[0]&&this.resetType(e[0].icaltype),this.isDecorated)for(;s<n;s++)this._setDecoratedValue(e[s],s);else for(;s<n;s++)this.jCal[mi+s]=e[s]}setValue(e){this.removeAllValues(),typeof e=="object"&&"icaltype"in e&&this.resetType(e.icaltype),this.isDecorated?this._setDecoratedValue(e,0):this.jCal[mi]=e}toJSON(){return this.jCal}toICALString(){return gt.property(this.jCal,this._designSet,!0)}}const pi=0,qs=1,yi=2;class Wn{constructor(e,n){U(this,"_hydratedPropertyCount",0);U(this,"_hydratedComponentCount",0);U(this,"_timezoneCache",null);U(this,"_components",null);U(this,"_properties",null);typeof e=="string"&&(e=[e,[],[]]),this.jCal=e,this.parent=n||null,!this.parent&&this.name==="vcalendar"&&(this._timezoneCache=new Map)}static fromString(e){return new Wn(Ze.component(e))}get name(){return this.jCal[pi]}get _designSet(){return this.parent&&this.parent._designSet||Gt.getDesignSet(this.name)}_hydrateComponent(e){if(this._components||(this._components=[],this._hydratedComponentCount=0),this._components[e])return this._components[e];let n=new Wn(this.jCal[yi][e],this);return this._hydratedComponentCount++,this._components[e]=n}_hydrateProperty(e){if(this._properties||(this._properties=[],this._hydratedPropertyCount=0),this._properties[e])return this._properties[e];let n=new Er(this.jCal[qs][e],this);return this._hydratedPropertyCount++,this._properties[e]=n}getFirstSubcomponent(e){if(e){let n=0,s=this.jCal[yi],i=s.length;for(;n<i;n++)if(s[n][pi]===e)return this._hydrateComponent(n)}else if(this.jCal[yi].length)return this._hydrateComponent(0);return null}getAllSubcomponents(e){let n=this.jCal[yi].length,s=0;if(e){let i=this.jCal[yi],r=[];for(;s<n;s++)e===i[s][pi]&&r.push(this._hydrateComponent(s));return r}else{if(!this._components||this._hydratedComponentCount!==n)for(;s<n;s++)this._hydrateComponent(s);return this._components||[]}}hasProperty(e){let n=this.jCal[qs],s=n.length,i=0;for(;i<s;i++)if(n[i][pi]===e)return!0;return!1}getFirstProperty(e){if(e){let n=0,s=this.jCal[qs],i=s.length;for(;n<i;n++)if(s[n][pi]===e)return this._hydrateProperty(n)}else if(this.jCal[qs].length)return this._hydrateProperty(0);return null}getFirstPropertyValue(e){let n=this.getFirstProperty(e);return n?n.getFirstValue():null}getAllProperties(e){let n=this.jCal[qs].length,s=0;if(e){let i=this.jCal[qs],r=[];for(;s<n;s++)e===i[s][pi]&&r.push(this._hydrateProperty(s));return r}else{if(!this._properties||this._hydratedPropertyCount!==n)for(;s<n;s++)this._hydrateProperty(s);return this._properties||[]}}_removeObjectByIndex(e,n,s){if(n=n||[],n[s]){let i=n[s];"parent"in i&&(i.parent=null)}n.splice(s,1),this.jCal[e].splice(s,1)}_removeObject(e,n,s){let i=0,r=this.jCal[e],o=r.length,a=this[n];if(typeof s=="string"){for(;i<o;i++)if(r[i][pi]===s)return this._removeObjectByIndex(e,a,i),!0}else if(a){for(;i<o;i++)if(a[i]&&a[i]===s)return this._removeObjectByIndex(e,a,i),!0}return!1}_removeAllObjects(e,n,s){let i=this[n],r=this.jCal[e],o=r.length-1;for(;o>=0;o--)(!s||r[o][pi]===s)&&this._removeObjectByIndex(e,i,o)}addSubcomponent(e){this._components||(this._components=[],this._hydratedComponentCount=0),e.parent&&e.parent.removeSubcomponent(e);let n=this.jCal[yi].push(e.jCal);return this._components[n-1]=e,this._hydratedComponentCount++,e.parent=this,e}removeSubcomponent(e){let n=this._removeObject(yi,"_components",e);return n&&this._hydratedComponentCount--,n}removeAllSubcomponents(e){let n=this._removeAllObjects(yi,"_components",e);return this._hydratedComponentCount=0,n}addProperty(e){if(!(e instanceof Er))throw new TypeError("must be instance of ICAL.Property");this._properties||(this._properties=[],this._hydratedPropertyCount=0),e.parent&&e.parent.removeProperty(e);let n=this.jCal[qs].push(e.jCal);return this._properties[n-1]=e,this._hydratedPropertyCount++,e.parent=this,e}addPropertyWithValue(e,n){let s=new Er(e);return s.setValue(n),this.addProperty(s),s}updatePropertyWithValue(e,n){let s=this.getFirstProperty(e);return s?s.setValue(n):s=this.addPropertyWithValue(e,n),s}removeProperty(e){let n=this._removeObject(qs,"_properties",e);return n&&this._hydratedPropertyCount--,n}removeAllProperties(e){let n=this._removeAllObjects(qs,"_properties",e);return this._hydratedPropertyCount=0,n}toJSON(){return this.jCal}toString(){return gt.component(this.jCal,this._designSet)}getTimeZoneByID(e){if(this.parent)return this.parent.getTimeZoneByID(e);if(!this._timezoneCache)return null;if(this._timezoneCache.has(e))return this._timezoneCache.get(e);const n=this.getAllSubcomponents("vtimezone");for(const s of n)if(s.getFirstProperty("tzid").getFirstValue()===e){const i=new Qe({component:s,tzid:e});return this._timezoneCache.set(e,i),i}return null}}class Sw{constructor(e){U(this,"complete",!1);U(this,"ruleIterators",null);U(this,"ruleDates",null);U(this,"exDates",null);U(this,"ruleDateInc",0);U(this,"exDateInc",0);U(this,"exDate",null);U(this,"ruleDate",null);U(this,"dtstart",null);U(this,"last",null);this.ruleDates=[],this.exDates=[],this.fromData(e)}fromData(e){let n=Qs(e.dtstart,ge);if(n)this.dtstart=n;else throw new Error(".dtstart (ICAL.Time) must be given");if(e.component)this._init(e.component);else{if(this.last=Qs(e.last,ge)||n.clone(),!e.ruleIterators)throw new Error(".ruleIterators or .component must be given");this.ruleIterators=e.ruleIterators.map(function(s){return Qs(s,Na)}),this.ruleDateInc=e.ruleDateInc,this.exDateInc=e.exDateInc,e.ruleDates&&(this.ruleDates=e.ruleDates.map(s=>Qs(s,ge)),this.ruleDate=this.ruleDates[this.ruleDateInc]),e.exDates&&(this.exDates=e.exDates.map(s=>Qs(s,ge)),this.exDate=this.exDates[this.exDateInc]),typeof e.complete<"u"&&(this.complete=e.complete)}}next(){let e,n,s,i=500,r=0;for(;;){if(r++>i)throw new Error("max tries have occurred, rule may be impossible to fulfill.");if(n=this.ruleDate,e=this._nextRecurrenceIter(this.last),!n&&!e){this.complete=!0;break}if((!n||e&&n.compare(e.last)>0)&&(n=e.last.clone(),e.next()),this.ruleDate===n&&this._nextRuleDay(),this.last=n,this.exDate&&(s=this.exDate.compare(this.last),s<0&&this._nextExDay(),s===0)){this._nextExDay();continue}return this.last}}toJSON(){function e(s){return s.toJSON()}let n=Object.create(null);return n.ruleIterators=this.ruleIterators.map(e),this.ruleDates&&(n.ruleDates=this.ruleDates.map(e)),this.exDates&&(n.exDates=this.exDates.map(e)),n.ruleDateInc=this.ruleDateInc,n.exDateInc=this.exDateInc,n.last=this.last.toJSON(),n.dtstart=this.dtstart.toJSON(),n.complete=this.complete,n}_extractDates(e,n){let s=[],i=e.getAllProperties(n);for(let r=0,o=i.length;r<o;r++)for(let a of i[r].getValues()){let l=Tr(s,a,(c,u)=>c.compare(u));s.splice(l,0,a)}return s}_init(e){if(this.ruleIterators=[],this.last=this.dtstart.clone(),!e.hasProperty("rdate")&&!e.hasProperty("rrule")&&!e.hasProperty("recurrence-id")){this.ruleDate=this.last.clone(),this.complete=!0;return}if(e.hasProperty("rdate")&&(this.ruleDates=this._extractDates(e,"rdate"),this.ruleDates[0]&&this.ruleDates[0].compare(this.dtstart)<0?(this.ruleDateInc=0,this.last=this.ruleDates[0].clone()):this.ruleDateInc=Tr(this.ruleDates,this.last,(n,s)=>n.compare(s)),this.ruleDate=this.ruleDates[this.ruleDateInc]),e.hasProperty("rrule")){let n=e.getAllProperties("rrule"),s=0,i=n.length,r,o;for(;s<i;s++)r=n[s].getFirstValue(),o=r.iterator(this.dtstart),this.ruleIterators.push(o),o.next()}e.hasProperty("exdate")&&(this.exDates=this._extractDates(e,"exdate"),this.exDateInc=Tr(this.exDates,this.last,(n,s)=>n.compare(s)),this.exDate=this.exDates[this.exDateInc])}_nextExDay(){this.exDate=this.exDates[++this.exDateInc]}_nextRuleDay(){this.ruleDate=this.ruleDates[++this.ruleDateInc]}_nextRecurrenceIter(){let e=this.ruleIterators;if(e.length===0)return null;let n=e.length,s,i,r=0,o;for(;r<n;r++){if(s=e[r],i=s.last,s.completed){n--,r!==0&&r--,e.splice(r,1);continue}(!o||o.last.compare(i)>0)&&(o=s)}return o}}const ga=class ga{constructor(e,n){U(this,"exceptions",null);U(this,"strictExceptions",!1);e instanceof Wn||(n=e,e=null),e?this.component=e:this.component=new Wn("vevent"),this._rangeExceptionCache=Object.create(null),this.exceptions=Object.create(null),this.rangeExceptions=[],n&&n.strictExceptions&&(this.strictExceptions=n.strictExceptions),n&&n.exceptions?n.exceptions.forEach(this.relateException,this):this.component.parent&&!this.isRecurrenceException()&&this.component.parent.getAllSubcomponents("vevent").forEach(function(s){s.hasProperty("recurrence-id")&&this.relateException(s)},this)}relateException(e){if(this.isRecurrenceException())throw new Error("cannot relate exception to exceptions");if(e instanceof Wn&&(e=new ga(e)),this.strictExceptions&&e.uid!==this.uid)throw new Error("attempted to relate unrelated exception");let n=e.recurrenceId.toString();if(this.exceptions[n]=e,e.modifiesFuture()){let s=[e.recurrenceId.toUnixTime(),n],i=Tr(this.rangeExceptions,s,Vp);this.rangeExceptions.splice(i,0,s)}}modifiesFuture(){return this.component.hasProperty("recurrence-id")?this.component.getFirstProperty("recurrence-id").getParameter("range")===ga.THISANDFUTURE:!1}findRangeException(e){if(!this.rangeExceptions.length)return null;let n=e.toUnixTime(),s=Tr(this.rangeExceptions,[n],Vp);if(s-=1,s<0)return null;let i=this.rangeExceptions[s];return n<i[0]?null:i[1]}getOccurrenceDetails(e){let n=e.toString(),s=e.convertToZone(Qe.utcTimezone).toString(),i,r={recurrenceId:e};if(n in this.exceptions)i=r.item=this.exceptions[n],r.startDate=i.startDate,r.endDate=i.endDate,r.item=i;else if(s in this.exceptions)i=this.exceptions[s],r.startDate=i.startDate,r.endDate=i.endDate,r.item=i;else{let o=this.findRangeException(e),a;if(o){let l=this.exceptions[o];r.item=l;let c=this._rangeExceptionCache[o];if(!c){let f=l.recurrenceId.clone(),h=l.startDate.clone();f.zone=h.zone,c=h.subtractDate(f),this._rangeExceptionCache[o]=c}let u=e.clone();u.zone=l.startDate.zone,u.addDuration(c),a=u.clone(),a.addDuration(l.duration),r.startDate=u,r.endDate=a}else a=e.clone(),a.addDuration(this.duration),r.endDate=a,r.startDate=e,r.item=this}return r}iterator(e){return new Sw({component:this.component,dtstart:e||this.startDate})}isRecurring(){let e=this.component;return e.hasProperty("rrule")||e.hasProperty("rdate")}isRecurrenceException(){return this.component.hasProperty("recurrence-id")}getRecurrenceTypes(){let e=this.component.getAllProperties("rrule"),n=0,s=e.length,i=Object.create(null);for(;n<s;n++){let r=e[n].getFirstValue();i[r.freq]=!0}return i}get uid(){return this._firstProp("uid")}set uid(e){this._setProp("uid",e)}get startDate(){return this._firstProp("dtstart")}set startDate(e){this._setTime("dtstart",e)}get endDate(){let e=this._firstProp("dtend");if(!e){let n=this._firstProp("duration");e=this.startDate.clone(),n?e.addDuration(n):e.isDate&&(e.day+=1)}return e}set endDate(e){this.component.hasProperty("duration")&&this.component.removeProperty("duration"),this._setTime("dtend",e)}get duration(){let e=this._firstProp("duration");return e||this.endDate.subtractDateTz(this.startDate)}set duration(e){this.component.hasProperty("dtend")&&this.component.removeProperty("dtend"),this._setProp("duration",e)}get location(){return this._firstProp("location")}set location(e){this._setProp("location",e)}get attendees(){return this.component.getAllProperties("attendee")}get summary(){return this._firstProp("summary")}set summary(e){this._setProp("summary",e)}get description(){return this._firstProp("description")}set description(e){this._setProp("description",e)}get color(){return this._firstProp("color")}set color(e){this._setProp("color",e)}get organizer(){return this._firstProp("organizer")}set organizer(e){this._setProp("organizer",e)}get sequence(){return this._firstProp("sequence")}set sequence(e){this._setProp("sequence",e)}get recurrenceId(){return this._firstProp("recurrence-id")}set recurrenceId(e){this._setTime("recurrence-id",e)}_setTime(e,n){let s=this.component.getFirstProperty(e);s||(s=new Er(e),this.component.addProperty(s)),n.zone===Qe.localTimezone||n.zone===Qe.utcTimezone?s.removeParameter("tzid"):s.setParameter("tzid",n.zone.tzid),s.setValue(n)}_setProp(e,n){this.component.updatePropertyWithValue(e,n)}_firstProp(e){return this.component.getFirstPropertyValue(e)}toString(){return this.component.toString()}};U(ga,"THISANDFUTURE","THISANDFUTURE");let yc=ga;function Vp(t,e){return t[0]>e[0]?1:e[0]>t[0]?-1:0}class xM{constructor(e){U(this,"parseEvent",!0);U(this,"parseTimezone",!0);U(this,"oncomplete",function(){});U(this,"onerror",function(e){});U(this,"ontimezone",function(e){});U(this,"onevent",function(e){});typeof e>"u"&&(e={});for(let[n,s]of Object.entries(e))this[n]=s}process(e){typeof e=="string"&&(e=Ze(e)),e instanceof Wn||(e=new Wn(e));let n=e.getAllSubcomponents(),s=0,i=n.length,r;for(;s<i;s++)switch(r=n[s],r.name){case"vtimezone":if(this.parseTimezone){let o=r.getFirstPropertyValue("tzid");o&&this.ontimezone(new Qe({tzid:o,component:r}))}break;case"vevent":this.parseEvent&&this.onevent(new yc(r));break;default:continue}this.oncomplete()}}var Vu={foldLength:75,debug:!1,newLineChar:`\r
`,Binary:eu,Component:Wn,ComponentParser:xM,Duration:mn,Event:yc,Period:Ai,Property:Er,Recur:hn,RecurExpansion:Sw,RecurIterator:Na,Time:ge,Timezone:Qe,TimezoneService:mc,UtcOffset:Es,VCardTime:$i,parse:Ze,stringify:gt,design:Gt,helpers:mM},Tt;(function(t){t[t.SECOND=0]="SECOND",t[t.QUARTER_MINUTE=1]="QUARTER_MINUTE",t[t.MINUTE=2]="MINUTE",t[t.QUARTER_HOUR=3]="QUARTER_HOUR",t[t.HOUR=4]="HOUR",t[t.DAY=5]="DAY",t[t.MONTH=6]="MONTH",t[t.YEAR=7]="YEAR",t[t.DECADE=8]="DECADE",t[t.CENT=9]="CENT"})(Tt||(Tt={}));Tt.CENT+"",Tt.DECADE+"",Tt.YEAR+"",Tt.MONTH+"",Tt.DAY+"",Tt.HOUR+"",Tt.MINUTE+"",Tt.QUARTER_HOUR+"",Tt.QUARTER_MINUTE+"",Tt.SECOND+"";Tt.CENT+"",Tt.DECADE+"",Tt.YEAR+"",Tt.MONTH+"",Tt.DAY+"",Tt.HOUR+"",Tt.QUARTER_HOUR+"",Tt.MINUTE+"",Tt.QUARTER_MINUTE+"",Tt.SECOND+"";function CM(t,e,n,s){const i=t[e],r=i.match(zc);if(r){const o={from:n[e],to:n[e]+r[0].length,type:Ne.Section};s.ranges.push(o);const a=xD(i,r,o),{properties:l,i:c,propOrder:u}=ww(t,n,e+1,s);a.properties=l,a.propOrder=u;let f=l.timezone||l.tz;return typeof f!="string"&&typeof f!="number"&&(f=void 0),f&&(Ui(f,s.cache)||s.parseMessages.push({type:"error",message:`Unable to parse timezone "${f}"`,pos:[o.from,o.to]})),s.push(a),s.startFoldableSection({type:Ne.Section,startLine:e,startIndex:n[e],endIndex:n[e]+i.length,foldStartIndex:n[e]+i.length}),{end:c}}return!1}let AM=[],NM=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,n=0;e<t.length;e++)(e%2?NM:AM).push(n=n+t[e])})();class Lr{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,s){[e,n]=Oo(this,e,n);let i=[];return this.decompose(0,e,i,2),s.length&&s.decompose(0,s.length,i,3),this.decompose(n,this.length,i,1),Ys.from(i,this.length-(n-e)+s.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=Oo(this,e,n);let s=[];return this.decompose(e,n,s,0),Ys.from(s,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),s=this.length-this.scanIdentical(e,-1),i=new ma(this),r=new ma(e);for(let o=n,a=n;;){if(i.next(o),r.next(o),o=0,i.lineBreak!=r.lineBreak||i.done!=r.done||i.value!=r.value)return!1;if(a+=i.value.length,i.done||a>=s)return!0}}iter(e=1){return new ma(this,e)}iterRange(e,n=this.length){return new kw(this,e,n)}iterLines(e,n){let s;if(e==null)s=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;s=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new _w(s)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Lr.empty:e.length<=32?new St(e):Ys.from(St.split(e,[]))}}class St extends Lr{constructor(e,n=LM(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,s,i){for(let r=0;;r++){let o=this.text[r],a=i+o.length;if((n?s:a)>=e)return new RM(i,a,s,o);i=a+1,s++}}decompose(e,n,s,i){let r=e<=0&&n>=this.length?this:new St(qp(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let o=s.pop(),a=ql(r.text,o.text.slice(),0,r.length);if(a.length<=32)s.push(new St(a,o.length+r.length));else{let l=a.length>>1;s.push(new St(a.slice(0,l)),new St(a.slice(l)))}}else s.push(r)}replace(e,n,s){if(!(s instanceof St))return super.replace(e,n,s);[e,n]=Oo(this,e,n);let i=ql(this.text,ql(s.text,qp(this.text,0,e)),n),r=this.length+s.length-(n-e);return i.length<=32?new St(i,r):Ys.from(St.split(i,[]),r)}sliceString(e,n=this.length,s=`
`){[e,n]=Oo(this,e,n);let i="";for(let r=0,o=0;r<=n&&o<this.text.length;o++){let a=this.text[o],l=r+a.length;r>e&&o&&(i+=s),e<l&&n>r&&(i+=a.slice(Math.max(0,e-r),n-r)),r=l+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let s=[],i=-1;for(let r of e)s.push(r),i+=r.length+1,s.length==32&&(n.push(new St(s,i)),s=[],i=-1);return i>-1&&n.push(new St(s,i)),n}}class Ys extends Lr{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let s of e)this.lines+=s.lines}lineInner(e,n,s,i){for(let r=0;;r++){let o=this.children[r],a=i+o.length,l=s+o.lines-1;if((n?l:a)>=e)return o.lineInner(e,n,s,i);i=a+1,s=l+1}}decompose(e,n,s,i){for(let r=0,o=0;o<=n&&r<this.children.length;r++){let a=this.children[r],l=o+a.length;if(e<=l&&n>=o){let c=i&((o<=e?1:0)|(l>=n?2:0));o>=e&&l<=n&&!c?s.push(a):a.decompose(e-o,n-o,s,c)}o=l+1}}replace(e,n,s){if([e,n]=Oo(this,e,n),s.lines<this.lines)for(let i=0,r=0;i<this.children.length;i++){let o=this.children[i],a=r+o.length;if(e>=r&&n<=a){let l=o.replace(e-r,n-r,s),c=this.lines-o.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let u=this.children.slice();return u[i]=l,new Ys(u,this.length-(n-e)+s.length)}return super.replace(r,a,l)}r=a+1}return super.replace(e,n,s)}sliceString(e,n=this.length,s=`
`){[e,n]=Oo(this,e,n);let i="";for(let r=0,o=0;r<this.children.length&&o<=n;r++){let a=this.children[r],l=o+a.length;o>e&&r&&(i+=s),e<l&&n>o&&(i+=a.sliceString(e-o,n-o,s)),o=l+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof Ys))return 0;let s=0,[i,r,o,a]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,r+=n){if(i==o||r==a)return s;let l=this.children[i],c=e.children[r];if(l!=c)return s+l.scanIdentical(c,n);s+=l.length+1}}static from(e,n=e.reduce((s,i)=>s+i.length+1,-1)){let s=0;for(let d of e)s+=d.lines;if(s<32){let d=[];for(let y of e)y.flatten(d);return new St(d,n)}let i=Math.max(32,s>>5),r=i<<1,o=i>>1,a=[],l=0,c=-1,u=[];function f(d){let y;if(d.lines>r&&d instanceof Ys)for(let m of d.children)f(m);else d.lines>o&&(l>o||!l)?(h(),a.push(d)):d instanceof St&&l&&(y=u[u.length-1])instanceof St&&d.lines+y.lines<=32?(l+=d.lines,c+=d.length+1,u[u.length-1]=new St(y.text.concat(d.text),y.length+1+d.length)):(l+d.lines>i&&h(),l+=d.lines,c+=d.length+1,u.push(d))}function h(){l!=0&&(a.push(u.length==1?u[0]:Ys.from(u,c)),c=-1,l=u.length=0)}for(let d of e)f(d);return h(),a.length==1?a[0]:new Ys(a,n)}}Lr.empty=new St([""],0);function LM(t){let e=-1;for(let n of t)e+=n.length+1;return e}function ql(t,e,n=0,s=1e9){for(let i=0,r=0,o=!0;r<t.length&&i<=s;r++){let a=t[r],l=i+a.length;l>=n&&(l>s&&(a=a.slice(0,s-i)),i<n&&(a=a.slice(n-i)),o?(e[e.length-1]+=a,o=!1):e.push(a)),i=l+1}return e}function qp(t,e,n){return ql(t,[""],e,n)}class ma{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof St?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let s=this.nodes.length-1,i=this.nodes[s],r=this.offsets[s],o=r>>1,a=i instanceof St?i.text.length:i.children.length;if(o==(n>0?a:0)){if(s==0)return this.done=!0,this.value="",this;n>0&&this.offsets[s-1]++,this.nodes.pop(),this.offsets.pop()}else if((r&1)==(n>0?0:1)){if(this.offsets[s]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof St){let l=i.text[o+(n<0?-1:0)];if(this.offsets[s]+=n,l.length>Math.max(0,e))return this.value=e==0?l:n>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[o+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[s]+=n):(n<0&&this.offsets[s]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof St?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class kw{constructor(e,n,s){this.value="",this.done=!1,this.cursor=new ma(e,n>s?-1:1),this.pos=n>s?e.length:0,this.from=Math.min(n,s),this.to=Math.max(n,s)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let s=n<0?this.pos-this.from:this.to-this.pos;e>s&&(e=s),s-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=s?i:n<0?i.slice(i.length-s):i.slice(0,s),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class _w{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:s,value:i}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):s?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Lr.prototype[Symbol.iterator]=function(){return this.iter()},ma.prototype[Symbol.iterator]=kw.prototype[Symbol.iterator]=_w.prototype[Symbol.iterator]=function(){return this});class RM{constructor(e,n,s,i){this.from=e,this.to=n,this.number=s,this.text=i}get length(){return this.to-this.from}}function Oo(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}var Gf=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(Gf||(Gf={}));let PM;try{PM=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}Gf.TrackDel;class gc{constructor(e,n,s){this.from=e,this.to=n,this.value=s}static create(e,n,s){return new gc(e,n,s)}}function Zf(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class cd{constructor(e,n,s,i){this.from=e,this.to=n,this.value=s,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,s,i=0){let r=s?this.to:this.from;for(let o=i,a=r.length;;){if(o==a)return o;let l=o+a>>1,c=r[l]-e||(s?this.value[l].endSide:this.value[l].startSide)-n;if(l==o)return c>=0?o:a;c>=0?a=l:o=l+1}}between(e,n,s,i){for(let r=this.findIndex(n,-1e9,!0),o=this.findIndex(s,1e9,!1,r);r<o;r++)if(i(this.from[r]+e,this.to[r]+e,this.value[r])===!1)return!1}map(e,n){let s=[],i=[],r=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],u=this.from[l]+e,f=this.to[l]+e,h,d;if(u==f){let y=n.mapPos(u,c.startSide,c.mapMode);if(y==null||(h=d=y,c.startSide!=c.endSide&&(d=n.mapPos(u,c.endSide),d<h)))continue}else if(h=n.mapPos(u,c.startSide),d=n.mapPos(f,c.endSide),h>d||h==d&&c.startSide>0&&c.endSide<=0)continue;(d-h||c.endSide-c.startSide)<0||(o<0&&(o=h),c.point&&(a=Math.max(a,d-h)),s.push(c),i.push(h-o),r.push(d-o))}return{mapped:s.length?new cd(i,r,s,a):null,pos:o}}}class _n{constructor(e,n,s,i){this.chunkPos=e,this.chunk=n,this.nextLayer=s,this.maxPoint=i}static create(e,n,s,i){return new _n(e,n,s,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:s=!1,filterFrom:i=0,filterTo:r=this.length}=e,o=e.filter;if(n.length==0&&!o)return this;if(s&&(n=n.slice().sort(Zf)),this.isEmpty)return n.length?_n.of(n):this;let a=new Dw(this,null,-1).goto(0),l=0,c=[],u=new vc;for(;a.value||l<n.length;)if(l<n.length&&(a.from-n[l].from||a.startSide-n[l].value.startSide)>=0){let f=n[l++];u.addInner(f.from,f.to,f.value)||c.push(f)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(a.chunkIndex)<n[l].from)&&(!o||i>this.chunkEnd(a.chunkIndex)||r<this.chunkPos[a.chunkIndex])&&u.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||i>a.to||r<a.from||o(a.from,a.to,a.value))&&(u.addInner(a.from,a.to,a.value)||c.push(gc.create(a.from,a.to,a.value))),a.next());return u.finishInner(this.nextLayer.isEmpty&&!c.length?_n.empty:this.nextLayer.update({add:c,filter:o,filterFrom:i,filterTo:r}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],s=[],i=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],c=e.touchesRange(a,a+l.length);if(c===!1)i=Math.max(i,l.maxPoint),n.push(l),s.push(e.mapPos(a));else if(c===!0){let{mapped:u,pos:f}=l.map(a,e);u&&(i=Math.max(i,u.maxPoint),n.push(u),s.push(f))}}let r=this.nextLayer.map(e);return n.length==0?r:new _n(s,n,r||_n.empty,i)}between(e,n,s){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let r=this.chunkPos[i],o=this.chunk[i];if(n>=r&&e<=r+o.length&&o.between(r,e-r,n-r,s)===!1)return}this.nextLayer.between(e,n,s)}}iter(e=0){return Ra.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return Ra.from(e).goto(n)}static compare(e,n,s,i,r=-1){let o=e.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=r),a=n.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=r),l=Kp(o,a,s),c=new Go(o,l,r),u=new Go(a,l,r);s.iterGaps((f,h,d)=>Gp(c,f,u,h,d,i)),s.empty&&s.length==0&&Gp(c,0,u,0,0,i)}static eq(e,n,s=0,i){i==null&&(i=999999999);let r=e.filter(u=>!u.isEmpty&&n.indexOf(u)<0),o=n.filter(u=>!u.isEmpty&&e.indexOf(u)<0);if(r.length!=o.length)return!1;if(!r.length)return!0;let a=Kp(r,o),l=new Go(r,a,0).goto(s),c=new Go(o,a,0).goto(s);for(;;){if(l.to!=c.to||!Xf(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>i)return!0;l.next(),c.next()}}static spans(e,n,s,i,r=-1){let o=new Go(e,null,r).goto(n),a=n,l=o.openStart;for(;;){let c=Math.min(o.to,s);if(o.point){let u=o.activeForPoint(o.to),f=o.pointFrom<n?u.length+1:o.point.startSide<0?u.length:Math.min(u.length,l);i.point(a,c,o.point,u,f,o.pointRank),l=Math.min(o.openEnd(c),u.length)}else c>a&&(i.span(a,c,o.active,l),l=o.openEnd(c));if(o.to>s)return l+(o.point&&o.to>s?1:0);a=o.to,o.next()}}static of(e,n=!1){let s=new vc;for(let i of e instanceof gc?[e]:n?$M(e):e)s.add(i.from,i.to,i.value);return s.finish()}static join(e){if(!e.length)return _n.empty;let n=e[e.length-1];for(let s=e.length-2;s>=0;s--)for(let i=e[s];i!=_n.empty;i=i.nextLayer)n=new _n(i.chunkPos,i.chunk,n,Math.max(i.maxPoint,n.maxPoint));return n}}_n.empty=new _n([],[],null,-1);function $M(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let s=t[n];if(Zf(e,s)>0)return t.slice().sort(Zf);e=s}return t}_n.empty.nextLayer=_n.empty;class vc{finishChunk(e){this.chunks.push(new cd(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,s){this.addInner(e,n,s)||(this.nextLayer||(this.nextLayer=new vc)).add(e,n,s)}addInner(e,n,s){let i=e-this.lastTo||s.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||s.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=s,this.lastFrom=e,this.lastTo=n,this.value.push(s),s.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let s=n.value.length-1;return this.last=n.value[s],this.lastFrom=n.from[s]+e,this.lastTo=n.to[s]+e,!0}finish(){return this.finishInner(_n.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=_n.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function Kp(t,e,n){let s=new Map;for(let r of t)for(let o=0;o<r.chunk.length;o++)r.chunk[o].maxPoint<=0&&s.set(r.chunk[o],r.chunkPos[o]);let i=new Set;for(let r of e)for(let o=0;o<r.chunk.length;o++){let a=s.get(r.chunk[o]);a!=null&&(n?n.mapPos(a):a)==r.chunkPos[o]&&!(n!=null&&n.touchesRange(a,a+r.chunk[o].length))&&i.add(r.chunk[o])}return i}class Dw{constructor(e,n,s,i=0){this.layer=e,this.skip=n,this.minPoint=s,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,s){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,s=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!s||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],s=e+n.from[this.rangeIndex];if(this.from=s,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Ra{constructor(e){this.heap=e}static from(e,n=null,s=-1){let i=[];for(let r=0;r<e.length;r++)for(let o=e[r];!o.isEmpty;o=o.nextLayer)o.maxPoint>=s&&i.push(new Dw(o,n,s,r));return i.length==1?i[0]:new Ra(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let s of this.heap)s.goto(e,n);for(let s=this.heap.length>>1;s>=0;s--)qu(this.heap,s);return this.next(),this}forward(e,n){for(let s of this.heap)s.forward(e,n);for(let s=this.heap.length>>1;s>=0;s--)qu(this.heap,s);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),qu(this.heap,0)}}}function qu(t,e){for(let n=t[e];;){let s=(e<<1)+1;if(s>=t.length)break;let i=t[s];if(s+1<t.length&&i.compare(t[s+1])>=0&&(i=t[s+1],s++),n.compare(i)<0)break;t[s]=n,t[e]=i,e=s}}class Go{constructor(e,n,s){this.minPoint=s,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Ra.from(e,n,s)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){xl(this.active,e),xl(this.activeTo,e),xl(this.activeRank,e),this.minActive=Zp(this.active,this.activeTo)}addActive(e){let n=0,{value:s,to:i,rank:r}=this.cursor;for(;n<this.activeRank.length&&(r-this.activeRank[n]||i-this.activeTo[n])>0;)n++;Cl(this.active,n,s),Cl(this.activeTo,n,i),Cl(this.activeRank,n,r),e&&Cl(e,n,this.cursor.from),this.minActive=Zp(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let s=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),s&&xl(s,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let r=this.cursor.value;if(!r.point)this.addActive(s),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=r,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=r.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(s){this.openStart=0;for(let i=s.length-1;i>=0&&s[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let s=this.active.length-1;s>=0&&!(this.activeRank[s]<this.pointRank);s--)(this.activeTo[s]>e||this.activeTo[s]==e&&this.active[s].endSide>=this.point.endSide)&&n.push(this.active[s]);return n.reverse()}openEnd(e){let n=0;for(let s=this.activeTo.length-1;s>=0&&this.activeTo[s]>e;s--)n++;return n}}function Gp(t,e,n,s,i,r){t.goto(e),n.goto(s);let o=s+i,a=s,l=s-e;for(;;){let c=t.to+l-n.to,u=c||t.endSide-n.endSide,f=u<0?t.to+l:n.to,h=Math.min(f,o);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&Xf(t.activeForPoint(t.to),n.activeForPoint(n.to))||r.comparePoint(a,h,t.point,n.point):h>a&&!Xf(t.active,n.active)&&r.compareRange(a,h,t.active,n.active),f>o)break;(c||t.openEnd!=n.openEnd)&&r.boundChange&&r.boundChange(f),a=f,u<=0&&t.next(),u>=0&&n.next()}}function Xf(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function xl(t,e){for(let n=e,s=t.length-1;n<s;n++)t[n]=t[n+1];t.pop()}function Cl(t,e,n){for(let s=t.length-1;s>=e;s--)t[s+1]=t[s];t[e]=n}function Zp(t,e){let n=-1,s=1e9;for(let i=0;i<e.length;i++)(e[i]-s||t[i].endSide-t[n].endSide)<0&&(n=i,s=e[i]);return n}const YM="0.15.0",FM=t=>{const e=t instanceof Lr?t.toJSON():Array.isArray(t)?t:t.split(`
`);let n=[];for(let s=0;s<e.length;s++)s===0&&n.push(0),n.push((s===e.length-1?0:1)+e[s].length+n[n.length-1]||0);return{lines:e,lengthAtIndex:n}};function Xp(t,e,n){const s={version:YM};if(!t)return{...kD(),cache:e,parser:s,parseMessages:[]};const{lines:i,lengthAtIndex:r}=FM(t);return{...zM(i,r,e,n),cache:e,parser:s}}function UM(t,e,n,s,i){let r=t;const o=n.length;for(;r<n.length&&r<o;){const a=n[r];if(sM(a,r,s,e)){r++;continue}const l=CM(n,r,s,e);if(l){r=l.end;continue}r=QI(a,n,r,s,e)+1}{const a=r-1;for(;e.currentPath.length>1;)e.endCurrentGroup(s[a]+n[a].length,{line:a,index:n[a].length})}return e}function zM(t,e,n,s){const i=new eM(s,n),r=ZI(t,e,i);return UM(r,i,t,e),i.toTimeline()}const ud=(t,e,n)=>{const s=t.toDateTime.diff(t.fromDateTime);e.dtstart=t.fromDateTime.toISO();const i=new ue(xO(e)),r=[];return i.all((o,a)=>a>=n?!1:(r.push(H.fromJSDate(o)),!0)),r.length?r.map(o=>({fromDateTime:o,toDateTime:o.plus(s)})):[t]},Zo=["22, 163, 76","2, 132, 199","212, 50, 56","242, 202, 45","80, 73, 229","145, 57, 234","214, 45, 123","234, 88, 11","168, 162, 157","255, 255, 255","0, 0, 0"],HM=["green","blue","red","yellow","indigo","purple","pink","orange","gray","white","black"];function BM(t){t=t.replace("#","").replace(")","");const e=t.length===3;var n=parseInt(e?t.slice(0,1).repeat(2):t.slice(0,2),16);if(!isNaN(n)){var s=parseInt(e?t.slice(1,2).repeat(2):t.slice(2,4),16);if(!isNaN(s)){var i=parseInt(e?t.slice(2,3).repeat(2):t.slice(4,6),16);if(!isNaN(i))return`${n}, ${s}, ${i}`}}}const WM=(t,e)=>{const n={},s=t.ranges.flatMap(i=>{var a;if(i.type!==Ne.Tag)return[];if(n[i.content.tag])return i.content.color=n[i.content.tag],[i];const r=((a=i.content)==null?void 0:a.tag)&&t.header[")"+i.content.tag];let o;if(o=!!r&&(typeof r=="string"&&r||typeof r=="object"&&r.color),o){const l=HM.indexOf(o);if(l===-1){const c=BM(o);c?i.content.color=c:i.content.color=Zo[e++%Zo.length]}else i.content.color=Zo[l]}else i.content.color=Zo[e++%Zo.length];return n[i.content.tag]=i.content.color,[i]});return[n,s,e]},Jf=t=>A(()=>{let n=0;const s={};for(const[i,r]of[["default",t]]){const[o,a,l]=WM(r,n);s[i]=o,n=l}return s}),jM=()=>{let t="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<32;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},VM=t=>{var h;const e=new Map,n=typeof window<"u"&&window.__markwhen_wss_url;let s,i=!1;n&&(s=new WebSocket(n),s.onopen=()=>{i=!0,l("appState"),l("markwhenState")});let r;const o=()=>r||(r=acquireVsCodeApi(),r),a=d=>{var y;s&&i?s.send(JSON.stringify(d)):typeof acquireVsCodeApi<"u"?(y=o())==null||y.postMessage(d):typeof window<"u"&&typeof window.parent<"u"&&window.parent!==window.self?window.parent.postMessage(d,"*"):console.error("Nothing to post to")},l=(d,y)=>{const m=`markwhen_${jM()}`;return new Promise((p,g)=>{e.set(m,{resolve:p,reject:g}),a({type:d,request:!0,id:m,params:y})})},c=(d,y,m)=>a({type:y,response:!0,id:d,params:m}),u=d=>{var m,p;if(!d.data.id||!d.data.id.startsWith("markwhen"))return;const y=d.data;if(y.response)(m=e.get(y.id))==null||m.resolve(y),e.delete(y.id);else if(y.request){const g=(p=t==null?void 0:t[y.type])==null?void 0:p.call(t,y.params);Promise.resolve(g).then(w=>{c(y.id,y.type,w)})}else console.error("Not a request or response",y)};s?s.onmessage=d=>{const y=new MessageEvent("message",{data:JSON.parse(d.data)});u(y)}:typeof window<"u"&&window.addEventListener("message",u);const f=typeof window<"u"&&window.__markwhen_initial_state;if(f&&t&&t.markwhenState){const y=Jf(f.parsed).value;t.markwhenState(f),(h=t.appState)==null||h.call(t,{colorMap:y})}else typeof window<"u"&&!s&&(l("appState"),l("markwhenState"));return{postRequest:l}};/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Kr=typeof document<"u";function Ow(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function qM(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Ow(t.default)}const yt=Object.assign;function Ku(t,e){const n={};for(const s in e){const i=e[s];n[s]=Ms(i)?i.map(t):t(i)}return n}const pa=()=>{},Ms=Array.isArray,Iw=/#/g,KM=/&/g,GM=/\//g,ZM=/=/g,XM=/\?/g,Mw=/\+/g,JM=/%5B/g,QM=/%5D/g,xw=/%5E/g,ex=/%60/g,Cw=/%7B/g,tx=/%7C/g,Aw=/%7D/g,nx=/%20/g;function fd(t){return encodeURI(""+t).replace(tx,"|").replace(JM,"[").replace(QM,"]")}function sx(t){return fd(t).replace(Cw,"{").replace(Aw,"}").replace(xw,"^")}function Qf(t){return fd(t).replace(Mw,"%2B").replace(nx,"+").replace(Iw,"%23").replace(KM,"%26").replace(ex,"`").replace(Cw,"{").replace(Aw,"}").replace(xw,"^")}function ix(t){return Qf(t).replace(ZM,"%3D")}function rx(t){return fd(t).replace(Iw,"%23").replace(XM,"%3F")}function ox(t){return t==null?"":rx(t).replace(GM,"%2F")}function Pa(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const ax=/\/$/,lx=t=>t.replace(ax,"");function Gu(t,e,n="/"){let s,i={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),i=t(r)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=hx(s??e,n),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:Pa(o)}}function cx(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function ux(t,e,n){const s=e.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&Io(e.matched[s],n.matched[i])&&Nw(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Io(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Nw(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!fx(t[n],e[n]))return!1;return!0}function fx(t,e){return Ms(t)?Jp(t,e):Ms(e)?Jp(e,t):t===e}function Jp(t,e){return Ms(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function hx(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(o).join("/")}const gi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var $a;(function(t){t.pop="pop",t.push="push"})($a||($a={}));var wc;(function(t){t.back="back",t.forward="forward",t.unknown=""})(wc||(wc={}));const Zu="";function dx(t){if(!t)if(Kr){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),lx(t)}const mx=/^[^#]+#/;function px(t,e){return t.replace(mx,"#")+e}function yx(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const gx=()=>({left:window.scrollX,top:window.scrollY});function vx(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=yx(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Qp(t,e){return(history.state?history.state.position-e:-1)+t}const eh=new Map;function wx(t,e){eh.set(t,e)}function bx(t){const e=eh.get(t);return eh.delete(t),e}function Tx(t=""){let e=[],n=[Zu],s=0;t=dx(t);function i(a){s++,s!==n.length&&n.splice(s),n.push(a)}function r(a,l,{direction:c,delta:u}){const f={direction:c,delta:u,type:$a.pop};for(const h of e)h(a,l,f)}const o={location:Zu,state:{},base:t,createHref:px.bind(null,t),replace(a){n.splice(s--,1),i(a)},push(a,l){i(a)},listen(a){return e.push(a),()=>{const l=e.indexOf(a);l>-1&&e.splice(l,1)}},destroy(){e=[],n=[Zu],s=0},go(a,l=!0){const c=this.location,u=a<0?wc.back:wc.forward;s=Math.max(0,Math.min(s+a,n.length-1)),l&&r(this.location,c,{direction:u,delta:a})}};return Object.defineProperty(o,"location",{enumerable:!0,get:()=>n[s]}),o}function Ex(t){return typeof t=="string"||t&&typeof t=="object"}function Lw(t){return typeof t=="string"||typeof t=="symbol"}const Rw=Symbol("");var ey;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(ey||(ey={}));function Mo(t,e){return yt(new Error,{type:t,[Rw]:!0},e)}function Ks(t,e){return t instanceof Error&&Rw in t&&(e==null||!!(t.type&e))}const ty="[^/]+?",Sx={sensitive:!1,strict:!1,start:!0,end:!0},kx=/[.+*?^${}()[\]/\\]/g;function _x(t,e){const n=yt({},Sx,e),s=[];let i=n.start?"^":"";const r=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let f=0;f<c.length;f++){const h=c[f];let d=40+(n.sensitive?.25:0);if(h.type===0)f||(i+="/"),i+=h.value.replace(kx,"\\$&"),d+=40;else if(h.type===1){const{value:y,repeatable:m,optional:p,regexp:g}=h;r.push({name:y,repeatable:m,optional:p});const w=g||ty;if(w!==ty){d+=10;try{new RegExp(`(${w})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${y}" (${w}): `+k.message)}}let T=m?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;f||(T=p&&c.length<2?`(?:/${T})`:"/"+T),p&&(T+="?"),i+=T,d+=20,p&&(d+=-8),m&&(d+=-20),w===".*"&&(d+=-50)}u.push(d)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(o),f={};if(!u)return null;for(let h=1;h<u.length;h++){const d=u[h]||"",y=r[h-1];f[y.name]=d&&y.repeatable?d.split("/"):d}return f}function l(c){let u="",f=!1;for(const h of t){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const d of h)if(d.type===0)u+=d.value;else if(d.type===1){const{value:y,repeatable:m,optional:p}=d,g=y in c?c[y]:"";if(Ms(g)&&!m)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const w=Ms(g)?g.join("/"):g;if(!w)if(p)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${y}"`);u+=w}}return u||"/"}return{re:o,score:s,keys:r,parse:a,stringify:l}}function Dx(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Pw(t,e){let n=0;const s=t.score,i=e.score;for(;n<s.length&&n<i.length;){const r=Dx(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(ny(s))return 1;if(ny(i))return-1}return i.length-s.length}function ny(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Ox={type:0,value:""},Ix=/[a-zA-Z0-9_]/;function Mx(t){if(!t)return[[]];if(t==="/")return[[Ox]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(d){throw new Error(`ERR (${n})/"${c}": ${d}`)}let n=0,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,l,c="",u="";function f(){c&&(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function h(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&f(),o()):l===":"?(f(),n=1):h();break;case 4:h(),n=s;break;case 1:l==="("?n=2:Ix.test(l)?h():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),f(),o(),i}function xx(t,e,n){const s=_x(Mx(t.path),n),i=yt(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function Cx(t,e){const n=[],s=new Map;e=oy({strict:!1,end:!0,sensitive:!1},e);function i(f){return s.get(f)}function r(f,h,d){const y=!d,m=iy(f);m.aliasOf=d&&d.record;const p=oy(e,f),g=[m];if("alias"in f){const k=typeof f.alias=="string"?[f.alias]:f.alias;for(const _ of k)g.push(iy(yt({},m,{components:d?d.record.components:m.components,path:_,aliasOf:d?d.record:m})))}let w,T;for(const k of g){const{path:_}=k;if(h&&_[0]!=="/"){const C=h.record.path,I=C[C.length-1]==="/"?"":"/";k.path=h.record.path+(_&&I+_)}if(w=xx(k,h,p),d?d.alias.push(w):(T=T||w,T!==w&&T.alias.push(w),y&&f.name&&!ry(w)&&o(f.name)),$w(w)&&l(w),m.children){const C=m.children;for(let I=0;I<C.length;I++)r(C[I],w,d&&d.children[I])}d=d||w}return T?()=>{o(T)}:pa}function o(f){if(Lw(f)){const h=s.get(f);h&&(s.delete(f),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(f);h>-1&&(n.splice(h,1),f.record.name&&s.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return n}function l(f){const h=Lx(f,n);n.splice(h,0,f),f.record.name&&!ry(f)&&s.set(f.record.name,f)}function c(f,h){let d,y={},m,p;if("name"in f&&f.name){if(d=s.get(f.name),!d)throw Mo(1,{location:f});p=d.record.name,y=yt(sy(h.params,d.keys.filter(T=>!T.optional).concat(d.parent?d.parent.keys.filter(T=>T.optional):[]).map(T=>T.name)),f.params&&sy(f.params,d.keys.map(T=>T.name))),m=d.stringify(y)}else if(f.path!=null)m=f.path,d=n.find(T=>T.re.test(m)),d&&(y=d.parse(m),p=d.record.name);else{if(d=h.name?s.get(h.name):n.find(T=>T.re.test(h.path)),!d)throw Mo(1,{location:f,currentLocation:h});p=d.record.name,y=yt({},h.params,f.params),m=d.stringify(y)}const g=[];let w=d;for(;w;)g.unshift(w.record),w=w.parent;return{name:p,path:m,params:y,matched:g,meta:Nx(g)}}t.forEach(f=>r(f));function u(){n.length=0,s.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function sy(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function iy(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Ax(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Ax(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function ry(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Nx(t){return t.reduce((e,n)=>yt(e,n.meta),{})}function oy(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function Lx(t,e){let n=0,s=e.length;for(;n!==s;){const r=n+s>>1;Pw(t,e[r])<0?s=r:n=r+1}const i=Rx(t);return i&&(s=e.lastIndexOf(i,s-1)),s}function Rx(t){let e=t;for(;e=e.parent;)if($w(e)&&Pw(t,e)===0)return e}function $w({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Px(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(Mw," "),o=r.indexOf("="),a=Pa(o<0?r:r.slice(0,o)),l=o<0?null:Pa(r.slice(o+1));if(a in e){let c=e[a];Ms(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function ay(t){let e="";for(let n in t){const s=t[n];if(n=ix(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Ms(s)?s.map(r=>r&&Qf(r)):[s&&Qf(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function $x(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Ms(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const Yx=Symbol(""),ly=Symbol(""),hd=Symbol(""),dd=Symbol(""),th=Symbol("");function Xo(){let t=[];function e(s){return t.push(s),()=>{const i=t.indexOf(s);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Ii(t,e,n,s,i,r=o=>o()){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=h=>{h===!1?l(Mo(4,{from:n,to:e})):h instanceof Error?l(h):Ex(h)?l(Mo(2,{from:e,to:h})):(o&&s.enterCallbacks[i]===o&&typeof h=="function"&&o.push(h),a())},u=r(()=>t.call(s&&s.instances[i],e,n,c));let f=Promise.resolve(u);t.length<3&&(f=f.then(c)),f.catch(h=>l(h))})}function Xu(t,e,n,s,i=r=>r()){const r=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Ow(l)){const u=(l.__vccOpts||l)[e];u&&r.push(Ii(u,n,s,o,a,i))}else{let c=l();r.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=qM(u)?u.default:u;o.mods[a]=u,o.components[a]=f;const d=(f.__vccOpts||f)[e];return d&&Ii(d,n,s,o,a,i)()}))}}return r}function cy(t){const e=ks(hd),n=ks(dd),s=A(()=>{const l=Y(t.to);return e.resolve(l)}),i=A(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],f=n.matched;if(!u||!f.length)return-1;const h=f.findIndex(Io.bind(null,u));if(h>-1)return h;const d=uy(l[c-2]);return c>1&&uy(u)===d&&f[f.length-1].path!==d?f.findIndex(Io.bind(null,l[c-2])):h}),r=A(()=>i.value>-1&&Hx(n.params,s.value.params)),o=A(()=>i.value>-1&&i.value===n.matched.length-1&&Nw(n.params,s.value.params));function a(l={}){return zx(l)?e[Y(t.replace)?"replace":"push"](Y(t.to)).catch(pa):Promise.resolve()}return{route:s,href:A(()=>s.value.href),isActive:r,isExactActive:o,navigate:a}}const Fx=Fe({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:cy,setup(t,{slots:e}){const n=Sr(cy(t)),{options:s}=ks(hd),i=A(()=>({[fy(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[fy(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&e.default(n);return t.custom?r:Dh("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),Ux=Fx;function zx(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Hx(t,e){for(const n in e){const s=e[n],i=t[n];if(typeof s=="string"){if(s!==i)return!1}else if(!Ms(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function uy(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const fy=(t,e,n)=>t??e??n,Bx=Fe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=ks(th),i=A(()=>t.route||s.value),r=ks(ly,0),o=A(()=>{let c=Y(r);const{matched:u}=i.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),a=A(()=>i.value.matched[o.value]);Rl(ly,A(()=>o.value+1)),Rl(Yx,a),Rl(th,i);const l=he();return ht(()=>[l.value,a.value,t.name],([c,u,f],[h,d,y])=>{u&&(u.instances[f]=c,d&&d!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=d.leaveGuards),u.updateGuards.size||(u.updateGuards=d.updateGuards))),c&&u&&(!d||!Io(u,d)||!h)&&(u.enterCallbacks[f]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,f=a.value,h=f&&f.components[u];if(!h)return hy(n.default,{Component:h,route:c});const d=f.props[u],y=d?d===!0?c.params:typeof d=="function"?d(c):d:null,p=Dh(h,yt({},y,e,{onVnodeUnmounted:g=>{g.component.isUnmounted&&(f.instances[u]=null)},ref:l}));return hy(n.default,{Component:p,route:c})||p}}});function hy(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Wx=Bx;function jx(t){const e=Cx(t.routes,t),n=t.parseQuery||Px,s=t.stringifyQuery||ay,i=t.history,r=Xo(),o=Xo(),a=Xo(),l=rb(gi);let c=gi;Kr&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Ku.bind(null,$=>""+$),f=Ku.bind(null,ox),h=Ku.bind(null,Pa);function d($,oe){let J,le;return Lw($)?(J=e.getRecordMatcher($),le=oe):le=$,e.addRoute(le,J)}function y($){const oe=e.getRecordMatcher($);oe&&e.removeRoute(oe)}function m(){return e.getRoutes().map($=>$.record)}function p($){return!!e.getRecordMatcher($)}function g($,oe){if(oe=yt({},oe||l.value),typeof $=="string"){const D=Gu(n,$,oe.path),L=e.resolve({path:D.path},oe),j=i.createHref(D.fullPath);return yt(D,L,{params:h(L.params),hash:Pa(D.hash),redirectedFrom:void 0,href:j})}let J;if($.path!=null)J=yt({},$,{path:Gu(n,$.path,oe.path).path});else{const D=yt({},$.params);for(const L in D)D[L]==null&&delete D[L];J=yt({},$,{params:f(D)}),oe.params=f(oe.params)}const le=e.resolve(J,oe),Ye=$.hash||"";le.params=u(h(le.params));const Ke=cx(s,yt({},$,{hash:sx(Ye),path:le.path})),S=i.createHref(Ke);return yt({fullPath:Ke,hash:Ye,query:s===ay?$x($.query):$.query||{}},le,{redirectedFrom:void 0,href:S})}function w($){return typeof $=="string"?Gu(n,$,l.value.path):yt({},$)}function T($,oe){if(c!==$)return Mo(8,{from:oe,to:$})}function k($){return I($)}function _($){return k(yt(w($),{replace:!0}))}function C($){const oe=$.matched[$.matched.length-1];if(oe&&oe.redirect){const{redirect:J}=oe;let le=typeof J=="function"?J($):J;return typeof le=="string"&&(le=le.includes("?")||le.includes("#")?le=w(le):{path:le},le.params={}),yt({query:$.query,hash:$.hash,params:le.path!=null?{}:$.params},le)}}function I($,oe){const J=c=g($),le=l.value,Ye=$.state,Ke=$.force,S=$.replace===!0,D=C(J);if(D)return I(yt(w(D),{state:typeof D=="object"?yt({},Ye,D.state):Ye,force:Ke,replace:S}),oe||J);const L=J;L.redirectedFrom=oe;let j;return!Ke&&ux(s,le,J)&&(j=Mo(16,{to:L,from:le}),X(le,le,!0,!1)),(j?Promise.resolve(j):R(L,le)).catch(F=>Ks(F)?Ks(F,2)?F:z(F):Ee(F,L,le)).then(F=>{if(F){if(Ks(F,2))return I(yt({replace:S},w(F.to),{state:typeof F.to=="object"?yt({},Ye,F.to.state):Ye,force:Ke}),oe||L)}else F=N(L,le,!0,S,Ye);return W(L,le,F),F})}function M($,oe){const J=T($,oe);return J?Promise.reject(J):Promise.resolve()}function x($){const oe=ct.values().next().value;return oe&&typeof oe.runWithContext=="function"?oe.runWithContext($):$()}function R($,oe){let J;const[le,Ye,Ke]=Vx($,oe);J=Xu(le.reverse(),"beforeRouteLeave",$,oe);for(const D of le)D.leaveGuards.forEach(L=>{J.push(Ii(L,$,oe))});const S=M.bind(null,$,oe);return J.push(S),en(J).then(()=>{J=[];for(const D of r.list())J.push(Ii(D,$,oe));return J.push(S),en(J)}).then(()=>{J=Xu(Ye,"beforeRouteUpdate",$,oe);for(const D of Ye)D.updateGuards.forEach(L=>{J.push(Ii(L,$,oe))});return J.push(S),en(J)}).then(()=>{J=[];for(const D of Ke)if(D.beforeEnter)if(Ms(D.beforeEnter))for(const L of D.beforeEnter)J.push(Ii(L,$,oe));else J.push(Ii(D.beforeEnter,$,oe));return J.push(S),en(J)}).then(()=>($.matched.forEach(D=>D.enterCallbacks={}),J=Xu(Ke,"beforeRouteEnter",$,oe,x),J.push(S),en(J))).then(()=>{J=[];for(const D of o.list())J.push(Ii(D,$,oe));return J.push(S),en(J)}).catch(D=>Ks(D,8)?D:Promise.reject(D))}function W($,oe,J){a.list().forEach(le=>x(()=>le($,oe,J)))}function N($,oe,J,le,Ye){const Ke=T($,oe);if(Ke)return Ke;const S=oe===gi,D=Kr?history.state:{};J&&(le||S?i.replace($.fullPath,yt({scroll:S&&D&&D.scroll},Ye)):i.push($.fullPath,Ye)),l.value=$,X($,oe,J,S),z()}let se;function De(){se||(se=i.listen(($,oe,J)=>{if(!os.listening)return;const le=g($),Ye=C(le);if(Ye){I(yt(Ye,{replace:!0}),le).catch(pa);return}c=le;const Ke=l.value;Kr&&wx(Qp(Ke.fullPath,J.delta),gx()),R(le,Ke).catch(S=>Ks(S,12)?S:Ks(S,2)?(I(S.to,le).then(D=>{Ks(D,20)&&!J.delta&&J.type===$a.pop&&i.go(-1,!1)}).catch(pa),Promise.reject()):(J.delta&&i.go(-J.delta,!1),Ee(S,le,Ke))).then(S=>{S=S||N(le,Ke,!1),S&&(J.delta&&!Ks(S,8)?i.go(-J.delta,!1):J.type===$a.pop&&Ks(S,20)&&i.go(-1,!1)),W(le,Ke,S)}).catch(pa)}))}let Xe=Xo(),Re=Xo(),be;function Ee($,oe,J){z($);const le=Re.list();return le.length?le.forEach(Ye=>Ye($,oe,J)):console.error($),Promise.reject($)}function vt(){return be&&l.value!==gi?Promise.resolve():new Promise(($,oe)=>{Xe.add([$,oe])})}function z($){return be||(be=!$,De(),Xe.list().forEach(([oe,J])=>$?J($):oe()),Xe.reset()),$}function X($,oe,J,le){const{scrollBehavior:Ye}=t;if(!Kr||!Ye)return Promise.resolve();const Ke=!J&&bx(Qp($.fullPath,0))||(le||!J)&&history.state&&history.state.scroll||null;return bs().then(()=>Ye($,oe,Ke)).then(S=>S&&vx(S)).catch(S=>Ee(S,$,oe))}const ee=$=>i.go($);let Le;const ct=new Set,os={currentRoute:l,listening:!0,addRoute:d,removeRoute:y,clearRoutes:e.clearRoutes,hasRoute:p,getRoutes:m,resolve:g,options:t,push:k,replace:_,go:ee,back:()=>ee(-1),forward:()=>ee(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:Re.add,isReady:vt,install($){const oe=this;$.component("RouterLink",Ux),$.component("RouterView",Wx),$.config.globalProperties.$router=oe,Object.defineProperty($.config.globalProperties,"$route",{enumerable:!0,get:()=>Y(l)}),Kr&&!Le&&l.value===gi&&(Le=!0,k(i.location).catch(Ye=>{}));const J={};for(const Ye in gi)Object.defineProperty(J,Ye,{get:()=>l.value[Ye],enumerable:!0});$.provide(hd,oe),$.provide(dd,rg(J)),$.provide(th,l);const le=$.unmount;ct.add($),$.unmount=function(){ct.delete($),ct.size<1&&(c=gi,se&&se(),se=null,l.value=gi,Le=!1,be=!1),le()}}};function en($){return $.reduce((oe,J)=>oe.then(()=>x(J)),Promise.resolve())}return os}function Vx(t,e){const n=[],s=[],i=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(t.matched.find(c=>Io(c,a))?s.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Io(c,l))||i.push(l))}return[n,s,i]}function qx(t){return ks(dd)}const Qa=xo("markwhen",()=>{const t=qx(),e=he({colorMap:{default:{}}}),n=he(),s=he(!1),i=he(!0),r=he(I=>{}),o=he(I=>{}),a=he(I=>{}),l=he(typeof window<"u"&&window.__markwhen_initial_state),c=A(()=>{var I,M;if((I=n.value)!=null&&I.rawText)try{return btoa((M=n.value)==null?void 0:M.rawText)}catch{return""}return""}),u=A(()=>{var x;const{user:I,timeline:M}=t.params;return!t.path.includes(".html")&&I?`/${I}`+(M?`/${M}`:""):(x=e.value)!=null&&x.path&&e.value.path!=="/"?e.value.path:`#mw=${c.value}`}),f=A(()=>`https://meridiem.markwhen.com${u.value}`),h=A(()=>`https://timeline.markwhen.com${u.value}`),d=A(()=>`<iframe src="${h.value}" />`);xr(async()=>{var x;const{user:I,timeline:M}=t.params;if(!((x=Array.isArray(I)?I[0]:I)!=null&&x.startsWith("_")||[I,M].some(R=>R==null?void 0:R.includes(".html")))){if(I)try{const R=M?`https://meridiem.markwhen.com/${I}/${M}.mw`:`https://meridiem.markwhen.com/${I}.mw`,W=await fetch(R).catch(()=>{});if(W&&(W.redirected&&(window.location.href=W.url),W.ok)){const N=await W.text(),se=Xp(N);e.value={isDark:!1,colorMap:Jf(se).value},n.value={rawText:N,parsed:se,transformed:se.events},s.value=!0,i.value=!1}}catch{}else if(t.hash&&t.hash.startsWith("#mw=")){const R=atob(t.hash.substring(4)),W=Xp(R);e.value={isDark:!1,colorMap:Jf(W).value},n.value={rawText:R,parsed:W,transformed:W.events},s.value=!0,i.value=!1}}});const{postRequest:y}=VM({appState(I){s.value=!1,i.value=!0,e.value=I},markwhenState:I=>{n.value=I},jumpToPath:({path:I})=>{var M;(M=r.value)==null||M.call(r,I)},jumpToRange:({dateRangeIso:I})=>{var M;(M=o.value)==null||M.call(o,I)},getSvg:I=>{var M;return(M=a.value)==null?void 0:M.call(a,I)}}),m=I=>{y("setHoveringPath",I)},p=I=>{y("setDetailPath",I)},g=(I,M)=>{y("setText",{text:I,at:M})},w=I=>{y("showInEditor",I)},T=I=>{var M;return!!I&&Ba(I,(M=e.value)==null?void 0:M.detailPath)},k=(I,M,x=!0)=>{y("newEvent",{dateRangeIso:I,granularity:M,immediate:x})},_=(I,M,x,R)=>{y("editEventDateRange",{path:I,range:M,scale:x,preferredInterpolationFormat:R})},C=()=>{y("markwhenState"),y("appState")};return C(),{app:e,markwhen:n,hadInitialState:l,onJumpToPath:r,onJumpToRange:o,onGetSvg:a,requestStateUpdate:C,setHoveringPath:m,setDetailEventPath:p,isDetailEventPath:T,setText:g,showInEditor:w,createEventFromRange:k,editEventDateRange:_,showEditButton:s,showCopyLinkButton:i,showEmbedButton:i,timelineLink:h,editorLink:f,embedLink:d}});var Nn=(t=>(t[t.SECOND=0]="SECOND",t[t.QUARTER_MINUTE=1]="QUARTER_MINUTE",t[t.MINUTE=2]="MINUTE",t[t.QUARTER_HOUR=3]="QUARTER_HOUR",t[t.HOUR=4]="HOUR",t[t.DAY=5]="DAY",t[t.MONTH=6]="MONTH",t[t.YEAR=7]="YEAR",t[t.DECADE=8]="DECADE",t[t.CENT=9]="CENT",t))(Nn||{});const tu=xo("markers",()=>{const t=Ue(),e=he(),n=he(),s=A(()=>{const l=[],c=t.scaleOfViewportDateInterval,u=t.baselineLeftmostDate,f=t.baselineRightmostDate;let h=ya(u,c),d=ya(f,c),y=t.scalelessDistanceBetweenDates(u,h);for(l.push({dateTime:u,size:y,ts:u.toMillis(),accumulated:y});h<d&&l.length<1024;){l.push({dateTime:h,size:0,ts:h.toMillis(),accumulated:y}),c==="cent"?h=h.plus({years:100}):c==="decade"?h=h.plus({years:10}):c==="quarterhour"?h=h.plus({minutes:15}):c==="quarterminute"?h=h.plus({seconds:15}):h=h.plus({[c]:1});const m=t.scalelessDistanceBetweenDates(l[l.length-1].dateTime,h);y+=m,l[l.length-1].size=m,l[l.length-1].accumulated=y}return l[l.length-1].size=t.scalelessDistanceBetweenDates(l[l.length-1].dateTime,d),l}),i=A(()=>l=>{const c=t.dateFromClientLeft(l),u=t.scaleOfViewportDateInterval,f=Or(c,u),h=ya(c,u);return[{dateTime:f,left:t.distanceFromBaselineLeftmostDate(f)},{dateTime:h,left:t.distanceFromBaselineLeftmostDate(h)}]}),r=A(()=>{for(let l=0;l<t.weights.length;l++)if(t.weights[l]>.05)return Yw[l];return"decade"});return{hoveringMarker:e,range:n,markers:s,rangeFromOffsetLeft:i,nextMostGranularScaleOfViewportDateInterval:r,setHoveringMarker:l=>{e.value=l},setRange:l=>{n.value=l}}}),Yw=["second","quarterminute","minute","quarterhour","hour","day","month","year","decade","cent"];function nh(t){return t.second===0?t.minute===0?t.hour===0?t.day===1?t.month===1?t.year%100===0?Nn.CENT:t.year%10===0?Nn.DECADE:Nn.YEAR:Nn.MONTH:Nn.DAY:Nn.HOUR:t.minute%15==0?Nn.QUARTER_HOUR:Nn.MINUTE:t.second%15===0?Nn.QUARTER_MINUTE:Nn.SECOND}const sn="hours";function Or(t,e){const n=t.year;if(e==="cent"){const l=n-n%100;return H.fromObject({year:l})}if(e==="decade"){const l=n-n%10;return H.fromObject({year:l})}if(e==="year")return H.fromObject({year:n});const s=t.month;if(e==="month")return H.fromObject({year:n,month:s});const i=t.day;if(e==="day")return H.fromObject({year:n,month:s,day:i});const r=t.hour;if(e==="hour")return H.fromObject({year:n,month:s,day:i,hour:r});const o=t.minute;if(e==="quarterhour")return H.fromObject({year:n,month:s,day:i,hour:r,minute:o-o%15});const a=t.second;return e==="quarterminute"?H.fromObject({year:n,month:s,day:i,hour:r,minute:o,second:a-a%15}):e==="minute"?H.fromObject({year:n,month:s,day:i,hour:r,minute:o}):H.fromObject({year:n,month:s,day:i,hour:r,minute:o,second:a})}function ya(t,e){let n;return e==="cent"?n={years:100}:e==="decade"?n={years:10}:e==="quarterhour"?n={minutes:15}:e==="quarterminute"?n={seconds:15}:n={[e]:1},Or(t,e).plus(n)}function Kx(t,e){const n=ya(t,e),s=Or(t,e),i=t.diff(n),r=t.diff(s);return Math.abs(+i)<Math.abs(+r)?n:s}const Fw=t=>t.fromDateTime.plus({seconds:t.toDateTime.diff(t.fromDateTime).as("seconds")/2}),Uw=new uc({max:1e3}),dy=(t,e)=>(Uw.set(t,e),e),Gx=(t,e)=>{const n=JSON.stringify(t.dateRangeIso)+JSON.stringify(t.recurrence),s=Uw.get(n);if(s)return s;if(t.recurrence){const i=ud(Kt(t.dateRangeIso),t.recurrence,e);return dy(n,{fromDateTime:i[0].fromDateTime,toDateTime:i[i.length-1].toDateTime})}else return dy(n,Kt(t.dateRangeIso))},Ir=(t,e)=>{if(!t)return;if(yn(t)){const s=Gx(t,e);return{...s,maxFrom:s.fromDateTime}}return t.children.reduce((s,i)=>{const r=Ir(i,e);if(!s||!r)return r;const o=+r.fromDateTime<+s.fromDateTime?r.fromDateTime:s.fromDateTime,a=+r.toDateTime>+s.toDateTime?r.toDateTime:s.toDateTime,l=+r.maxFrom>+s.maxFrom?r.maxFrom:s.maxFrom;return{fromDateTime:o,toDateTime:a,maxFrom:l}},void 0)},Zx=.3,zw=(t,e)=>t*24/e.toDateTime.diff(e.fromDateTime).as(sn),Xx=t=>Or(t.minus({years:3}),"year");function Jx(t,e){if(e&&t){let n=H.now().minus({years:1}).toISO(),s=H.now().plus({years:1}).toISO();const i={fromDateTime:H.fromISO(n),toDateTime:H.fromISO(s)},r=zw(e.width,i)/3,o=Fw(i),a=Xx(H.fromISO(n)),l=o.diff(a).as(sn)*r/24;return{scale:r,viewportDateInterval:{fromDateTime:H.now().minus({years:10}),toDateTime:H.now().plus({years:10})},viewport:{height:e.height,top:0,width:e.width,left:l-e.width/2,offsetLeft:e.offsetLeft}}}else{const n={fromDateTime:H.now().minus({years:10}),toDateTime:H.now().plus({years:10})};return{scale:Zx,viewportDateInterval:n,viewport:{left:0,width:0,top:0,height:0,offsetLeft:0}}}}function my(){return typeof localStorage<"u"}const Ju=(t,e)=>{let n;if(my()){const i=localStorage.getItem(t);i?n=JSON.parse(i).value:n=e}else n=e;const s=he(n);return ht(s,i=>{my()&&localStorage.setItem(t,JSON.stringify({value:i}))}),s},Ki=100,md=1,Qx=15*md,pd=60*md,eC=15*pd,Hw=60*pd,Bw=24*Hw,Ww=30*Bw,jw=12*Ww,Vw=10*jw,qw=10*Vw,tC=10*qw,Kw=.25;function fs(t){return Math.floor(t*100)/100}function Zn(t,e=0,n=1){return Math.min(n,Math.max(t,e))}const py=.002,bc=3e7,Ue=xo("timeline",()=>{const t=Qa(),e=A(()=>t.markwhen),n=Ju("dateTimeDisplay2","original"),s=Ju("progressDisplay2","on"),i=A(()=>e.value.parsed),r=A(()=>{const V=H.now();if(!i.value.events.children.length)return{earliestTime:V.minus({years:2}),latestTime:V.plus({years:2})};let Se=H.now().minus({years:10}),Oe=H.now().plus({years:10});for(const{eventy:rt}of So(i.value.events))if(yn(rt)){const je=Kt(rt.dateRangeIso);+je.fromDateTime<+Oe&&(Oe=je.fromDateTime),+je.toDateTime>+Se&&(Se=je.toDateTime)}return{earliestTime:Oe,latestTime:Se}}),o=A(()=>Object.keys(i.value.header).filter(V=>V.startsWith(")")).reduce((V,Se)=>({...V,[Se.replace(")","")]:i.value.header[Se]}),{})),a=A(()=>e.value.transformed),l=A(()=>{var V;return!!((V=t.app)!=null&&V.isDark)}),c=A(()=>Ir(a.value,Ki)||{fromDateTime:H.now().minus({years:5}),toDateTime:H.now().plus({years:5})}),u=A(()=>{var V;return(V=t.app)==null?void 0:V.hoveringPath}),f=t.editEventDateRange,h=t.setHoveringPath,d=()=>t.setHoveringPath(),y=t.setText,m=t.showInEditor,p=t.createEventFromRange,g=t.isDetailEventPath,w=t.setDetailEventPath,T=he(),k=he((()=>{var Se,Oe;const V=(Se=T.value)==null?void 0:Se.call(T);return Jx((Oe=e.value)==null?void 0:Oe.parsed,V)})()),_=he(!1),C=he(!1),I=he(0),M=he(),x=he(!0),R=Ju("preferredMode2","timeline"),W=he(200),N=he(0),se=he(0),De=()=>{se.value++},Xe=A(()=>R.value==="gantt"?N.value?N.value:W.value:0),Re=V=>{N.value=V},be=V=>{W.value=V},Ee=A(()=>k.value.scale||1),vt=he(H.now()),z=he(H.now()),X=A(()=>({[sn]:k.value.viewport.width*2.5/Ee.value*24})),ee=A(()=>z.value.minus(X.value)),Le=A(()=>z.value.plus(X.value)),ct=A(()=>0),os=A(()=>V=>V.diff(ee.value).as(sn)*Ee.value/24),en=A(()=>(V,Se)=>{const Oe=ee.value.plus({[sn]:(V+Xe.value)/Ee.value*24}),rt=ee.value.plus({[sn]:(Se+V+Xe.value)/Ee.value*24});return{fromDateTime:Oe,toDateTime:rt}}),$=(V,Se)=>Se.diff(V).as(sn),oe=A(()=>(V,Se)=>Se.diff(V).as(sn)*Ee.value/24),J=A(()=>V=>V.diff(z.value).as(sn)),le=A(()=>V=>V.diff(z.value).as(sn)*Ee.value/24+k.value.viewport.width+ct.value),Ye=V=>V.diff(k.value.viewportDateInterval.fromDateTime).as(sn)*Ee.value/24,Ke=A(()=>V=>{try{return ee.value.plus({[sn]:(V+k.value.viewport.left)/Ee.value*24})}catch{return H.now()}}),S=A(()=>{var Oe;const V=(Oe=t.markwhen)==null?void 0:Oe.parsed.header.ranges,Se=[];if(V&&Array.isArray(V)){const rt=H.now();for(let je=0;je<V.length;je++){let It=V[je];const Nt=new RegExp(`^${fk.source}$`).exec(It);if(Nt){const Lt=parseInt(Nt[1]);if(isNaN(Lt))continue;const gn={[Nt[3]?"milliseconds":Nt[4]?"seconds":Nt[5]?"minutes":Nt[6]?"hours":Nt[8]?"days":Nt[9]?"weeks":Nt[10]?"months":"years"]:Lt/2};Se.push({title:It,fromDateTime:rt.minus(gn),toDateTime:rt.plus(gn)})}}}return Se}),D=V=>{k.value.viewport=V,k.value.viewportDateInterval=en.value(V.left-V.offsetLeft,V.width+V.offsetLeft)},L=V=>{R.value=V},j=V=>{T.value=V},F=V=>(k.value.scale=V,!0),K=V=>{_.value=V},ie=V=>{C.value=V},ne=V=>{M.value=V},Q=()=>I.value++,Z=V=>{x.value=V},Te=V=>{ce.value=V},ce=he(),ye=A(()=>{const Oe=k.value.viewportDateInterval.toDateTime,rt=k.value.viewportDateInterval.fromDateTime,je=Oe.diff(rt).as(sn),It=2e3*86400,Yt=je*(It/24),Nt=k.value.viewport.width+k.value.viewport.offsetLeft,Lt=Yt/Nt;return[Zn(fs(30*md/Lt)),Zn(fs(20*Qx/Lt)),Zn(fs(30*pd/Lt)),Zn(fs(20*eC/Lt)),Zn(fs(30*Hw/Lt)),Zn(fs(40*Bw/Lt)),Zn(fs(30*Ww/Lt)),Zn(fs(25*jw/Lt)),Zn(fs(25*Vw/Lt)),Zn(fs(20*qw/Lt)),Zn(fs(20*tC/Lt))]}),ke=A(()=>{for(let V=0;V<ye.value.length;V++)if(ye.value[V]>Kw)return Yw[V];return"cent"});return{referenceDate:z,pageSettings:k,startedWidthChange:_,hideNowLine:C,scrollToPath:M,shouldZoomWhenScrolling:x,mode:R,ganttSidebarWidth:W,ganttSidebarTempWidth:N,autoCenterSemaphore:se,dateTimeDisplay:n,progressDisplay:s,colors:A(()=>{var V;return(V=t.app)==null?void 0:V.colorMap}),baseOffset:ct,hoveringDate:vt,baselineLeftmostDate:ee,baselineRightmostDate:Le,diffAmount:X,userRanges:S,darkMode:l,pageTimeline:i,tags:o,pageTimelineMetadata:r,pageRange:c,transformedEvents:a,pageScale:Ee,pageScaleBy24:A(()=>Ee.value/24),scalelessDistanceBetweenDates:$,distanceBetweenDates:oe,distanceFromViewportLeftDate:Ye,distanceFromReferenceDate:le,dateFromClientLeft:Ke,scalelessDistanceFromReferenceDate:J,scaleOfViewportDateInterval:ke,weights:ye,leftInsetWidth:Xe,hoveringEventPaths:u,isDetailEventPath:g,distanceFromBaselineLeftmostDate:os,setDetailEventPath:w,createEventFromRange:p,showInEditor:m,setText:y,setHoveringEvent:h,clearHoveringEvent:d,editEventDateRange:f,setViewport:D,setViewportGetter:j,setPageScale:F,setStartedWidthChange:K,setHideNowLine:ie,setScrollToPaths:ne,setShouldZoomWhenScrolling:Z,setMode:L,setGanttSidebarWidth:be,setGanttSidebarTempWidth:Re,autoCenter:De,goToNow:Q,goToNowSemaphore:I,setRange:Te,rangeToJumpTo:ce}}),nC=()=>{const t=new uc({max:300});return{getWeekday:n=>{const s=`${n.year}-${n.month}-${n.day}`,i=t.get(s);if(i)return i;const r=Oa(n);return t.set(s,r.weekday),r}}},yd=t=>{const e=he(),n=Ue();return xr(()=>{const s=Y(t);let i=s.tags;const r=s.source;e.value=i?n.colors[r||"default"][i[0]]:void 0}),{color:e}},Rr=xo("collapse",()=>{const t=Qa(),e=Ue(),n=he((()=>{var d;return(d=t.markwhen)==null||d.parsed,new Set})()),s=h=>{n.value.add(h.join(","))},i=h=>{n.value.delete(h.join(","))},r=h=>{const d=h.join(",");n.value.has(d)?n.value.delete(d):n.value.add(d)},o=(h,d)=>{const y=typeof h=="string"?h:h.join(",");d?n.value.add(y):n.value.delete(y)};return{collapsed:n,isCollapsed:h=>{const d=typeof h=="string"?h:h.join(",");for(const y of n.value.keys())if(d===y)return!0;return!1},isCollapsedChild:h=>{const d=typeof h=="string"?h:h.join(",");for(const y of n.value.keys())if(d!==y&&d.startsWith(`${y},`))return!0;return!1},isCollapsedChildOf:h=>{const d=typeof h=="string"?h:h.join(",");let y;for(const m of n.value.keys())d!==m&&d.startsWith(`${m},`)&&(!y||m.length<y.length)&&(y=m);return y==null?void 0:y.split(",").map(m=>parseInt(m))},collapse:s,setCollapsed:o,toggleCollapsed:r,expand:i,collapseAll:()=>{for(const{path:h,eventy:d}of So(e.transformedEvents))yn(d)||o(h,!0)},expandAll:()=>{for(const{path:h,eventy:d}of So(e.transformedEvents))yn(d)||o(h,!1)}}}),sC=t=>t[t.length-1]===0?t.slice(0,-1):[...t.slice(0,-1),t[t.length-1]-1],el=xo("nodes",()=>{const t=Ue(),e=Rr(),n=A(()=>t.transformedEvents),s=A(()=>_D(t.transformedEvents)),i=(p,g,w)=>{const T=g.join(","),k=w.get(T);if(k)return k;const _=M=>(w.set(T,M),M);if(e.isCollapsed(T)||yn(p))return _(0);const I=p.children.reduce((M,x,R)=>M+1+i(x,[...g,R],w),0);return _(I)};let r=0;const o=Sr(new Map),a=p=>{const g=p.map(T=>T.path.join(",")),w=[];for(const T of o.keys())g.includes(T)||(w.push(o.get(T)),o.delete(T));for(const T of g)if(!o.has(T)){const k=w.pop();typeof k<"u"?o.set(T,k):o.set(T,r++)}return p.map(T=>({...T,key:""+o.get(T.path.join(","))}))},l=A(()=>{const p=[],g=[];for(const{path:w,eventy:T}of s.value){if(!T)break;const k=w.join(",");if(yn(T)){const _={eventy:T,path:w};if(t.scrollToPath&&Ba(w,t.scrollToPath))p.push(_);else{const I=100+(d.value.get(k)||0)*30,M=t.pageSettings.viewport;if(I>M.top-100&&I<M.top+M.height+100)if(t.mode==="gantt")p.push(_);else{const x=Ir(_.eventy,Ki),R=t.pageScaleBy24*t.scalelessDistanceFromReferenceDate(x.fromDateTime),W=t.pageScaleBy24*t.scalelessDistanceBetweenDates(x.fromDateTime,x.toDateTime);(R<M.left+M.width+50||M.left<R+W+50)&&p.push(_)}}}else{if(e.isCollapsedChild(w))continue;if(w.length>0){const _=d.value.get(k)||0,C=f.value.get(k)||0,I=100+_*30,M=30+C*30,x=t.pageSettings.viewport,R=I+M,W=I,N=x.top-100,se=x.top+x.height+100;if(W>se)continue;if(R<N)continue;g.push({path:w,eventy:T})}}}return[a(p),g]}),c=Sr(new Map),u=A(()=>{const p=l.value[1].map(w=>w.path.join(",")),g=[];for(const w of c.keys())p.includes(w)||(g.push(c.get(w)),c.delete(w));for(const w of p)if(!c.has(w)){const T=g.pop();typeof T<"u"?c.set(w,T):c.set(w,r++)}return c}),f=A(()=>{const p=new Map;for(const{path:g,eventy:w}of s.value)i(w,g,p);return p}),h=(p,g,w,T)=>{const k=g.join(","),_=x=>(w.set(k,x),x);if(!g.length)return _(0);const C=w.get(k);if(typeof C<"u")return C;const I=sC(g).join(",");let M=1+w.get(I);return I.length&&k.length&&I.split(",").length===k.split(",").length&&(M+=T.get(I)||0),_(M)},d=A(()=>{const p=new Map;for(const{path:g,eventy:w}of s.value)h(w,g,p,f.value);return p}),y=A(()=>{let p=0;for(const g of d.value.values())g>p&&(p=g);return p}),m=A(()=>s.value.length?`${s.value.length*30+500}px`:"100%");return{nodes:n,nodeArray:s,visibleNodes:l,childrenMap:f,predecessorMap:d,sectionKeys:u,height:y,viewHeight:m}}),or=t=>t.toLocaleString(H.TIME_24_WITH_SECONDS),xn=t=>t.toLocaleString(H.TIME_24_SIMPLE),Ut=t=>t.year<0?`${-t.year} BCE`:t.year,Pn=t=>t.toISODate(),Al=t=>`${t.day} ${t.monthShort}`,Nl=t=>t.toLocaleString(H.DATETIME_SHORT_WITH_SECONDS),Qu=t=>`${t.monthShort} ${t.year}`,ot=()=>"",Gw=[[or,or,or,or,Nl,Nl,Nl,Nl,Pn,Ut],[or,or,or,xn,xn,Al,Pn,Pn,Pn,Ut],[t=>t.second,xn,xn,xn,xn,Al,Pn,Pn,Pn,Ut],[t=>t.second,t=>t.minute,t=>t.minute,xn,xn,Al,Pn,Pn,Pn,Ut],[ot,t=>t.minute,t=>t.minute,xn,xn,Al,Pn,Pn,Pn,Ut],[ot,ot,ot,xn,t=>t.hour,t=>t.day,Qu,Qu,Qu,Ut],[ot,ot,ot,xn,ot,t=>t.day,t=>t.monthShort,Ut,Ut,Ut],[ot,ot,ot,xn,ot,ot,t=>t.month,Ut,Ut,Ut],[ot,ot,ot,xn,ot,ot,ot,Ut,Ut,Ut],[ot,ot,ot,ot,ot,ot,ot,Ut,Ut,Ut]],iC=["id"],rC={key:0,class:"flex flex-row"},oC={key:0,class:"whitespace-nowrap text-xs font-bold dark:bg-zinc-800 bg-white border-l p-1 dark:border-zinc-400 border-zinc-500"},aC=Fe({__name:"TimeMarkersBack",setup(t){const e=tu(),n=Ue(),{getWeekday:s}=nC(),i=A(()=>n.darkMode),r=el(),o=A(()=>g=>{if(n.weights[Nn.DAY]>.3){const w=s(g.dateTime),T=Math.min(n.weights[Nn.DAY]*.3,.5);if(typeof w=="number"&&w===6||w===7||w.weekday===6||w.weekday===7)return i.value?`rgba(113, 113, 122, ${T})`:`rgba(161, 161, 170, ${T})`}return"unset"}),a=A(()=>g=>{const w=e.hoveringMarker;return w?+g.dateTime==+w.dateTime:!1}),l=A(()=>g=>n.weights[nh(g.dateTime)]),c=A(()=>g=>{const w=a.value(g)?1:(l.value(g)-.3)*2;return i.value?`rgba(82, 82, 91, ${w})`:`rgba(200, 200, 200, ${w})`}),u=A(()=>{const g=[];if(!n.transformedEvents)return[];for(const{eventy:w,path:T}of So(n.transformedEvents))if(yn(w)&&["era","milestone"].some(k=>w.tags.map(_=>_.toLowerCase()).includes(k))){const{fromDateTime:k,toDateTime:_}=Kt(w.dateRangeIso),C=yd(w).color.value,I=Ba(n.hoveringEventPaths,T),M={left:n.distanceFromBaselineLeftmostDate(k),width:Math.max(2,n.distanceBetweenDates(k,_))};C&&(M.backgroundColor=`rgba(${C}, ${I?.15:.1})`,M.borderColor=`rgba(${C}, ${I?.75:.3})`),g.push(M)}return g}),f=A(()=>g=>nh(g.dateTime)),h=A(()=>{for(let g=0;g<n.weights.length;g++)if(n.weights[g]>Kw)return g;return Nn.DECADE}),d=A(()=>g=>Gw[h.value][f.value(g)](g.dateTime)),y=A(()=>g=>Zn((l.value(g)-.45)*5)),m=A(()=>g=>{var w;return e.hoveringMarker&&+((w=e.hoveringMarker)==null?void 0:w.dateTime)==+g.dateTime}),p=A(()=>g=>{const w=g.dateTime;return h.value>5?w.year:h.value>3?w.toLocaleString(H.DATE_HUGE):w.toLocaleString(H.DATETIME_HUGE_WITH_SECONDS)});return(g,w)=>(te(),pe(qe,null,[w[1]||(w[1]=q("div",{class:"fixed top-0 left-0 right-0 h-6 bg-white/95 dark:bg-zinc-800/95 z-30 border-b dark:border-zinc-700"},null,-1)),(te(!0),pe(qe,null,Ds(Y(e).markers,T=>(te(),pe("div",{id:""+T.ts,key:T.ts,class:"h-full flex-shrink-0 absolute top-0 bottom-0 pointer-events-none",style:tt({backgroundColor:o.value(T),width:`${Y(n).pageScaleBy24*T.size}px`,left:`${Y(n).pageScaleBy24*(T.accumulated-T.size)}px`,borderLeft:`1px ${a.value(T)?"solid":"dashed"} ${c.value(T)}`,height:`max(${Y(r).viewHeight}, 100%)`})},[q("div",{class:jt(["sticky top-0 -m-px",{"font-bold z-50 dark:border-zinc-400 border-zinc-500":m.value(T),"z-40 dark:border-zinc-600":!m.value(T)}])},[q("h6",{class:"timeMarkerTitle text-sm whitespace-nowrap dark:text-white text-black pl-1 border-l border-inherit",style:tt({opacity:m.value(T)?1:y.value(T)})},Vt(d.value(T)),5),h.value<=6?(te(),pe("div",rC,[m.value(T)?(te(),pe("h6",oC,Vt(p.value(T)),1)):nt("",!0),w[0]||(w[0]=q("h6",{class:"whitespace-nowrap text-xs font-bold"},"",-1))])):nt("",!0)],2)],12,iC))),128)),(te(!0),pe(qe,null,Ds(u.value,T=>(te(),pe("div",{class:jt(["absolute top-0 bottom-0 h-full border-l border-r transition",T.backgroundColor?"":"bg-gray-300/50 dark:bg-gray-300/10 border-gray-500/50"]),style:tt({left:`${T.left}px`,width:`max(${T.width}px, 10px)`,height:`max(${Y(r).viewHeight}, 100%)`,backgroundColor:T.backgroundColor,borderColor:T.borderColor})},null,6))),256))],64))}}),nu=xo("canPan",()=>({canPan:he(!0)})),lC=()=>{const t=Ue(),e=tu(),n=nu(),s=he(),i=he(),r=()=>{s.value=void 0,i.value=void 0,window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",l),window.removeEventListener("keydown",o)},o=h=>{h.key==="Escape"&&r()},a=h=>{const d=typeof TouchEvent<"u"&&h instanceof TouchEvent?h.touches[0].clientX:h.clientX,y=e.rangeFromOffsetLeft(d),m=[];m.push(y[0].left<s.value[0].left?y[0]:s.value[0]),m.push(y[1].left>s.value[1].left?y[1]:s.value[1]),i.value=m},l=h=>{const d=i.value?i.value:s.value;d&&t.createEventFromRange(Fh({fromDateTime:d[0].dateTime,toDateTime:d[1].dateTime}),["quarterhour","quarterminute","second"].includes(t.scaleOfViewportDateInterval)?"instant":t.scaleOfViewportDateInterval),r()},c=h=>{s.value=e.range,window.addEventListener("touchmove",a),window.addEventListener("touchend",l),window.addEventListener("mousemove",a),window.addEventListener("mouseup",l),window.addEventListener("keydown",o)},u=A(()=>i.value?i.value:e.range),f=A(()=>!!s.value);return ht(f,h=>{n.canPan=!h}),{mouseDownTouchStartListener:c,newEventPosition:u,creating:f}},cC=Fe({__name:"NewEvent",setup(t){const{newEventPosition:e,mouseDownTouchStartListener:n,creating:s}=lC(),i=Ue(),r=A(()=>i.mode==="gantt");return(o,a)=>Y(e)?(te(),pe("button",{key:0,title:"Click and drag to create new event",class:jt(["h-[10px] border flex items-center justify-center flex-shrink-0 absolute border-transparent hover:border-zinc-100 text-zinc-600 hover:bg-zinc-50 hover:shadow dark:text-zinc-100 dark:hover:border-gray-600 dark:hover:bg-zinc-700 font-bold",Y(s)?"dark:border-gray-600 dark:bg-zinc-600 bg-zinc-50 border-zinc-100 shadow":"bg-transparent"]),style:tt(`left: ${Y(e)[0].left}px; width: ${Y(e)[1].left-Y(e)[0].left}px; top: 100px; height: ${r.value?"15px":"10px"}; border-radius: ${r.value?"0.25rem":"99px"}`),onMousedown:a[0]||(a[0]=on((...l)=>Y(n)&&Y(n)(...l),["prevent","stop"])),onTouchstart:a[1]||(a[1]=on((...l)=>Y(n)&&Y(n)(...l),["prevent","stop"]))}," + ",38)):nt("",!0)}}),yy=Fe({__name:"DragHandle",props:{left:{},mouseDownTouchStartListener:{type:Function}},setup(t){const e=t,n=A(()=>({left:`${e.left}px`}));return(s,i)=>(te(),pe("button",{class:"absolute flex items-center justify-center cursor-ew-resize touch-none top-0 bottom-0 z-[4]",style:tt(n.value),onTouchstartPassive:i[0]||(i[0]=(...r)=>s.mouseDownTouchStartListener&&s.mouseDownTouchStartListener(...r)),onMousedown:i[1]||(i[1]=on((...r)=>s.mouseDownTouchStartListener&&s.mouseDownTouchStartListener(...r),["prevent","stop"]))},i[2]||(i[2]=[q("div",{class:"absolute w-[2px] h-4 bg-gray-600 rounded dark:bg-gray-300"},null,-1),q("div",{class:"w-4 h-4 absolute flex items-center justify-center"},[q("div",{class:"w-2 h-2 rounded-full border border-white dark:border-gray-300 bg-gray-600 dark:bg-gray-900 shadow"})],-1)]),36))}}),uC=Fe({__name:"EventBar",props:{percent:{},tagColor:{},hovering:{type:Boolean},width:{},taskNumerator:{},taskDenominator:{},dragHandleListenerLeft:{type:Function},dragHandleListenerRight:{type:Function},editable:{type:Boolean},expandedRecurrence:{}},setup(t){const e=Ue(),n=t,s=A(()=>e.mode==="gantt"),i=A(()=>n.tagColor||null),r=c=>{const u=e.mode==="gantt";return{left:`${c}px`,width:`${n.width}px`,backgroundColor:i.value?`rgba(${i.value}, 0.3)`:"",border:i.value?`1px solid rgba(${i.value}, 0.3)`:"",height:u?"15px":"10px",borderRadius:u?"0.125rem":"5px",flexShrink:0}},o=A(()=>s.value?15:10),a=c=>{const u=e.mode==="gantt",f={minWidth:"10px",...i.value?{backgroundColor:`rgba(${i.value}, 0.8)`}:{}};return f.width=`${n.percent*n.width/100}px`,f.borderRadius=u?"0.125rem":"5px",f.left=`${c}px`,f},l=A(()=>n.expandedRecurrence[n.expandedRecurrence.length-1]+n.width);return(c,u)=>(te(),pe("div",{class:"flex flex-row items-center eventBar",style:tt(`width: ${l.value}px`)},[(te(!0),pe(qe,null,Ds(c.expandedRecurrence,(f,h)=>(te(),pe("div",{key:h,class:"relative items-center",style:tt(`height: ${o.value}px;`)},[q("div",{class:jt({"eventBar transition shadow top-0 absolute":!0,"dark:bg-zinc-400 bg-zinc-700 opacity-30":!i.value}),style:tt(r(f))},null,6),q("div",{class:jt(["absolute top-0 bottom-0 percentBar transition",{"dark:bg-gray-400 bg-zinc-700 border border-gray-800 dark:border-gray-300":!i.value,"opacity-100 shadow-lg":c.hovering,"opacity-60":!c.hovering}]),style:tt(a(f))},null,6),h===0?(te(),pe(qe,{key:0},[so(xe(yy,{class:"pointer-events-auto",left:0,"mouse-down-touch-start-listener":c.dragHandleListenerLeft},null,8,["mouse-down-touch-start-listener"]),[[ro,c.editable&&c.hovering]]),so(xe(yy,{class:"pointer-events-auto",left:c.width,"mouse-down-touch-start-listener":c.dragHandleListenerRight},null,8,["left","mouse-down-touch-start-listener"]),[[ro,c.editable&&c.hovering]])],64)):nt("",!0)],4))),128))],4))}}),Pr=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},fC=Pr(uC,[["__scopeId","data-v-7e5263da"]]),hC=(t,e,n)=>{const s=nu(),i=he(),r=A(()=>{if(i.value)return H.fromISO(i.value)}),o=he(),a=A(()=>{if(o.value)return H.fromISO(o.value)}),l=he(),c=tu(),u=Ue(),f=()=>{document.removeEventListener("mousemove",p),document.removeEventListener("mousemove",g),document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",m),document.removeEventListener("mouseup",_),document.removeEventListener("touchmove",p),document.removeEventListener("touchmove",g),document.removeEventListener("touchmove",k),document.removeEventListener("touchend",m),document.removeEventListener("touchend",_),document.removeEventListener("keydown",y)},h=()=>{s.canPan=!0,f(),setTimeout(()=>{i.value=void 0,o.value=void 0},100)},d=()=>{s.canPan=!0,i.value=void 0,o.value=void 0,f()},y=I=>{I.key==="Escape"&&d()},m=I=>{typeof TouchEvent<"u"&&I instanceof TouchEvent||I.preventDefault(),n==null||n(r.value,a.value),h()},p=I=>{let M;typeof TouchEvent<"u"&&I instanceof TouchEvent?M=I.touches[0].clientX:(M=I.clientX,I.preventDefault());const x=u.dateFromClientLeft(M),R=Or(x,c.nextMostGranularScaleOfViewportDateInterval);i.value=R.toISO()},g=I=>{let M;typeof TouchEvent<"u"&&I instanceof TouchEvent?M=I.touches[0].clientX:(M=I.clientX,I.preventDefault());const x=u.dateFromClientLeft(M),R=Or(x,c.nextMostGranularScaleOfViewportDateInterval);o.value=R.toISO()},w=I=>{s.canPan=!1,document.addEventListener("mousemove",p),document.addEventListener("mouseup",m),document.addEventListener("touchmove",p),document.addEventListener("touchend",m),document.addEventListener("keydown",y)},T=I=>{s.canPan=!1,document.addEventListener("mousemove",g),document.addEventListener("mouseup",m),document.addEventListener("touchmove",g),document.addEventListener("touchend",m),document.addEventListener("keydown",y)},k=I=>{s.canPan=!1;let M;typeof TouchEvent<"u"&&I instanceof TouchEvent?M=I.touches[0].clientX:(I.preventDefault(),M=I.clientX);const x=u.dateFromClientLeft(M+18),R=Kx(x,c.nextMostGranularScaleOfViewportDateInterval);i.value=R.toISO(),o.value=R.plus({[sn]:l.value}).toISO()},_=I=>{typeof TouchEvent<"u"&&I instanceof TouchEvent||I.preventDefault(),n==null||n(r.value,a.value),h()};return{dragHandleListenerLeft:w,dragHandleListenerRight:T,moveHandleListener:I=>{var M;s.canPan=!1,i.value=Y(t),o.value=Y(e),l.value=(M=a.value)==null?void 0:M.diff(r.value).as(sn),document.addEventListener("mousemove",k),document.addEventListener("touchmove",k),document.addEventListener("mouseup",_),document.addEventListener("touchend",_),document.addEventListener("keydown",y)},tempFrom:r,tempTo:a}},dC={class:"text-xs font-mono font-bold flex flex-row items-center"},mC={class:"h-4 w-4 mr-[2px]",focusable:"false","aria-hidden":"true",viewBox:"0 0 24 24",fill:"currentColor"},pC={key:0,"stroke-width":"2",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round",d:"M9 16.17 5.53 12.7a.9959.9959 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71c.39-.39.39-1.02 0-1.41a.9959.9959 0 0 0-1.41 0L9 16.17z"},yC={key:1,d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"},gC={key:2,d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"},vC={key:0,class:"pt-px mr-1"},wC=Fe({__name:"TaskCompletion",props:{taskNumerator:{},taskDenominator:{},completed:{type:Boolean}},setup(t){return(e,n)=>(te(),pe("div",dC,[(te(),pe("svg",mC,[e.completed||e.taskNumerator>0&&e.taskNumerator===e.taskDenominator?(te(),pe("path",pC)):e.taskNumerator===0||!e.taskDenominator&&typeof e.completed<"u"?(te(),pe("path",yC)):(te(),pe("path",gC))])),e.taskDenominator?(te(),pe("span",vC,Vt(e.taskNumerator)+"/"+Vt(e.taskDenominator),1)):nt("",!0)]))}}),bC={class:"eventTitle whitespace-nowrap font-semibold text-sm py-1 flex flex-row"},TC={class:"supplementalIndicators flex flex-row dark:text-gray-300 text-gray-500 gap-1 items-center justify-center pl-2"},EC={class:"ml-px"},SC=["innerHTML"],kC={key:0},gy=Fe({__name:"EventTitle",props:{showingMeta:{type:Boolean},isHovering:{type:Boolean},hasMeta:{type:Boolean},hasSupplemental:{type:Boolean},completed:{type:Boolean},taskDenominator:{},taskNumerator:{},titleHtml:{}},emits:["toggleMeta"],setup(t,{emit:e}){const n=Ue();return(s,i)=>(te(),pe("div",bC,[q("div",TC,[Y(n).progressDisplay==="on"&&(s.taskDenominator||typeof s.completed<"u")?(te(),mt(wC,{key:0,taskNumerator:s.taskNumerator,taskDenominator:s.taskDenominator,completed:s.completed},null,8,["taskNumerator","taskDenominator","completed"])):nt("",!0)]),q("p",EC,[q("span",{innerHTML:s.titleHtml,class:jt({"pointer-events-auto":s.titleHtml.includes("underline")})},null,10,SC),s.hasSupplemental?(te(),pe("span",kC,"...")):nt("",!0)])]))}}),_C={class:"flex flex-row items-center justify-center"},DC=Fe({__name:"MoveWidgets",props:{move:{type:Function},left:{}},emits:["edit"],setup(t,{emit:e}){const n=t,s=e,i=Ue(),r=A(()=>i.mode==="gantt"?n.left:0);return(o,a)=>(te(),pe("div",{class:"flex flex-row text-gray-500 dark:text-gray-400 absolute mr-8 moveWidgets top-0 bottom-0 items-center justify-center p-2",style:tt({left:`calc(${r.value}px - 3.6rem)`})},[q("div",_C,[q("button",{title:"Edit event",class:"mr-1 transition dark:hover:text-zinc-100 hover:text-black rounded-sm p-px disabled:text-gray-300 disabled:dark:text-gray-600",onClick:a[0]||(a[0]=l=>s("edit"))},a[3]||(a[3]=[q("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[q("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})],-1)]))]),q("div",{title:"Drag to move",class:"handle flex items-center justify-center cursor-crosshair touch-none hover:text-black dark:hover:text-zinc-100 transition",onTouchstart:a[1]||(a[1]=(...l)=>o.move&&o.move(...l)),onMousedown:a[2]||(a[2]=on((...l)=>o.move&&o.move(...l),["prevent","stop"]))},a[4]||(a[4]=[q("svg",{class:"w-4 h-4",focusable:"false","aria-hidden":"true",viewBox:"0 0 24 24",fill:"currentColor"},[q("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})],-1)]),32)],4))}}),OC={};function IC(t,e){return te(),mt(Kg,{name:"fade"},{default:At(()=>[Sa(t.$slots,"default",{},void 0,!0)]),_:3})}const vy=Pr(OC,[["render",IC],["__scopeId","data-v-39c803d6"]]),Zw=t=>{const e=Rr(),n=el(),s=A(()=>e.isCollapsedChildOf(Y(t))),i=A(()=>!!s.value);return{top:A(()=>100+n.predecessorMap.get(s.value?s.value.join(","):Y(t).join(","))*30),isCollapsed:i}},MC={key:1,class:"absolute top-0 bottom-0 flex items-center pr-4 text-xs text-gray-400 source",style:{transform:"translateX(-100%)"}},xC={class:"eventItem pointer-events-none"},CC={class:"flex h-full"},AC=Fe({__name:"EventRow",props:{path:{},tags:{},dateText:{},supplemental:{},matchedListItems:{},hovering:{type:Boolean},percent:{},rangeFrom:{},rangeTo:{},titleHtml:{},color:{},isDetailEvent:{type:Boolean},numAbove:{},completed:{type:Boolean},recurrence:{},source:{}},emits:["editDateRange","hover"],setup(t,{emit:e}){const n=t,s=e,i=Ue(),r=he(),o=he(!1),a=A(()=>!!n.supplemental.length),l=z=>{z.target instanceof HTMLAnchorElement||(z.preventDefault(),o.value=!o.value)},c=A(()=>n.supplemental.filter(z=>z.type==="checkbox"&&z.value).length),u=A(()=>n.supplemental.filter(z=>z.type==="checkbox").length);A(()=>n.supplemental.length?o.value:!1);const{dragHandleListenerLeft:f,dragHandleListenerRight:h,moveHandleListener:d,tempFrom:y,tempTo:m}=hC(A(()=>n.rangeFrom),A(()=>n.rangeTo),()=>s("editDateRange",T.value)),p=he(!1),g=he(!1);ht(g,z=>s("hover",z));const w=A(()=>g.value||!!y.value||!!m.value||p.value||n.hovering),T=A(()=>{const z=Kt({fromDateTimeIso:n.rangeFrom,toDateTimeIso:n.rangeTo});if(!y.value&&!m.value)return z;if(y.value){if(!m.value)return+y.value<+z.toDateTime?{fromDateTime:y.value,toDateTime:z.toDateTime}:{fromDateTime:z.toDateTime,toDateTime:y.value}}else return+m.value>+z.fromDateTime?{fromDateTime:z.fromDateTime,toDateTime:m.value}:{fromDateTime:m.value,toDateTime:z.fromDateTime};return{fromDateTime:+y.value<+m.value?y.value:m.value,toDateTime:+y.value<+m.value?m.value:y.value}}),k=A(()=>(n.recurrence?ud(T.value,n.recurrence,Ki):[T.value]).map(z=>i.distanceBetweenDates(T.value.fromDateTime,z.fromDateTime))),_=A(()=>{const z=i.distanceFromBaselineLeftmostDate(T.value.fromDateTime),X=i.distanceBetweenDates(T.value.fromDateTime,T.value.toDateTime),ee=Math.max(10,X);return{left:z,width:ee}}),C=A(()=>_.value.left),I=he(),M=()=>{i.setDetailEventPath(n.path)},x=A(()=>{const z=n.percent;return isNaN(z)?!isNaN(c.value)&&u.value>0?c.value/u.value*100:100:z}),{top:R,isCollapsed:W}=Zw(A(()=>n.path)),N=()=>i.showInEditor(n.path),se=A(()=>i.mode==="gantt"),De=A(()=>{let z={top:`${R.value}px`,height:"30px",transition:"top 200ms cubic-bezier(0.4, 0, 0.2, 1)"};return z.left=se.value?"0px":`${C.value}px`,se.value&&(z.right="-350%"),z}),Xe=A(()=>se.value?{"dark:bg-gray-900 bg-white":n.isDetailEvent,"dark:border-gray-400 border-black":n.hovering&&!n.isDetailEvent,"dark:border-indigo-600 border-indigo-500":n.isDetailEvent,"border-transparent":!n.hovering&&!n.isDetailEvent,"dark:bg-zinc-400/10  bg-zinc-400/10":n.hovering}:{"pointer-events-none":W.value}),Re=A(()=>se.value?{}:{"dark:bg-gray-800 bg-white shadow-lg":w.value&&a.value,"dark:bg-gray-900 bg-white shadow-lg":n.isDetailEvent,"ring-1 dark:ring-gray-400 ring-black":n.hovering&&!n.isDetailEvent,"ring-1 dark:ring-indigo-600 ring-indigo-500":n.isDetailEvent,"pointer-events-auto cursor-pointer":!W.value}),be=z=>{const X=z instanceof MouseEvent?z.clientX:z.touches[0].clientX,ee=z instanceof MouseEvent?z.clientY:z.touches[0].clientY;I.value={x:X,y:ee}},Ee=z=>{var Le;const X=z instanceof MouseEvent?z.clientX:z.touches[0].clientX,ee=z instanceof MouseEvent?z.clientY:z.touches[0].clientY;((Le=I.value)==null?void 0:Le.x)===X&&I.value.y===ee&&M()},vt=A(()=>{const z={};return n.color&&(z.backgroundColor=`rgba(${n.color}, 0.5)`),z.width=`${i.ganttSidebarTempWidth?i.ganttSidebarTempWidth:i.ganttSidebarWidth}px`,z});return(z,X)=>(te(),pe(qe,null,[q("div",{class:jt(["eventRow absolute",Xe.value]),style:tt(De.value),onMouseenterPassive:X[2]||(X[2]=ee=>!Y(W)&&(g.value=!0)),onMouseleavePassive:X[3]||(X[3]=ee=>g.value=!1)},[!Y(W)&&z.source==="default"?so((te(),mt(DC,{key:0,move:Y(d),left:C.value,onMouseenterPassive:X[0]||(X[0]=ee=>p.value=!0),onMouseleavePassive:X[1]||(X[1]=ee=>p.value=!1),onEdit:N},null,8,["move","left"])),[[ro,w.value]]):!Y(W)&&w.value?(te(),pe("div",MC,Vt(z.source),1)):nt("",!0),q("div",{class:"flex flex-row eventContent items-center h-full",style:tt(se.value?`margin-left: ${C.value}px`:"")},[q("div",xC,[q("div",ji({class:["flex flex-row rounded -mx-2 px-2 eventBarAndTitle",Re.value]},Th(Y(W)?{}:{mousedown:be,mouseup:Ee})),null,16),xe(fC,{ref_key:"eventBar",ref:r,tagColor:z.color,percent:x.value,hovering:w.value||z.hovering,width:_.value.width,taskNumerator:c.value,taskDenominator:u.value,"drag-handle-listener-left":Y(f),"drag-handle-listener-right":Y(h),editable:!Y(W)&&z.source==="default",expandedRecurrence:k.value},null,8,["tagColor","percent","hovering","width","taskNumerator","taskDenominator","drag-handle-listener-left","drag-handle-listener-right","editable","expandedRecurrence"]),xe(vy,null,{default:At(()=>[so(q("p",{class:jt(["eventDate text-sm whitespace-nowrap py-1",z.recurrence?"dark:text-orange-300 text-orange-500":"text-gray-400"])},Vt(z.dateText),3),[[ro,!Y(W)&&Y(i).dateTimeDisplay==="original"]])]),_:1}),xe(vy,null,{default:At(()=>[Y(i).mode==="timeline"?so((te(),mt(gy,{key:0,"showing-meta":o.value,"is-hovering":w.value,"has-meta":a.value,"has-supplemental":!!z.supplemental.length,"task-denominator":u.value,"task-numerator":c.value,completed:z.completed,"title-html":z.titleHtml,onToggleMeta:l},null,8,["showing-meta","is-hovering","has-meta","has-supplemental","task-denominator","task-numerator","completed","title-html"])),[[ro,!Y(W)]]):nt("",!0)]),_:1})])],4)],38),Y(i).mode==="gantt"&&!Y(W)?(te(),pe("div",{key:0,class:"absolute left-0 h-[30px] pointer-events-none",style:tt({top:`${Y(R)}px`,right:"-350%"}),onMouseenterPassive:X[4]||(X[4]=ee=>g.value=!0),onMouseleavePassive:X[5]||(X[5]=ee=>g.value=!1)},[q("div",CC,[q("div",{class:jt(["sticky left-0 z-10 h-full",{"dark:bg-zinc-400/10 bg-zinc-400/25":z.hovering,"bg-white dark:bg-zinc-800":!z.hovering}])},[q("div",{class:jt(["h-full pointer-events-auto",{"border-transparent":!z.hovering&&!z.isDetailEvent,"dark:border-indigo-600 border-indigo-600":z.isDetailEvent}]),style:tt([{"text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden",cursor:"pointer"},vt.value]),onMousedownPassive:be,onMouseupPassive:Ee},[xe(gy,{class:"px-2 h-full","showing-meta":o.value,"is-hovering":w.value,"has-meta":a.value,"has-supplemental":!!z.supplemental.length,"task-denominator":u.value,"task-numerator":c.value,completed:z.completed,"title-html":z.titleHtml,onToggleMeta:l},null,8,["showing-meta","is-hovering","has-meta","has-supplemental","task-denominator","task-numerator","completed","title-html"])],38)],2)])],36)):nt("",!0)],64))}}),NC=Pr(AC,[["__scopeId","data-v-633ec2f2"]]),LC=(t,e)=>typeof t>"u"&&typeof e>"u"?!0:!(typeof t>"u"||typeof e>"u"),RC=(t,e)=>t.type===e.type&&t.content===e.content&&t.from===e.from&&t.to===e.to,PC=(t,e)=>wy(t.fromDateTimeIso,e.fromDateTimeIso)&&wy(t.toDateTimeIso,e.toDateTimeIso),$C=(t,e)=>t===e,wy=$C,YC=(t,e)=>t.length===e.length&&t.every((n,s)=>n===e[s]),FC=(t,e)=>t.length==e.length&&t.every((n,s)=>RC(n,e[s])),UC=(t,e)=>t.length===e.length&&t.every((n,s)=>zC(n,e[s])),zC=(t,e)=>t.type!==e.type?!1:t.type===xi.IMAGE?t.altText===e.altText&&t.link===e.link:t.raw===e.raw&&t.value===e.value,HC=(t,e)=>Xw(t,e);function Xw(t,e){if(typeof t!="object"||typeof e!="object"||t===null||e===null)return t===e;const n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(let i of n)if(!e.hasOwnProperty(i)||!Xw(t[i],e[i]))return!1;return!0}function sh(t){return t.replace(/<|>/g,e=>e==="<"?"<span><</span>":"<span>></span>").replace(yD,(e,n,s)=>`<a class="underline" href="${BC(s)}">${n}</a>`).replace(/&/g,"&amp;").replace(vD,(e,n)=>`<a class="underline" href="/${n}">@${n}</a>`)}function BC(t){return t.startsWith("http://")||t.startsWith("https://")||t.startsWith("/")?t:`http://${t}`}const by=(t,e,n)=>{const s=he(n||void 0);return xr(()=>{const i=t();typeof i>"u"?s.value=void 0:(!s.value||!e(s.value,i))&&(s.value=i)}),s},Jw=t=>{const e=Ue(),n=(m,p=(w,T)=>w===T,g)=>by(m,(w,T)=>LC(w,T)&&p(w,T),g),s=A(()=>t.value),i=by(()=>t.value.source,(m,p)=>m===p,"default"),r=n(()=>Y(s).dateRangeIso,PC),o=n(()=>{var m;return(m=Y(s))==null?void 0:m.completed}),a=n(()=>{var m;return((m=Y(s))==null?void 0:m.supplemental)||[]},UC),l=n(()=>{var m;return(m=Y(s))==null?void 0:m.percent}),c=n(()=>{var m;return((m=Y(s))==null?void 0:m.matchedListItems)||[]},FC),u=n(()=>{var m;return((m=Y(s))==null?void 0:m.tags)||[]},YC),f=he();xr(()=>{var p,g;const m=(p=u.value)!=null&&p.length?(g=e.colors[i.value||"default"])==null?void 0:g[u.value[0]]:void 0;f.value!==m&&(f.value=m)});const h=n(()=>{var p,g,w;const m=Y(s);return(g=(p=m==null?void 0:m.textRanges)==null?void 0:p.recurrence)!=null&&g.content?m.textRanges.recurrence.content:sh(((w=m==null?void 0:m.firstLine)==null?void 0:w.datePart)||"")}),d=n(()=>{var p,g;const m=(g=(p=Y(s))==null?void 0:p.firstLine)==null?void 0:g.restTrimmed;return m?sh(m.replace(pv,(w,T)=>w.substring(T.length))):""}),y=n(()=>{var m;return(m=Y(s))==null?void 0:m.recurrence},HC);return{eventRange:r,supplemental:a,percent:l,matchedListItems:c,tags:u,color:f,dateText:h,titleHtml:d,completed:o,recurrence:y,source:i}},WC=Fe({__name:"EventNodeRow",props:{eventy:{},path:{},numAbove:{},numChildren:{}},setup(t){const e=t,n=Ue(),{editEventDateRange:s}=n,i=A(()=>e.path.split(",").map(C=>parseInt(C)));A(()=>yn(e.eventy));const r=A(()=>n.hoveringEventPaths),{eventRange:o,supplemental:a,percent:l,matchedListItems:c,tags:u,color:f,dateText:h,titleHtml:d,completed:y,recurrence:m,source:p}=Jw(A(()=>e.eventy)),g=A(()=>i.value),w=A(()=>n.scaleOfViewportDateInterval),T=C=>s(i.value,Fh(C),w.value),k=C=>{C?n.setHoveringEvent(e.path.split(",").map(I=>parseInt(I))):n.clearHoveringEvent()},_=A(()=>n.isDetailEventPath(g.value));return(C,I)=>(te(),mt(NC,{source:Y(p)||"default",supplemental:Y(a)||[],"matched-list-items":Y(c)||[],rangeFrom:Y(o).fromDateTimeIso,rangeTo:Y(o).toDateTimeIso,tags:Y(u)||[],color:Y(f),path:g.value,percent:Y(l),dateText:Y(h)||"",titleHtml:Y(d)||"",completed:Y(y),recurrence:Y(m),onEditDateRange:T,onHover:k,"is-detail-event":_.value,hovering:Y(Ba)(r.value,g.value),numAbove:C.numAbove},null,8,["source","supplemental","matched-list-items","rangeFrom","rangeTo","tags","color","path","percent","dateText","titleHtml","completed","recurrence","is-detail-event","hovering","numAbove"]))}}),jC=(t,e,n)=>{const s=he(!1),i=he(0),r=he(0),o=d=>d instanceof MouseEvent?d.pageX:d.touches[0].pageX,a=()=>{document.removeEventListener("mouseup",u),document.removeEventListener("touchend",u),document.removeEventListener("mousemove",c),document.removeEventListener("touchmove",c),document.removeEventListener("keydown",l)},l=d=>{d.key==="Escape"&&(s.value=!1,r.value=0,a())},c=d=>{s.value&&(Y(t)?r.value=Math.max(Y(e)-i.value+o(d),150):r.value=Math.max(Y(e)+i.value-o(d),150))},u=d=>{s.value=!1,r.value&&(n(Math.max(r.value,50)),r.value=0),a()},f=d=>{s.value=!0,i.value=o(d),document.addEventListener("mousemove",c),document.addEventListener("mouseup",u),document.addEventListener("touchmove",c),document.addEventListener("touchend",u),document.addEventListener("keydown",l)},h=A(()=>s.value);return ht(h,d=>{nu().canPan=!d}),{tempWidth:r,resizeMouseDown:f,isResizing:h}},VC={class:"fixed left-0 right-0 top-0 h-full pointer-events-none z-20"},qC={class:"flex w-full h-full"},KC={class:"h-full w-full"},GC=Fe({__name:"GanttSidebar",setup(t){const e=Ue(),n=A(()=>e.ganttSidebarWidth),{tempWidth:s,resizeMouseDown:i}=jC(!0,n,o=>e.setGanttSidebarWidth(o));xr(()=>{e.setGanttSidebarTempWidth(s.value)});const r=A(()=>s.value?s.value:n.value);return(o,a)=>so((te(),pe("div",VC,[q("div",qC,[q("div",{class:"sticky left-0 relative flex flex-col",style:tt(`width: ${r.value}px`)},[q("div",KC,[q("div",{class:jt(["pointer-events-auto sticky hover:w-1 right-0 inline-flex items-center justify-center hover:transition hover:bg-indigo-600 dark:hover:bg-indigo-600 top-0 bottom-0 z-[5]",{"bg-indigo-600 w-1":Y(s),"bg-zinc-200 dark:bg-zinc-900 w-px":!Y(s)}]),style:tt([{cursor:"ew-resize"},`height: ${Y(e).pageSettings.viewport.height}px; left: ${r.value}px`]),onMousedown:a[0]||(a[0]=on((...l)=>Y(i)&&Y(i)(...l),["prevent","stop"])),onTouchstart:a[1]||(a[1]=on((...l)=>Y(i)&&Y(i)(...l),["prevent","stop"]))},null,38)])],4)])],512)),[[ro,Y(e).mode==="gantt"]])}}),ZC=Fe({__name:"ExpandedSectionBackground",props:{hovering:{type:Boolean},style:{},eventy:{},left:{},fullWidth:{},path:{},height:{}},setup(t){const e=t,{color:n}=yd(Zs(()=>e.eventy)),s=Ue(),i=Zs(()=>e.style==="group"),r=Zs(()=>e.path.split(",").map(c=>parseInt(c))),o=Zs(()=>s.isDetailEventPath(r.value)),a=Zs(()=>e.path.split(",").length>4),l=Zs(()=>{const c={height:`${e.height}px`,transition:"height 200ms cubic-bezier(0.4, 0, 0.2, 1)"};if(n.value){e.hovering||o.value?c.backgroundColor=`rgba(${n.value}, 0.1`:a.value||(c.backgroundColor=`rgba(${n.value}, 0.05)`);const u=`1px solid rgba(${n.value}, ${o.value?"0.95":e.hovering?"0.75":"0.12"})`;c.borderTop=u,c.borderBottom=u,i.value&&(c.borderLeft=u,c.borderRight=u)}return i.value&&(c.marginLeft=`${s.pageScaleBy24*e.left-8}px`,c.width=`${s.pageScaleBy24*e.fullWidth+24}px`),c});return(c,u)=>(te(),pe("div",{class:jt(["absolute h-full flex flex-row items-center dark:text-gray-400 pointer-events-none",{"dark:bg-opacity-30 bg-opacity-20":c.hovering||!Y(n)&&Y(o),"dark:bg-opacity-20 bg-opacity-10":!c.hovering&&!Y(a),"border-t border-b":!Y(n),"border-l border-r":Y(i),"dark:border-gray-900/25 border-gray-400/25":!Y(n)&&Y(a),"bg-gray-400 dark:bg-gray-600":!Y(n)&&!Y(a),"dark:border-gray-400/25 border-gray-400/25":!Y(n)&&!c.hovering,"dark:border-gray-400 border-gray-600":!Y(n)&&(c.hovering||Y(o)),"ml-0 w-full":!Y(i),"rounded-[14px]":Y(i)}]),style:tt(Y(l))},null,6))}}),XC={key:0,class:"mr-[2px] flex flex-row items-center"},JC={xmlns:"http://www.w3.org/2000/svg",class:"w-1 h-2",width:"40",height:"40",viewBox:"0 0 16 20","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},QC={key:0,xmlns:"http://www.w3.org/2000/svg",class:"w-1 h-2",width:"40",height:"40",viewBox:"0 0 16 20","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},eA=Fe({__name:"DepthIndicator",props:{depth:{}},setup(t){const e=t,n=Zs(()=>Math.floor((e.depth-1)/2)),s=Zs(()=>(e.depth-1)%2===1);return(i,r)=>i.depth>1?(te(),pe("div",XC,[(te(!0),pe(qe,null,Ds(Y(n),o=>(te(),pe("svg",JC,r[0]||(r[0]=[q("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),q("circle",{cx:"8",cy:"4",r:"4",fill:"currentColor"},null,-1),q("circle",{cx:"8",cy:"18",r:"4",fill:"currentColor"},null,-1)])))),256)),Y(s)?(te(),pe("svg",QC,r[1]||(r[1]=[q("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),q("circle",{cx:"8",cy:"11",r:"4",fill:"currentColor"},null,-1)]))):nt("",!0)])):nt("",!0)}}),tA={},nA={xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 ml-auto",viewBox:"0 0 20 20",fill:"currentColor"};function sA(t,e){return te(),pe("svg",nA,e[0]||(e[0]=[q("path",{"fill-rule":"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z","clip-rule":"evenodd"},null,-1)]))}const iA=Pr(tA,[["render",sA]]),rA={class:"flex flex-row flex-grow items-center justify-center"},oA=["innerHTML"],aA={key:1,class:"eventTitle text-sm font-semibold whitespace-nowrap ml-1"},lA=Fe({__name:"SectionTitleButton",props:{color:{},titleHtml:{},expanded:{type:Boolean},numChildren:{},groupStyle:{},path:{}},emits:["click","hovering"],setup(t,{emit:e}){const n=t,s=he(),i=e,r=A(()=>n.color?{backgroundColor:`rgba(${n.color}, 0.5)`}:{});return(o,a)=>(te(),pe("button",{ref_key:"button",ref:s,class:jt(["flex flex-row items-center dark:bg-opacity-60 bg-opacity-50",{"bg-gray-500 dark:bg-gray-900":!o.color,"rounded-full px-2 py-px":o.groupStyle==="group","px-1":o.groupStyle!=="group"}]),style:tt(r.value),onMouseoverPassive:a[0]||(a[0]=l=>i("hovering",!0)),onMouseleavePassive:a[1]||(a[1]=l=>i("hovering",!1))},[xe(eA,{depth:o.path.split(",").length},null,8,["depth"]),q("div",rA,[o.titleHtml?(te(),pe("span",{key:0,class:"eventTitle text-sm font-semibold whitespace-nowrap",innerHTML:o.titleHtml},null,8,oA)):nt("",!0),o.expanded?nt("",!0):(te(),pe("span",aA,"("+Vt(o.numChildren)+")",1))]),o.expanded?(te(),mt(iA,{key:0})):nt("",!0)],38))}}),cA=Pr(lA,[["__scopeId","data-v-a5548532"]]),uA=Fe({__name:"SectionHeader",props:{path:{},expanded:{type:Boolean},titleHtml:{},color:{},numChildren:{},groupStyle:{},fullWidth:{},left:{},hovering:{type:Boolean}},emits:["toggle","hover"],setup(t,{emit:e}){const n=Ue(),s=Rr(),i=t,r=e,o=A(()=>({click:p=>r("toggle",p),mouseover:p=>r("hover",!0),mouseleave:p=>r("hover",!1)})),a=A(()=>s.isCollapsed(i.path));let l;const c=he(!1);ht(a,()=>{c.value=!0,isNaN(l)||clearTimeout(l),l=setTimeout(()=>{c.value=!1},200)});const u=A(()=>n.pageScaleBy24*i.fullWidth),f=A(()=>{const p={order:-9999,top:`${3+i.path.slice(1).length*1.2}rem`,zIndex:n.mode==="gantt"?3:0,height:"30px"};return i.groupStyle==="group"&&(p.width=`${u.value}px`,p.marginLeft=`${n.pageScaleBy24*i.left}px`),p}),h=p=>r("toggle",p),d=A(()=>{const p={left:"1rem"};return n.mode==="gantt"&&(p.width=`calc(${n.ganttSidebarTempWidth?n.ganttSidebarTempWidth:n.ganttSidebarWidth}px - 0.5rem)`,p.overflow="auto"),p}),y=A(()=>n.mode==="gantt"?i.hovering?"border dark:border-gray-400 border-black":"border border-transparent":""),m=A(()=>{const p={};return c.value&&(p.transition=c.value?"margin-left 200ms cubic-bezier(0.4, 0, 0.2, 1)":""),i.groupStyle==="group"&&a.value?p.marginLeft=`calc(${u.value}px + 0.75rem)`:p.marginLeft=0,p});return(p,g)=>(te(),pe("div",ji({class:"flex items-center cursor-pointer",style:f.value},Th(o.value)),[q("div",{class:"sticky flex items-center left-2",style:tt(m.value)},[q("div",{class:jt(["h-[30px] flex flex-row items-center",y.value]),style:tt(d.value)},[xe(cA,{"title-html":p.titleHtml,color:p.color,"num-children":p.numChildren,expanded:p.expanded,"group-style":p.groupStyle,path:p.path,onClick:h},null,8,["title-html","color","num-children","expanded","group-style","path"])],6)],4)],16))}}),fA={class:"relative flex flex-col"},hA=Fe({__name:"Section",props:{eventy:{},path:{},numChildren:{},numAbove:{},groupStyle:{}},setup(t){const e=Ue(),n=Rr(),{setHoveringEvent:s,clearHoveringEvent:i}=e,r=t,{scalelessDistanceBetweenDates:o,scalelessDistanceFromReferenceDate:a}=e,l=A({get:()=>n.isCollapsed(r.path),set:x=>n.setCollapsed(r.path,x)}),c=he(!1),u=A(()=>e.hoveringEventPaths),f=A(()=>r.path.split(",").map(x=>parseInt(x))),h=x=>{x.target instanceof HTMLAnchorElement||(x.preventDefault(),l.value=!l.value)},d=A(()=>Ir(r.eventy,Ki)),y=A(()=>!r.eventy||!d.value?10:o(e.baselineLeftmostDate,d.value.fromDateTime)),{color:m}=yd(A(()=>r.eventy)),p=A(()=>!r.eventy||!d.value?100:o(d.value.fromDateTime,d.value.toDateTime)),g=A(()=>sh(r.eventy.title||"")),w=x=>{c.value=x};ht(c,x=>{x?s(r.path.split(",").map(R=>parseInt(R))):i()});const T=A(()=>r.groupStyle?r.groupStyle:e.mode==="gantt"||r.eventy.style==="section"?"section":"group"),k=A(()=>`${e.pageScaleBy24*p.value}px`),_=A(()=>100+r.numAbove*30),C=A(()=>30+r.numChildren*30),I=A(()=>({top:`${_.value}px`,transition:"top 200ms cubic-bezier(0.4, 0, 0.2, 1)",display:n.isCollapsedChild(r.path)?"none":"block",...T.value==="section"?{left:0,right:"-350%"}:{}})),M=A(()=>c.value||Ba(u.value,f.value));return(x,R)=>(te(),pe("div",{class:"absolute",style:tt(I.value)},[q("div",fA,[xe(ZC,{hovering:M.value,style:tt(T.value),eventy:x.eventy,left:y.value,height:C.value,"full-width":p.value,path:x.path},null,8,["hovering","style","eventy","left","height","full-width","path"]),q("div",{class:"sticky top-0 cursor-pointer",style:tt({width:k.value})},null,4),xe(uA,{path:x.path,onToggle:h,onHover:w,hovering:M.value,expanded:!l.value,titleHtml:g.value,color:Y(m),"num-children":x.eventy.children.length,"group-style":T.value,left:y.value,"full-width":p.value},null,8,["path","hovering","expanded","titleHtml","color","num-children","group-style","left","full-width"])])],4))}}),dA=Fe({__name:"Events",setup(t){const e=Ue(),n=el();A(()=>{const r=n.nodeArray;return r.length?`${r.length*30+500}px`:"100%"});const s=(r,o)=>({eventy:o,path:r.join(","),numChildren:n.childrenMap.get(r.join(",")),numAbove:n.predecessorMap.get(r.join(","))||0}),i=A(()=>e.ganttSidebarTempWidth?e.ganttSidebarTempWidth:e.ganttSidebarWidth);return A(()=>e.pageSettings.viewport.width*7),(r,o)=>(te(),pe(qe,null,[Y(e).mode==="gantt"?(te(),pe("div",{key:0,class:"sticky left-0 relative flex flex-col bg-white dark:bg-zinc-800 top-0 bottom-0 z-[2] h-full",style:tt(`width: ${i.value}px;`)},null,4)):nt("",!0),(te(!0),pe(qe,null,Ds(Y(n).visibleNodes[1],({path:a,eventy:l})=>(te(),mt(hA,ji({key:Y(n).sectionKeys.get(a.join(",")),ref_for:!0},s(a,l)),null,16))),128)),(te(!0),pe(qe,null,Ds(Y(n).visibleNodes[0],({path:a,eventy:l,key:c})=>(te(),mt(WC,ji({key:c,ref_for:!0},s(a,l)),null,16))),128)),xe(cC),xe(GC)],64))}}),Ty=2,Ey=2,Sy=8,ky=24,_y=24;function Dy(t,e){return Math.sign(t)*Math.min(e,Math.abs(t))}function mA(t){let e=t.deltaX,n=t.deltaY;return t.shiftKey&&e===0&&([e,n]=[n,e]),t.deltaMode===WheelEvent.DOM_DELTA_LINE?(e*=Sy,n*=Sy):t.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(e*=ky,n*=ky),[Dy(e,_y),Dy(n,_y)]}function pA(t,e){function n(){}let s=e||{},i=s.startGesture||n,r=s.doGesture||n,o=s.endGesture||n,a=null,l;function c(){a&&(o(a),a=null)}if(t.addEventListener("wheel",function(f){if(!a&&!f.ctrlKey)return;f.cancelable!==!1&&f.preventDefault();let[h,d]=mA(f);if(a||(a={origin:{x:f.clientX,y:f.clientY},scale:1,translation:{x:0,y:0}},i(a)),f.ctrlKey){let y=d<=0?1-Ty*d/100:1/(1+Ty*d/100);a={origin:{x:f.clientX,y:f.clientY},scale:a.scale*y,translation:a.translation}}else a={origin:{x:f.clientX,y:f.clientY},scale:a.scale,translation:{x:a.translation.x-Ey*h,y:a.translation.y-Ey*d}};r(a),l&&window.clearTimeout(l),l=window.setTimeout(c,200)},{passive:!1}),typeof GestureEvent<"u"&&typeof TouchEvent>"u"){let u=!1;t.addEventListener("gesturestart",function(h){u||(i({translation:{x:0,y:0},scale:h.scale,rotation:h.rotation,origin:{x:h.clientX,y:h.clientY}}),u=!0),h.cancelable!==!1&&h.preventDefault()},{passive:!1}),t.addEventListener("gesturechange",function(h){u&&r({translation:{x:0,y:0},scale:h.scale,rotation:h.rotation,origin:{x:h.clientX,y:h.clientY}}),h.cancelable!==!1&&h.preventDefault()},{passive:!1}),t.addEventListener("gestureend",function(h){u&&(o({translation:{x:0,y:0},scale:h.scale,rotation:h.rotation,origin:{x:h.clientX,y:h.clientY}}),u=!1)})}return c}function yA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qw={exports:{}};/*! Hammer.JS - v2.1.0-pre3 - 2019-08-26
 * http://squadette.github.io/hammer.js/
 *
 * Copyright (c) 2019 Jorik Tangelder;
 * Licensed under the MIT license */(function(t){typeof window<"u"&&typeof document<"u"&&function(e,n,s,i){var r=["","webkit","Moz","MS","ms","o"],o=n.createElement("div"),a="function",l=Math.round,c=Math.abs,u=Date.now;function f(v,b,O){return setTimeout(T(v,O),b)}function h(v,b,O){return Array.isArray(v)?(d(v,O[b],O),!0):!1}function d(v,b,O){var P;if(v)if(v.forEach)v.forEach(b,O);else if(v.length!==i)for(P=0;P<v.length;)b.call(O,v[P],P,v),P++;else for(P in v)v.hasOwnProperty(P)&&b.call(O,v[P],P,v)}function y(v,b,O){var P="DEPRECATED METHOD: "+b+`
`+O+` AT 
`;return function(){var G=new Error("get-stack-trace"),de=G&&G.stack?G.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",$e=e.console&&(e.console.warn||e.console.log);return $e&&$e.call(e.console,P,de),v.apply(this,arguments)}}var m;typeof Object.assign!="function"?m=function(b){if(b===i||b===null)throw new TypeError("Cannot convert undefined or null to object");for(var O=Object(b),P=1;P<arguments.length;P++){var G=arguments[P];if(G!==i&&G!==null)for(var de in G)G.hasOwnProperty(de)&&(O[de]=G[de])}return O}:m=Object.assign;var p=y(function(b,O,P){for(var G=Object.keys(O),de=0;de<G.length;)(!P||P&&b[G[de]]===i)&&(b[G[de]]=O[G[de]]),de++;return b},"extend","Use `assign`."),g=y(function(b,O){return p(b,O,!0)},"merge","Use `assign`.");function w(v,b,O){var P=b.prototype,G;G=v.prototype=Object.create(P),G.constructor=v,G._super=P,O&&m(G,O)}function T(v,b){return function(){return v.apply(b,arguments)}}function k(v,b){return typeof v==a?v.apply(b&&b[0]||i,b):v}function _(v,b){return v===i?b:v}function C(v,b,O){d(R(b),function(P){v.addEventListener(P,O,!1)})}function I(v,b,O){d(R(b),function(P){v.removeEventListener(P,O,!1)})}function M(v,b){for(;v;){if(v==b)return!0;v=v.parentNode}return!1}function x(v,b){return v.indexOf(b)>-1}function R(v){return v.trim().split(/\s+/g)}function W(v,b,O){if(v.indexOf&&!O)return v.indexOf(b);for(var P=0;P<v.length;){if(O&&v[P][O]==b||!O&&v[P]===b)return P;P++}return-1}function N(v){return Array.prototype.slice.call(v,0)}function se(v,b,O){for(var P=[],G=[],de=0;de<v.length;){var $e=v[de][b];W(G,$e)<0&&P.push(v[de]),G[de]=$e,de++}return P=P.sort(function(Zt,vn){return Zt[b]>vn[b]}),P}function De(v,b){if(!v)return i;for(var O,P,G=b[0].toUpperCase()+b.slice(1),de=0;de<r.length;){if(O=r[de],P=O?O+G:b,P in v)return P;de++}return i}var Xe=1;function Re(){return Xe++}function be(v){var b=v.ownerDocument||v;return b.defaultView||b.parentWindow||e}var Ee=/mobile|tablet|ip(ad|hone|od)|android/i,vt="ontouchstart"in e,z=De(e,"PointerEvent")!==i,X=vt&&Ee.test(navigator.userAgent),ee="touch",Le="pen",ct="mouse",os="kinect",en=25,$=1,oe=2,J=4,le=8,Ye=1,Ke=2,S=4,D=8,L=16,j=Ke|S,F=D|L,K=j|F,ie=["x","y"],ne=["clientX","clientY"];function Q(v,b){var O=this;this.manager=v,this.callback=b,this.element=v.element,this.target=v.options.inputTarget,this.domHandler=function(P){k(v.options.enable,[v])&&O.handler(P)},this.init()}Q.prototype={handler:function(){},init:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(be(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&I(this.element,this.evEl,this.domHandler),this.evTarget&&I(this.target,this.evTarget,this.domHandler),this.evWin&&I(be(this.element),this.evWin,this.domHandler)}};function Z(v){var b,O=v.options.inputClass;return O?b=O:z?b=su:X?b=tl:vt?b=iu:b=Ji,new b(v,Te)}function Te(v,b,O){var P=O.pointers.length,G=O.changedPointers.length,de=b&$&&P-G===0,$e=b&(J|le)&&P-G===0;O.isFirst=!!de,O.isFinal=!!$e,de&&(v.session={}),O.eventType=b,ce(v,O),v.emit("hammer.input",O),v.recognize(O),v.session.prevInput=O}function ce(v,b){var O=v.session,P=b.pointers,G=P.length;O.firstInput||(O.firstInput=V(b)),G>1&&!O.firstMultiple?O.firstMultiple=V(b):G===1&&(O.firstMultiple=!1);var de=O.firstInput,$e=O.firstMultiple,Ft=$e?$e.center:de.center,Zt=b.center=Se(P);b.timeStamp=u(),b.deltaTime=b.timeStamp-de.timeStamp,b.angle=It(Ft,Zt),b.distance=je(Ft,Zt),ye(O,b),b.offsetDirection=rt(b.deltaX,b.deltaY);var vn=Oe(b.deltaTime,b.deltaX,b.deltaY);b.overallVelocityX=vn.x,b.overallVelocityY=vn.y,b.overallVelocity=c(vn.x)>c(vn.y)?vn.x:vn.y,b.scale=$e?Nt($e.pointers,P):1,b.rotation=$e?Yt($e.pointers,P):0,b.maxPointers=O.prevInput?b.pointers.length>O.prevInput.maxPointers?b.pointers.length:O.prevInput.maxPointers:b.pointers.length,ke(O,b);var As=v.element;M(b.srcEvent.target,As)&&(As=b.srcEvent.target),b.target=As}function ye(v,b){var O=b.center,P=v.offsetDelta||{},G=v.prevDelta||{},de=v.prevInput||{};(b.eventType===$||de.eventType===J)&&(G=v.prevDelta={x:de.deltaX||0,y:de.deltaY||0},P=v.offsetDelta={x:O.x,y:O.y}),b.deltaX=G.x+(O.x-P.x),b.deltaY=G.y+(O.y-P.y)}function ke(v,b){var O=v.lastInterval||b,P=b.timeStamp-O.timeStamp,G,de,$e,Ft;if(b.eventType!=le&&(P>en||O.velocity===i)){var Zt=b.deltaX-O.deltaX,vn=b.deltaY-O.deltaY,As=Oe(P,Zt,vn);de=As.x,$e=As.y,G=c(As.x)>c(As.y)?As.x:As.y,Ft=rt(Zt,vn),v.lastInterval=b}else G=O.velocity,de=O.velocityX,$e=O.velocityY,Ft=O.direction;b.velocity=G,b.velocityX=de,b.velocityY=$e,b.direction=Ft}function V(v){for(var b=[],O=0;O<v.pointers.length;)b[O]={clientX:l(v.pointers[O].clientX),clientY:l(v.pointers[O].clientY)},O++;return{timeStamp:u(),pointers:b,center:Se(b),deltaX:v.deltaX,deltaY:v.deltaY}}function Se(v){var b=v.length;if(b===1)return{x:l(v[0].clientX),y:l(v[0].clientY)};for(var O=0,P=0,G=0;G<b;)O+=v[G].clientX,P+=v[G].clientY,G++;return{x:l(O/b),y:l(P/b)}}function Oe(v,b,O){return{x:b/v||0,y:O/v||0}}function rt(v,b){return v===b?Ye:c(v)>=c(b)?v<0?Ke:S:b<0?D:L}function je(v,b,O){O||(O=ie);var P=b[O[0]]-v[O[0]],G=b[O[1]]-v[O[1]];return Math.sqrt(P*P+G*G)}function It(v,b,O){O||(O=ie);var P=b[O[0]]-v[O[0]],G=b[O[1]]-v[O[1]];return Math.atan2(G,P)*180/Math.PI}function Yt(v,b){return It(b[1],b[0],ne)-It(v[1],v[0],ne)}function Nt(v,b){return je(b[0],b[1],ne)/je(v[0],v[1],ne)}var Lt={mousedown:$,mousemove:oe,mouseup:J},tn="mousedown",gn="mousemove mouseup";function Ji(){this.evEl=tn,this.evWin=gn,this.pressed=!1,Q.apply(this,arguments)}w(Ji,Q,{handler:function(b){var O=Lt[b.type];O&$&&b.button===0&&(this.pressed=!0),O&oe&&b.which!==1&&(O=J),this.pressed&&(O&J&&(this.pressed=!1),this.callback(this.manager,O,{pointers:[b],changedPointers:[b],pointerType:ct,srcEvent:b}))}});var r1={pointerdown:$,pointermove:oe,pointerup:J,pointercancel:le,pointerout:le},o1={2:ee,3:Le,4:ct,5:os},wd="pointerdown",bd="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(wd="MSPointerDown",bd="MSPointerMove MSPointerUp MSPointerCancel");function su(){this.evEl=wd,this.evWin=bd,Q.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}w(su,Q,{handler:function(b){var O=this.store,P=!1,G=b.type.toLowerCase().replace("ms",""),de=r1[G],$e=o1[b.pointerType]||b.pointerType,Ft=$e==ee,Zt=W(O,b.pointerId,"pointerId");de&$&&(b.button===0||Ft)?Zt<0&&(O.push(b),Zt=O.length-1):de&(J|le)&&(P=!0),!(Zt<0)&&(O[Zt]=b,this.callback(this.manager,de,{pointers:O,changedPointers:[b],pointerType:$e,srcEvent:b}),P&&O.splice(Zt,1))}});var a1={touchstart:$,touchmove:oe,touchend:J,touchcancel:le},l1="touchstart",c1="touchstart touchmove touchend touchcancel";function Td(){this.evTarget=l1,this.evWin=c1,this.started=!1,Q.apply(this,arguments)}w(Td,Q,{handler:function(b){var O=a1[b.type];if(O===$&&(this.started=!0),!!this.started){var P=u1.call(this,b,O);O&(J|le)&&P[0].length-P[1].length===0&&(this.started=!1),this.callback(this.manager,O,{pointers:P[0],changedPointers:P[1],pointerType:ee,srcEvent:b})}}});function u1(v,b){var O=N(v.touches),P=N(v.changedTouches);return b&(J|le)&&(O=se(O.concat(P),"identifier")),[O,P]}var f1={touchstart:$,touchmove:oe,touchend:J,touchcancel:le},h1="touchstart touchmove touchend touchcancel";function tl(){this.evTarget=h1,this.targetIds={},Q.apply(this,arguments)}w(tl,Q,{handler:function(b){var O=f1[b.type],P=d1.call(this,b,O);P&&this.callback(this.manager,O,{pointers:P[0],changedPointers:P[1],pointerType:ee,srcEvent:b})}});function d1(v,b){var O=N(v.touches),P=this.targetIds;if(b&($|oe)&&O.length===1)return P[O[0].identifier]=!0,[O,O];var G,de,$e=N(v.changedTouches),Ft=[],Zt=this.target;if(de=O.filter(function(vn){return M(vn.target,Zt)}),b===$)for(G=0;G<de.length;)P[de[G].identifier]=!0,G++;for(G=0;G<$e.length;)P[$e[G].identifier]&&Ft.push($e[G]),b&(J|le)&&delete P[$e[G].identifier],G++;if(Ft.length)return[se(de.concat(Ft),"identifier"),Ft]}var m1=2500,Ed=25;function iu(){Q.apply(this,arguments);var v=T(this.handler,this);this.touch=new tl(this.manager,v),this.mouse=new Ji(this.manager,v),this.primaryTouch=null,this.lastTouches=[]}w(iu,Q,{handler:function(b,O,P){var G=P.pointerType==ee,de=P.pointerType==ct;if(!(de&&P.sourceCapabilities&&P.sourceCapabilities.firesTouchEvents)){if(G)p1.call(this,O,P);else if(de&&y1.call(this,P))return;this.callback(b,O,P)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function p1(v,b){v&$?(this.primaryTouch=b.changedPointers[0].identifier,Sd.call(this,b)):v&(J|le)&&Sd.call(this,b)}function Sd(v){var b=v.changedPointers[0];if(b.identifier===this.primaryTouch){var O={x:b.clientX,y:b.clientY};this.lastTouches.push(O);var P=this.lastTouches,G=function(){var de=P.indexOf(O);de>-1&&P.splice(de,1)};setTimeout(G,m1)}}function y1(v){for(var b=v.srcEvent.clientX,O=v.srcEvent.clientY,P=0;P<this.lastTouches.length;P++){var G=this.lastTouches[P],de=Math.abs(b-G.x),$e=Math.abs(O-G.y);if(de<=Ed&&$e<=Ed)return!0}return!1}var kd=De(o.style,"touchAction"),_d=kd!==i,Dd="compute",Od="auto",ru="manipulation",Qi="none",zo="pan-x",Ho="pan-y",nl=v1();function ou(v,b){this.manager=v,this.set(b)}ou.prototype={set:function(v){v==Dd&&(v=this.compute()),_d&&this.manager.element.style&&nl[v]&&(this.manager.element.style[kd]=v),this.actions=v.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var v=[];return d(this.manager.recognizers,function(b){k(b.options.enable,[b])&&(v=v.concat(b.getTouchAction()))}),g1(v.join(" "))},preventDefaults:function(v){var b=v.srcEvent,O=v.offsetDirection;if(this.manager.session.prevented){b.preventDefault();return}var P=this.actions,G=x(P,Qi)&&!nl[Qi],de=x(P,Ho)&&!nl[Ho],$e=x(P,zo)&&!nl[zo];if(G){var Ft=v.pointers.length===1,Zt=v.distance<2,vn=v.deltaTime<250;if(Ft&&Zt&&vn)return}if(!($e&&de)&&(G||de&&O&j||$e&&O&F))return this.preventSrc(b)},preventSrc:function(v){this.manager.session.prevented=!0,v.preventDefault()}};function g1(v){if(x(v,Qi))return Qi;var b=x(v,zo),O=x(v,Ho);return b&&O?Qi:b||O?b?zo:Ho:x(v,ru)?ru:Od}function v1(){if(!_d)return!1;var v={},b=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(O){v[O]=b?e.CSS.supports("touch-action",O):!0}),v}var sl=1,qn=2,$r=4,oi=8,Hs=oi,Bo=16,Cs=32;function Bs(v){this.options=m({},this.defaults,v||{}),this.id=Re(),this.manager=null,this.options.enable=_(this.options.enable,!0),this.state=sl,this.simultaneous={},this.requireFail=[]}Bs.prototype={defaults:{},set:function(v){return m(this.options,v),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(v){if(h(v,"recognizeWith",this))return this;var b=this.simultaneous;return v=il(v,this),b[v.id]||(b[v.id]=v,v.recognizeWith(this)),this},dropRecognizeWith:function(v){return h(v,"dropRecognizeWith",this)?this:(v=il(v,this),delete this.simultaneous[v.id],this)},requireFailure:function(v){if(h(v,"requireFailure",this))return this;var b=this.requireFail;return v=il(v,this),W(b,v)===-1&&(b.push(v),v.requireFailure(this)),this},dropRequireFailure:function(v){if(h(v,"dropRequireFailure",this))return this;v=il(v,this);var b=W(this.requireFail,v);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(v){return!!this.simultaneous[v.id]},emit:function(v){var b=this,O=this.state;function P(G){b.manager.emit(G,v)}O<oi&&P(b.options.event+Id(O)),P(b.options.event),v.additionalEvent&&P(v.additionalEvent),O>=oi&&P(b.options.event+Id(O))},tryEmit:function(v){if(this.canEmit())return this.emit(v);this.state=Cs},canEmit:function(){for(var v=0;v<this.requireFail.length;){if(!(this.requireFail[v].state&(Cs|sl)))return!1;v++}return!0},recognize:function(v){var b=m({},v);if(!k(this.options.enable,[this,b])){this.reset(),this.state=Cs;return}this.state&(Hs|Bo|Cs)&&(this.state=sl),this.state=this.process(b),this.state&(qn|$r|oi|Bo)&&this.tryEmit(b)},process:function(v){},getTouchAction:function(){},reset:function(){}};function Id(v){return v&Bo?"cancel":v&oi?"end":v&$r?"move":v&qn?"start":""}function Md(v){return v==L?"down":v==D?"up":v==Ke?"left":v==S?"right":""}function il(v,b){var O=b.manager;return O?O.get(v):v}function as(){Bs.apply(this,arguments)}w(as,Bs,{defaults:{pointers:1},attrTest:function(v){var b=this.options.pointers;return b===0||v.pointers.length===b},process:function(v){var b=this.state,O=v.eventType,P=b&(qn|$r),G=this.attrTest(v);return P&&(O&le||!G)?b|Bo:P||G?O&J?b|oi:b&qn?b|$r:qn:Cs}});function rl(){as.apply(this,arguments),this.pX=null,this.pY=null}w(rl,as,{defaults:{event:"pan",threshold:10,pointers:1,direction:K},getTouchAction:function(){var v=this.options.direction,b=[];return v&j&&b.push(Ho),v&F&&b.push(zo),b},directionTest:function(v){var b=this.options,O=!0,P=v.distance,G=v.direction,de=v.deltaX,$e=v.deltaY;return G&b.direction||(b.direction&j?(G=de===0?Ye:de<0?Ke:S,O=de!=this.pX,P=Math.abs(v.deltaX)):(G=$e===0?Ye:$e<0?D:L,O=$e!=this.pY,P=Math.abs(v.deltaY))),v.direction=G,O&&P>b.threshold&&G&b.direction},attrTest:function(v){return as.prototype.attrTest.call(this,v)&&(this.state&qn||!(this.state&qn)&&this.directionTest(v))},emit:function(v){this.pX=v.deltaX,this.pY=v.deltaY;var b=Md(v.direction);b&&(v.additionalEvent=this.options.event+b),this._super.emit.call(this,v)}});function au(){as.apply(this,arguments)}w(au,as,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Qi]},attrTest:function(v){return this._super.attrTest.call(this,v)&&(Math.abs(v.scale-1)>this.options.threshold||this.state&qn)},emit:function(v){if(v.scale!==1){var b=v.scale<1?"in":"out";v.additionalEvent=this.options.event+b}this._super.emit.call(this,v)}});function lu(){Bs.apply(this,arguments),this._timer=null,this._input=null}w(lu,Bs,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Od]},process:function(v){var b=this.options,O=v.pointers.length===b.pointers,P=v.distance<b.threshold,G=v.deltaTime>b.time;if(this._input=v,!P||!O||v.eventType&(J|le)&&!G)this.reset();else if(v.eventType&$)this.reset(),this._timer=f(function(){this.state=Hs,this.tryEmit()},b.time,this);else if(v.eventType&J)return Hs;return Cs},reset:function(){clearTimeout(this._timer)},emit:function(v){this.state===Hs&&(v&&v.eventType&J?this.manager.emit(this.options.event+"up",v):(this._input.timeStamp=u(),this.manager.emit(this.options.event,this._input)))}});function cu(){as.apply(this,arguments)}w(cu,as,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Qi]},attrTest:function(v){return this._super.attrTest.call(this,v)&&(Math.abs(v.rotation)>this.options.threshold||this.state&qn)}});function uu(){as.apply(this,arguments)}w(uu,as,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:j|F,pointers:1},getTouchAction:function(){return rl.prototype.getTouchAction.call(this)},attrTest:function(v){var b=this.options.direction,O;return b&(j|F)?O=v.overallVelocity:b&j?O=v.overallVelocityX:b&F&&(O=v.overallVelocityY),this._super.attrTest.call(this,v)&&b&v.offsetDirection&&v.distance>this.options.threshold&&v.maxPointers==this.options.pointers&&c(O)>this.options.velocity&&v.eventType&J},emit:function(v){var b=Md(v.offsetDirection);b&&this.manager.emit(this.options.event+b,v),this.manager.emit(this.options.event,v)}});function ol(){Bs.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}w(ol,Bs,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ru]},process:function(v){var b=this.options,O=v.pointers.length===b.pointers,P=v.distance<b.threshold,G=v.deltaTime<b.time;if(this.reset(),v.eventType&$&&this.count===0)return this.failTimeout();if(P&&G&&O){if(v.eventType!=J)return this.failTimeout();var de=this.pTime?v.timeStamp-this.pTime<b.interval:!0,$e=!this.pCenter||je(this.pCenter,v.center)<b.posThreshold;this.pTime=v.timeStamp,this.pCenter=v.center,!$e||!de?this.count=1:this.count+=1,this._input=v;var Ft=this.count%b.taps;if(Ft===0)return this.hasRequireFailures()?(this._timer=f(function(){this.state=Hs,this.tryEmit()},b.interval,this),qn):Hs}return Cs},failTimeout:function(){return this._timer=f(function(){this.state=Cs},this.options.interval,this),Cs},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Hs&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function ai(v,b){return b=b||{},b.recognizers=_(b.recognizers,ai.defaults.preset),new fu(v,b)}ai.VERSION="2.1.0-pre3",ai.defaults={domEvents:!1,touchAction:Dd,enable:!0,inputTarget:null,inputClass:null,preset:[[cu,{enable:!1}],[au,{enable:!1},["rotate"]],[uu,{direction:j}],[rl,{direction:j},["swipe"]],[ol],[ol,{event:"doubletap",taps:2},["tap"]],[lu]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var w1=1,xd=2;function fu(v,b){this.options=m({},ai.defaults,b||{}),this.options.inputTarget=this.options.inputTarget||v,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=v,this.input=Z(this),this.touchAction=new ou(this,this.options.touchAction),Cd(this,!0),d(this.options.recognizers,function(O){var P=this.add(new O[0](O[1]));O[2]&&P.recognizeWith(O[2]),O[3]&&P.requireFailure(O[3])},this)}fu.prototype={set:function(v){return m(this.options,v),v.touchAction&&this.touchAction.update(),v.inputTarget&&(this.input.destroy(),this.input.target=v.inputTarget,this.input.init()),this},stop:function(v){this.session.stopped=v?xd:w1},recognize:function(v){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(v);var O,P=this.recognizers,G=b.curRecognizer;(!G||G&&G.state&Hs)&&(G=b.curRecognizer=null);for(var de=0;de<P.length;)O=P[de],b.stopped!==xd&&(!G||O==G||O.canRecognizeWith(G))?O.recognize(v):O.reset(),!G&&O.state&(qn|$r|oi)&&(G=b.curRecognizer=O),de++}},get:function(v){if(v instanceof Bs)return v;for(var b=this.recognizers,O=0;O<b.length;O++)if(b[O].options.event==v)return b[O];return null},add:function(v){if(h(v,"add",this))return this;var b=this.get(v.options.event);return b&&this.remove(b),this.recognizers.push(v),v.manager=this,this.touchAction.update(),v},remove:function(v){if(h(v,"remove",this))return this;if(v=this.get(v),v){var b=this.recognizers,O=W(b,v);O!==-1&&(b.splice(O,1),this.touchAction.update())}return this},on:function(v,b){if(v!==i&&b!==i){var O=this.handlers;return d(R(v),function(P){O[P]=O[P]||[],O[P].push(b)}),this}},off:function(v,b){if(v!==i){var O=this.handlers;return d(R(v),function(P){b?O[P]&&O[P].splice(W(O[P],b),1):delete O[P]}),this}},emit:function(v,b){this.options.domEvents&&b1(v,b);var O=this.handlers[v]&&this.handlers[v].slice();if(!(!O||!O.length)){b.type=v,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var P=0;P<O.length;)O[P](b),P++}},destroy:function(){this.element&&Cd(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Cd(v,b){var O=v.element;if(O.style){var P;d(v.options.cssProps,function(G,de){P=De(O.style,de),b?(v.oldCssProps[P]=O.style[P],O.style[P]=G):O.style[P]=v.oldCssProps[P]||""}),b||(v.oldCssProps={})}}function b1(v,b){var O=n.createEvent("Event");O.initEvent(v,!0,!0),O.gesture=b,b.target.dispatchEvent(O)}m(ai,{INPUT_START:$,INPUT_MOVE:oe,INPUT_END:J,INPUT_CANCEL:le,STATE_POSSIBLE:sl,STATE_BEGAN:qn,STATE_CHANGED:$r,STATE_ENDED:oi,STATE_RECOGNIZED:Hs,STATE_CANCELLED:Bo,STATE_FAILED:Cs,DIRECTION_NONE:Ye,DIRECTION_LEFT:Ke,DIRECTION_RIGHT:S,DIRECTION_UP:D,DIRECTION_DOWN:L,DIRECTION_HORIZONTAL:j,DIRECTION_VERTICAL:F,DIRECTION_ALL:K,Manager:fu,Input:Q,TouchAction:ou,TouchInput:tl,MouseInput:Ji,PointerEventInput:su,TouchMouseInput:iu,SingleTouchInput:Td,Recognizer:Bs,AttrRecognizer:as,Tap:ol,Pan:rl,Swipe:uu,Pinch:au,Rotate:cu,Press:lu,on:C,off:I,each:d,merge:g,extend:p,assign:m,inherit:w,bindFn:T,prefixed:De});var T1=typeof e<"u"?e:typeof self<"u"?self:{};T1.Hammer=ai,t.exports?t.exports=ai:e[s]=ai}(window,document,"Hammer")})(Qw);var gA=Qw.exports;const ef=yA(gA);function e1(t){return lh()?(Wy(t),!0):!1}function Ya(t){return typeof t=="function"?t():Y(t)}const vA=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Tc=()=>{};function t1(t,e){function n(...s){return new Promise((i,r)=>{Promise.resolve(t(()=>e.apply(this,s),{fn:e,thisArg:this,args:s})).then(i).catch(r)})}return n}function wA(t,e={}){let n,s,i=Tc;const r=a=>{clearTimeout(a),i(),i=Tc};return a=>{const l=Ya(t),c=Ya(e.maxWait);return n&&r(n),l<=0||c!==void 0&&c<=0?(s&&(r(s),s=null),Promise.resolve(a())):new Promise((u,f)=>{i=e.rejectOnCancel?f:u,c&&!s&&(s=setTimeout(()=>{n&&r(n),s=null,u(a())},c)),n=setTimeout(()=>{s&&r(s),s=null,u(a())},l)})}}function bA(...t){let e=0,n,s=!0,i=Tc,r,o,a,l,c;!Et(t[0])&&typeof t[0]=="object"?{delay:o,trailing:a=!0,leading:l=!0,rejectOnCancel:c=!1}=t[0]:[o,a=!0,l=!0,c=!1]=t;const u=()=>{n&&(clearTimeout(n),n=void 0,i(),i=Tc)};return h=>{const d=Ya(o),y=Date.now()-e,m=()=>r=h();return u(),d<=0?(e=Date.now(),m()):(y>d&&(l||!s)?(e=Date.now(),m()):a&&(r=new Promise((p,g)=>{i=c?g:p,n=setTimeout(()=>{e=Date.now(),s=!0,p(m()),u()},Math.max(0,d-y))})),!l&&!n&&(n=setTimeout(()=>s=!0,d)),s=!1,r)}}function TA(t,e=200,n={}){return t1(wA(e,n),t)}function EA(t,e=200,n=!1,s=!0,i=!1){return t1(bA(e,n,s,i),t)}function Oy(t){var e;const n=Ya(t);return(e=n==null?void 0:n.$el)!=null?e:n}const n1=vA?window:void 0;function SA(){const t=he(!1),e=Bg();return e&&ri(()=>{t.value=!0},e),t}function s1(t){const e=SA();return A(()=>(e.value,!!t()))}function Iy(t,e={}){const{window:n=n1}=e,s=s1(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let i;const r=he(!1),o=c=>{r.value=c.matches},a=()=>{i&&("removeEventListener"in i?i.removeEventListener("change",o):i.removeListener(o))},l=xr(()=>{s.value&&(a(),i=n.matchMedia(Ya(t)),"addEventListener"in i?i.addEventListener("change",o):i.addListener(o),r.value=i.matches)});return e1(()=>{l(),a(),i=void 0}),r}function kA(t,e,n={}){const{window:s=n1,...i}=n;let r;const o=s1(()=>s&&"ResizeObserver"in s),a=()=>{r&&(r.disconnect(),r=void 0)},l=A(()=>Array.isArray(t)?t.map(f=>Oy(f)):[Oy(t)]),c=ht(l,f=>{if(a(),o.value&&s){r=new ResizeObserver(e);for(const h of f)h&&r.observe(h,i)}},{immediate:!0,flush:"post"}),u=()=>{a(),c()};return e1(u),{isSupported:o,stop:u}}const _A=(t,e=()=>{})=>{const n=Ue();let s=()=>{};const i=he(!1);let r=null,o,a,l,c,u=he(),f,h,d;const y=nu(),m=A(()=>u.value!==void 0);let p;const g=N=>{if(N.preventDefault(),t.value.offsetLeft,t.value.scrollLeft,r){const se=o+c-N.center.y;let De=N.scale;if(r*De>bc&&(De=1),De!==1&&n.setPageScale(r*N.scale)){const Xe=a+l-N.center.x;t.value.scrollLeft=Xe,t.value.scrollTop=se,e()}}else{i.value=!0,r=n.pageScale,o=t.value.scrollTop,a=t.value.scrollLeft,l=N.center.x,c=N.center.y;const se=n.dateFromClientLeft(l),De=n.distanceBetweenDates(se,n.referenceDate);n.referenceDate=se,a=t.value.scrollLeft+De,t.value.scrollLeft=a}},w=N=>{N.preventDefault(),i.value=!1,r=null,a=null,o=null,l=null,c=null},_={startGesture:N=>{if(i.value=!0,!r){r=n.pageScale,o=t.value.scrollTop,a=t.value.scrollLeft,l=N.origin.x-(t.value.offsetLeft+n.leftInsetWidth),c=N.origin.y;const se=n.dateFromClientLeft(N.origin.x),De=n.distanceBetweenDates(se,n.referenceDate);n.referenceDate=se,t.value.scrollLeft=t.value.scrollLeft+De}},doGesture:N=>{const se=r*N.scale;if(!(se>bc)){if(i.value=!0,n.setPageScale(se)){const De=o+c-N.origin.y;t.value.scrollTop=De,e()}r=null,a=null,o=null,l=null,c=null,i.value=!1,s()}}},C=N=>{N.touches.length>=2&&(p.get("pinch").set({enable:!0}),N.preventDefault())},I=N=>{N.touches.length<=2&&p.get("pinch").set({enable:!1})},M=N=>{y.canPan&&typeof u.value>"u"&&(N.preventDefault(),h=t.value.scrollLeft,d=t.value.scrollTop,u.value=N.srcEvent.clientX,f=N.srcEvent.clientY)},x=N=>{N.maxPointers>=2||!y.canPan||!u.value||N.isFinal||(t.value.scrollLeft=h+u.value-N.srcEvent.clientX,t.value.scrollTop=d+f-N.srcEvent.clientY)},R=N=>{u.value=void 0,f=void 0,h=void 0,d=void 0},W=()=>{p=new ef.Manager(t.value,{recognizers:[[ef.Pinch,{enable:!0,touchAction:"pan-x pan-y"}],[ef.Pan,{enable:!0}]]}),p.on("pinch",EA(N=>g(N),20,!1,!0)),p.on("pinchend",w),p.on("panstart",M),p.on("pan",x),p.on("panend",R)};return ri(()=>{s=pA(t.value,_),W()}),xc(()=>{var N,se;(N=t.value)==null||N.removeEventListener("touchstart",C),(se=t.value)==null||se.removeEventListener("touchend",I)}),{isZooming:i,isPanning:m}},DA=t=>{const e=tu(),n=Ue(),s=he(0),i=a=>{s.value=a.clientX},r=a=>{const l=e.rangeFromOffsetLeft(a),c=e.markers.find(u=>+l[0].dateTime==+u.dateTime);e.setHoveringMarker(c),e.setRange(l)};ht(s,r);const o=()=>r(s.value);return ht(()=>n.pageScale,o),ri(()=>{var a;return(a=t.value)==null?void 0:a.addEventListener("mousemove",i)}),xc(()=>{var a;return(a=t.value)==null?void 0:a.removeEventListener("mousemove",i)}),{trigger:o}},OA=t=>{const e=Ue(),n=A(()=>e.transformedEvents),s=he();return xr(()=>{if(!t){s.value=void 0;return}const i=Y(t);if(!i){s.value=void 0;return}let r;r=n.value,s.value=r?ua(r,i):void 0}),s},IA=["d","fill","stroke","stroke-width"],MA=["x","y"],xA={key:0,class:"svgDateText"},CA={key:1,class:"svgEventTitle"},AA=Fe({__name:"EventRowSvg",props:{eventy:{},path:{},numChildren:{},numAbove:{},totalHeight:{},totalWidth:{},height:{},earliestTime:{},latestTime:{},heightUnit:{},dark:{type:Boolean},scale:{},showDateText:{type:Boolean},showEventTitles:{type:Boolean},rowHeight:{},roundedLeft:{type:Boolean},roundedRight:{type:Boolean}},setup(t,{expose:e}){const n=t,{scalelessDistanceBetweenDates:s}=Ue(),{color:i,eventRange:r,dateText:o}=Jw(A(()=>n.eventy)),a=A(()=>Kt(r.value)),l=A(()=>n.eventy.recurrence),c=A(()=>(l.value?ud(a.value,l.value,Ki):[a.value]).map(k=>s(n.earliestTime,k.fromDateTime)*n.scale)),u=A(()=>s(a.value.fromDateTime,a.value.toDateTime)*n.scale),f=A(()=>n.height/n.totalHeight*n.totalWidth),h=A(()=>f.value+n.totalWidth/n.totalHeight),d=A(()=>h.value-n.heightUnit/(4*n.rowHeight/3)),y=A(()=>f.value+n.heightUnit/(4*n.rowHeight/3)),m=k=>{const _=(d.value-y.value)/2,C=n.roundedRight?`A ${_} ${_} 0 0 0`:"L",I=n.roundedLeft?`A ${_} ${_} 0 0 0`:"L";return`M ${k+u.value} ${d.value} ${C} ${k+u.value} ${y.value} L ${k} ${y.value} ${I} ${k} ${d.value} Z`},p=A(()=>c.value[c.value.length-1]+u.value),g=he(),w=()=>{var k;return p.value+(((k=g.value)==null?void 0:k.getComputedTextLength())||0)},T=A(()=>n.heightUnit/10);return e({getRightmostX:w}),(k,_)=>{var C;return te(),pe(qe,null,[(te(!0),pe(qe,null,Ds(c.value,I=>(te(),pe("path",{"fill-rule":"evenodd",d:m(I),fill:`rgba(${Y(i)||(k.dark?"255, 255, 255":"0, 0, 0")}, 0.8)`,stroke:`rgb(${Y(i)||(k.dark?"255, 255, 255":"0, 0, 0")})`,"stroke-width":T.value},null,8,IA))),256)),q("text",{x:p.value,y:d.value,ref_key:"text",ref:g},[_[0]||(_[0]=q("tspan",{class:"svgDateText"},"",-1)),k.showDateText?(te(),pe("tspan",xA,""+Vt(Y(o)),1)):nt("",!0),k.showEventTitles?(te(),pe("tspan",CA,""+Vt((C=k.eventy.firstLine)==null?void 0:C.restTrimmed),1)):nt("",!0)],8,MA)],64)}}}),NA=["stroke","stroke-dasharray","stroke-width","d"],LA=["x","y"],RA=Fe({__name:"MarkersSvg",props:{showMarkers:{},earliestTime:{},latestTime:{},scale:{},totalWidth:{},heightUnit:{},startY:{},dark:{type:Boolean}},setup(t){const e=t,s=Ue().scalelessDistanceBetweenDates,i=u=>s(e.earliestTime,u)*e.scale,r=A(()=>e.showMarkers&&["minute","quarterhour","hour","day","month","year","decade"].find(u=>{var f,h;return!!e.showMarkers[u]&&(((f=e.showMarkers[u])==null?void 0:f.label)||((h=e.showMarkers[u])==null?void 0:h.marker))})),o=A(()=>{if(!r.value)return;const u=Or(e.earliestTime,r.value),f=ya(e.latestTime,r.value);let h=u,d=[h];for(;+h<+f&&d.length<256;){let y={[r.value]:1};r.value==="decade"?y={years:10}:r.value==="quarterhour"&&(y={minutes:15}),h=h.plus(y),d.push(h)}return d}),a=A(()=>e.totalWidth+e.heightUnit*4),l=u=>["minute","quarterhour","hour","day","month","year","decade"].indexOf(u)+2,c=u=>Gw[l(r.value)][nh(u)](u);return(u,f)=>(te(!0),pe(qe,null,Ds(o.value,h=>(te(),pe(qe,null,[q("path",{stroke:`rgba(${u.dark?"200, 200, 200":"100, 100, 100"}, 0.15)`,"stroke-dasharray":`${u.heightUnit/5},${u.heightUnit/10}`,"stroke-width":u.heightUnit/10,d:`M ${i(h)} ${u.startY} L ${i(h)} ${a.value}`},null,8,NA),q("text",{class:"svgMarkerText",x:i(h)+u.heightUnit/4,y:u.startY*1.5+u.heightUnit/4},Vt(c(h)),9,LA)],64))),256))}}),PA=["viewBox"],$A=["x","width","height","fill"],YA=Fe({__name:"SvgView",props:{diffScale:{},dark:{type:Boolean},bg:{},showViewport:{type:Boolean},scale:{},showDateText:{type:Boolean},showEventTitles:{type:Boolean},rowHeight:{},roundedRight:{type:Boolean},roundedLeft:{type:Boolean},showMarkers:{},eras:{}},setup(t,{expose:e}){const n=el(),s=Rr(),i=(_,C,I="hours")=>C.diff(_).as(I),r=t,o=A(()=>(r.eras||[]).map(_=>({left:"left"in _?_.left:i(h.value,_.dateRange.fromDateTime),width:"width"in _?_.width:i(_.dateRange.fromDateTime,_.dateRange.toDateTime)}))),a=A(()=>r.scale||1),l=A(()=>Ir(n.nodes,Ki)||{fromDateTime:H.now(),toDateTime:H.now()}),c=A(()=>i(l.value.fromDateTime,l.value.toDateTime)),u=he(c.value),f=A(()=>c.value/n.height),h=A(()=>l.value.fromDateTime),d=A(()=>l.value.toDateTime),y=(_,C)=>({eventy:C,path:_.join(","),numChildren:n.childrenMap.get(_.join(","))||0,numAbove:n.predecessorMap.get(_.join(","))||0,totalHeight:n.height,totalWidth:c.value,height:n.predecessorMap.get(_.join(","))+1,heightUnit:f.value,earliestTime:h.value,latestTime:d.value,dark:r.dark,scale:a.value,showDateText:r.showDateText,showEventTitles:r.showEventTitles,rowHeight:r.rowHeight,roundedLeft:r.roundedLeft,roundedRight:r.roundedRight}),m=he(),p=()=>{if(!m.value)return 0;let _=0;for(let C=0;C<m.value.length;C++){const I=m.value[C].getRightmostX();I>_&&(_=I)}return _};e({getRightmostX:p});const g=()=>{u.value=p()+f.value*2};ht(r,_=>{bs(()=>g())});const w=A(()=>f.value/1.5*r.rowHeight/3),T=A(()=>-f.value),k=A(()=>f.value);return ri(()=>g()),(_,C)=>(te(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`${T.value} ${k.value} ${u.value} ${(_.rowHeight+2)*Y(n).height}`,fill:"currentColor",preserveAspectRatio:"xMinYMin meet",class:"w-full h-full"},[q("svg:style",null," .svgDateText { font: bold "+Vt(w.value)+"px system-ui; fill: #93979a; } .svgEventTitle { font: normal "+Vt(w.value)+"px system-ui; fill: "+Vt(_.dark?"white":"black")+"; } .svgMarkerText { font: normal "+Vt(w.value)+"px system-ui; fill: #93979a; } ",1),xe(RA,{showMarkers:_.showMarkers,earliestTime:h.value,latestTime:d.value,scale:a.value,totalWidth:c.value,heightUnit:f.value,startY:k.value,dark:_.dark},null,8,["showMarkers","earliestTime","latestTime","scale","totalWidth","heightUnit","startY","dark"]),(te(!0),pe(qe,null,Ds(Y(n).nodeArray,({path:I,eventy:M},x)=>{var R;return te(),pe(qe,null,[Y(yn)(M)&&!Y(s).isCollapsedChild(I)?(te(),mt(AA,ji({ref_for:!0,ref_key:"rows",ref:m,key:I.join(",")+((R=M.firstLine)==null?void 0:R.datePart)},y(I,M)),null,16)):nt("",!0)],64)}),256)),(te(!0),pe(qe,null,Ds(o.value,I=>(te(),pe("rect",{x:I.left,y:0,width:I.width,height:f.value*(Y(n).height+4),fill:`rgba(${_.dark?"255, 255, 255":"0, 0, 0"}, 0.1)`},null,8,$A))),256))],8,PA))}}),FA={key:0,class:"hintRight absolute -right-2 top-0 bottom-0 whitespace-nowrap flex items-center justify-center ml-2 bg-indigo-600 shadow-lg rounded px-2 font-bold text-white pointer-events-none",style:{transform:"translateX(100%)"}},UA={class:"z-10"},zA={class:"z-10"},HA=Fe({__name:"HoverHint",props:{hovering:{type:Boolean},shortcut:{},hoverPosition:{default:"right"},left:{default:0}},setup(t){return(e,n)=>(te(),mt(Kg,null,{default:At(()=>[e.hovering&&e.hoverPosition==="right"?(te(),pe("div",FA,[q("div",UA,[e.$slots.default?Sa(e.$slots,"default",{key:0},void 0,!0):nt("",!0)]),n[0]||(n[0]=q("div",{class:"absolute top-0 bottom-0 -left-[2px] rotate-45 bg-indigo-600 h-1/2 aspect-square translate-y-2/4 rounded shadow-sm"},null,-1))])):e.hovering&&e.hoverPosition==="top"?(te(),pe("div",{key:1,class:"hintTop absolute -top-1 whitespace-nowrap flex items-center justify-center mb-2 bg-indigo-600 shadow-lg rounded px-2 font-bold text-white pointer-events-none",style:tt({transform:"translateY(-100%)",left:`${e.left?e.left:2}px`})},[q("div",zA,[e.$slots.default?Sa(e.$slots,"default",{key:0},void 0,!0):nt("",!0)]),n[1]||(n[1]=q("div",{class:"absolute left-0 -bottom-[2px] rotate-45 bg-indigo-600 h-1/2 aspect-square translate-x-2/4 rounded shadow-sm"},null,-1))],4)):nt("",!0)]),_:3}))}}),BA=Pr(HA,[["__scopeId","data-v-dd7c9a39"]]),WA=()=>({isTouchscreen:Iy("(pointer: course)"),canHover:Iy("(hover)")}),jA={key:1},Vn=Fe({__name:"SettingsButton",props:{hoverHintTitle:{},hoverHintShortcut:{},selected:{type:Boolean},hoverHintLeft:{}},emits:["click"],setup(t,{emit:e}){const n=e,s=he(!1),{canHover:i}=WA(),r=i.value?{mouseover:()=>{s.value=!0},mouseleave:()=>{s.value=!1}}:{},o=()=>{s.value=!1,n("click")};return(a,l)=>(te(),pe("button",ji({onClick:o,class:"p-1 flex flex-row items-center hover:bg-zinc-200 transition dark:border-gray-900 dark:hover:bg-zinc-600 dark:hover:text-gray-100 text-sm lg:text-base font-bold relative shrink-0"},Th(Y(r)),{onMousedown:l[0]||(l[0]=on(()=>{},["stop"])),onTouchstart:l[1]||(l[1]=on(()=>{},["stop"])),class:{"text-indigo-600 outline-2 outline outline-indigo-600 dark:text-indigo-400 dark:outline-indigo-400":a.selected}}),[Sa(a.$slots,"default"),xe(BA,{"hover-position":"top",hovering:s.value,shortcut:a.hoverHintShortcut,left:a.hoverHintLeft},{default:At(()=>[a.$slots.hoverHint?Sa(a.$slots,"hoverHint",{key:0}):(te(),pe("span",jA,Vt(a.hoverHintTitle),1))]),_:3},8,["hovering","shortcut","left"])],16))}}),VA={class:"flex-col hidden lg:flex items-center justify-center flex-shrink px-1"},qA=["value"],KA=Fe({__name:"TimelineScale",setup(t){const e=Ue();function n(p){let g=0,w=1e3,T=Math.log(py);const _=(Math.log(bc)-T)/(w-g);return(Math.log(p)-T)/_+g}const s=he(n(e.pageScale)),i=p=>e.setPageScale(p);ht(()=>e.pageSettings.scale,p=>s.value=n(p));const r=p=>{const g=parseInt(p.target.value);let w=0,T=1e3,k=Math.log(py);const C=(Math.log(bc)-k)/(T-w),I=Math.exp(k+C*(g-w));i(I)},o=()=>e.setStartedWidthChange(!0),a=()=>e.setStartedWidthChange(!1);let l,c;const u=he(!1),f=he(!1);ht(u,p=>{if(p){e.setStartedWidthChange(!0);const g=()=>{bs(()=>{e.setPageScale(e.pageScale*1.05)}),l=setTimeout(g,10)};g()}else clearTimeout(l),e.setStartedWidthChange(!1)}),ht(f,p=>{if(p){e.setStartedWidthChange(!0);const g=()=>{bs(()=>{e.setPageScale(e.pageScale*.95)}),c=setTimeout(g,10)};g()}else clearTimeout(c),e.setStartedWidthChange(!1)});const h=p=>{f.value=!0,u.value=!1},d=p=>{f.value=!1,u.value=!1},y=p=>{u.value=!0,f.value=!1},m=p=>{f.value=!1,u.value=!1};return(p,g)=>(te(),pe(qe,null,[xe(Vn,{onMousedown:on(h,["stop"]),onTouchstart:on(h,["stop"]),onMouseup:d,onTouchend:d,onMouseout:d,onMouseleave:d,"hover-hint-title":"Zoom out"},{default:At(()=>g[0]||(g[0]=[q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"w-4 h-4","stroke-width":"1",stroke:"currentColor"},[q("path",{"fill-rule":"evenodd",d:"M3 10a.75.75 0 01.75-.75h10.5a.75.75 0 010 1.5H3.75A.75.75 0 013 10z","clip-rule":"evenodd"})],-1)])),_:1}),xe(Vn,{onMousedown:on(y,["stop"]),onTouchstart:on(y,["stop"]),onMouseup:m,onTouchend:m,onMouseout:m,onMouseleave:m,"hover-hint-title":"Zoom in"},{default:At(()=>g[1]||(g[1]=[q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"w-4 h-4","stroke-width":"1",stroke:"currentColor"},[q("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})],-1)])),_:1}),q("div",VA,[q("input",{type:"range",min:"0",max:"800",style:{width:"5rem",height:"1.125rem"},value:s.value,onInput:r,class:"bg-transparent flex-shrink",onMousedown:on(o,["stop"]),onMouseup:on(a,["stop"]),onTouchstart:on(o,["stop"]),"on:touchEnd":on(a,["stop"])},null,40,qA)])],64))}}),GA=Pr(KA,[["__scopeId","data-v-8aa586c7"]]),ZA=Fe({__name:"AutoCenter",setup(t){const{autoCenter:e}=Ue();return(n,s)=>(te(),mt(Vn,{onClick:Y(e),"hover-hint-title":"Center"},{default:At(()=>s[0]||(s[0]=[q("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",width:"40",height:"40",viewBox:"0 0 24 24",stroke:"currentColor",fill:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1"},[q("path",{d:"m 3 5 v 3 c 0 0.55 0.45 1 1 1 s 1 -0.45 1 -1 v -2 c 0 -0.55 0.45 -1 1 -1 h 2 c 0.55 0 1 -0.45 1 -1 s -0.45 -1 -1 -1 h -3 c -1.1 0 -2 0.9 -2 2 z m 1 10 c -0.55 0 -1 0.45 -1 1 v 3 c 0 1.1 0.9 2 2 2 h 3 c 0.55 0 1 -0.45 1 -1 s -0.45 -1 -1 -1 h -2 c -0.55 0 -1 -0.45 -1 -1 v -2 c 0 -0.55 -0.45 -1 -1 -1 z m 15 3 c 0 0.55 -0.45 1 -1 1 h -2 c -0.55 0 -1 0.45 -1 1 s 0.45 1 1 1 h 3 c 1.1 0 2 -0.9 2 -2 v -3 c 0 -0.55 -0.45 -1 -1 -1 s -1 0.45 -1 1 v 2 z m 0 -15 h -3 c -0.55 0 -1 0.45 -1 1 s 0.45 1 1 1 h 2 c 0.55 0 1 0.45 1 1 v 2 c 0 0.55 0.45 1 1 1 s 1 -0.45 1 -1 v -3 c 0 -1.1 -0.9 -2 -2 -2 z"}),q("rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",fill:"currentColor"})],-1)])),_:1},8,["onClick"]))}}),XA=Fe({__name:"CollapseAll",setup(t){const e=Rr(),n=()=>e.collapseAll();return(s,i)=>(te(),mt(Vn,{"hover-hint-title":"Collapse all",onClick:n},{default:At(()=>i[0]||(i[0]=[q("svg",{class:"h-4 w-4",focusable:"false","aria-hidden":"true",viewBox:"0 0 24 24",fill:"currentColor","stroke-width":"1",stroke:"currentColor"},[q("path",{d:"M8.12 19.3c.39.39 1.02.39 1.41 0L12 16.83l2.47 2.47c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41l-3.17-3.17a.9959.9959 0 0 0-1.41 0l-3.17 3.17c-.4.38-.4 1.02-.01 1.41zm7.76-14.6a.9959.9959 0 0 0-1.41 0L12 7.17 9.53 4.7a.9959.9959 0 0 0-1.41 0c-.39.39-.39 1.03 0 1.42l3.17 3.17c.39.39 1.02.39 1.41 0l3.17-3.17c.4-.39.4-1.03.01-1.42z"})],-1)])),_:1}))}}),JA=Fe({__name:"ExpandAll",setup(t){const e=Rr(),n=()=>e.expandAll();return(s,i)=>(te(),mt(Vn,{"hover-hint-title":"Expand all",onClick:n},{default:At(()=>i[0]||(i[0]=[q("svg",{class:"h-4 w-4",focusable:"false","aria-hidden":"true",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[q("path",{d:"m12 5.83 2.46 2.46c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L12.7 3.7a.9959.9959 0 0 0-1.41 0L8.12 6.88c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 5.83zm0 12.34-2.46-2.46a.9959.9959 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41l3.17 3.18c.39.39 1.02.39 1.41 0l3.17-3.17c.39-.39.39-1.02 0-1.41a.9959.9959 0 0 0-1.41 0L12 18.17z"})],-1)])),_:1}))}}),QA=Fe({__name:"ToggleMode",setup(t){const e=Ue(),n=()=>{e.mode=e.mode==="gantt"?"timeline":"gantt"};return(s,i)=>(te(),mt(Vn,{"hover-hint-title":"Gantt",onClick:n,selected:Y(e).mode==="gantt"},{default:At(()=>i[0]||(i[0]=[q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",class:"h-4 w-4"},[q("path",{fill:"currentColor",d:"m 14 13 h -3 c -0.55 0 -1 -0.45 -1 -1 s 0.45 -1 1 -1 h 3 c 0.55 0 1 0.45 1 1 s -0.45 1 -1 1 z m 0 -4 h -5 c -0.55 0 -1 -0.45 -1 -1 s 0.45 -1 1 -1 h 5 c 0.55 0 1 0.45 1 1 s -0.45 1 -1 1 z m -6 -4 h -1 c -0.55 0 -1 -0.45 -1 -1 s 0.45 -1 1 -1 h 2 c 0.55 0 1 0.45 1 1 s -0.45 1 -1 1 z M 2 4 L 2 12.5 A 1 1 0 0 0 3 13.5 L 3.5 13.5 A 1 1 0 0 0 4.5 12.5 L 4.5 3.5 A 1 1 0 0 0 3.5 2.5 L 3 2.5 A 1 1 0 0 0 2 3.5 Z"})],-1)])),_:1},8,["selected"]))}}),e2=Fe({__name:"ToggleNowLine",setup(t){const e=Ue(),n=()=>{e.setHideNowLine(!e.hideNowLine)};return(s,i)=>(te(),mt(Vn,{title:"Toggle now line",hoverHintTitle:"Toggle now line",onClick:n},{default:At(()=>i[0]||(i[0]=[q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 2 17 12",class:"h-4 w-4"},[q("path",{d:"m 2 3 a 1 1 0 0 0 0 2 h 11 a 1 1 0 1 0 0 -2 h -11 z m 1 4 a 1 1 0 0 0 0 2 h 11 a 1 1 0 0 0 0 -2 h -11 z m 1 4 a 1 1 0 1 0 0 2 h 11 a 1 1 0 1 0 0 -2 h -11 z",fill:"currentColor"}),q("path",{d:"M 9 1 L 9 15 L 11 15 L 11 1 L 11 1 Z",fill:"currentColor"})],-1)])),_:1}))}}),t2=Fe({__name:"ToggleDateTimeDisplay",setup(t){const e=Ue(),n=()=>{e.dateTimeDisplay=e.dateTimeDisplay==="off"?"original":"off"};return(s,i)=>(te(),mt(Vn,{onClick:n,"hover-hint-title":"Toggle date ranges"},{default:At(()=>i[0]||(i[0]=[q("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",width:"40",height:"40",viewBox:"0 0 24 24","stroke-width":"2.5",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[q("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),q("path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"}),q("path",{d:"M12 7v5l3 3"})],-1)])),_:1}))}}),n2=Fe({__name:"ToggleShowProgress",setup(t){const e=Ue(),n=()=>{e.progressDisplay=e.progressDisplay==="off"?"on":"off"};return(s,i)=>(te(),mt(Vn,{onClick:n,"hover-hint-title":"Toggle progress indicator"},{default:At(()=>i[0]||(i[0]=[q("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",width:"40",height:"40",viewBox:"0 0 24 24","stroke-width":"2.5",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[q("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),q("path",{d:"M9 11l3 3l8 -8"}),q("path",{d:"M20 12v6a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h9"})],-1)])),_:1}))}}),s2={class:"text-xs mt-px shrink-0"},i2=Fe({__name:"UserRanges",setup(t){const e=Ue();return ri(()=>{e.userRanges.length&&e.setRange(e.userRanges[0])}),(n,s)=>(te(!0),pe(qe,null,Ds(Y(e).userRanges,i=>(te(),mt(Vn,{onClick:r=>Y(e).setRange(i)},{default:At(()=>[q("span",s2,Vt(i.title),1)]),_:2},1032,["onClick"]))),256))}}),r2={class:"flex flex-row-items-center overflow-scroll noScrollBar relative"},o2={class:"flex flex-row gap-2 pt-16"},a2={class:"dark:bg-zinc-800 bg-white flex flex-row gap-2 px-2"},l2={class:"flex flex row overflow-visible p-[2px] pointer-events-auto",style:{"grid-area":"gantt"}},c2={class:"flex flex-row pointer-events-auto shrink-0"},u2={class:"flex flex row overflow-visible p-[2px] pointer-events-auto"},f2={class:"overflow-visible p-[2px] pointer-events-auto flex flex-row"},h2={class:"overflow-visible p-[2px] pointer-events-auto flex flex-row"},d2={class:"flex flex row overflow-visible p-[2px] pointer-events-auto link"},m2={class:"pr-1 font-mono text-xs",style:{"white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden","max-width":"32ch"}},p2=["href"],y2=Fe({__name:"Settings",setup(t){const e=Ue(),n=Qa(),s=A(()=>{let l=e.pageSettings.viewport.offsetLeft;return e.mode==="gantt"?l+(e.ganttSidebarTempWidth?e.ganttSidebarTempWidth:e.ganttSidebarWidth):l}),i=async(l,c)=>{if(!navigator.clipboard)return alert("Clipboard not available :/");try{await navigator.clipboard.writeText(l),alert(`Copied ${c}to clipboard.`)}catch(u){console.error(u),alert("Unable to copy to clipboard:"+u)}},r=async()=>i(n.timelineLink,"link "),o=async()=>i(n.embedLink,"embed code "),a=()=>e.goToNow();return(l,c)=>(te(),pe("div",{class:"fixed hover:text-zinc-700 dark:text-zinc-400 text-zinc-500 dark:hover:text-zinc-300",style:tt(`left: ${s.value}px; bottom: 0rem; right: 0;`)},[q("div",r2,[q("div",o2,[q("div",a2,[q("div",l2,[xe(QA)]),q("div",c2,[xe(Vn,{class:"gap-1",onClick:a},{default:At(()=>c[0]||(c[0]=[q("svg",{class:"h-4 w-4",focusable:"false","aria-hidden":"true",viewBox:"0 0 24 24","data-testid":"ModeStandbyIcon",fill:"currentColor",stroke:"currentColor","stroke-width":"0.4"},[q("path",{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3-8c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3z"})],-1),q("span",{class:"text-xs mt-px"},"Now",-1)])),_:1}),xe(i2),xe(ZA)]),q("div",u2,[xe(GA)]),q("div",f2,[xe(t2),xe(n2)]),q("div",h2,[xe(JA),xe(XA),xe(e2)]),q("div",d2,[Y(n).showCopyLinkButton?(te(),mt(Vn,{key:0,"hover-hint-left":-1,onClick:r},{hoverHint:At(()=>c[1]||(c[1]=[q("div",{class:"flex flex-col items-start"},[q("span",null,"Copy view link"),q("span",null,"Timeline text is encoded in link - not uploaded")],-1)])),default:At(()=>[c[2]||(c[2]=q("svg",{class:"w-3 h-3 mr-1","aria-hidden":"true",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[q("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"})],-1)),q("p",m2,Vt(Y(n).timelineLink.substring(8)),1)]),_:1})):nt("",!0),Y(n).showEmbedButton?(te(),mt(Vn,{key:1,onClick:o,"hover-hint-left":1,"hover-hint-title":"Copy embed code"},{default:At(()=>c[3]||(c[3]=[q("svg",{class:"h-4 w-4",focusable:"false","aria-hidden":"true",viewBox:"0 0 24 24","data-testid":"CodeIcon",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[q("path",{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"})],-1)])),_:1})):nt("",!0),Y(n).showEditButton?(te(),pe("a",{key:2,href:Y(n).editorLink,target:"_blank",class:"h-6 flex flex-row items-center rounded hover:bg-zinc-200 transition dark:border-gray-900 dark:hover:bg-gray-900 dark:hover:text-gray-100 px-1 text-sm lg:text-base font-bold relative"},c[4]||(c[4]=[q("svg",{class:"h-4 w-4 md:mr-1",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",fill:"currentColor"},[q("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})],-1),q("span",{class:"hidden md:block"},"Open editor",-1)]),8,p2)):nt("",!0)])])])])],4))}}),g2=Fe({__name:"NowLine",setup(t){const e=Ue(),n=el(),s=he(H.now()),i=()=>{s.value=H.now(),setTimeout(()=>i(),1e3*6)};ri(()=>{i()});const r=A(()=>Math.min(Math.max(0,e.distanceFromBaselineLeftmostDate(s.value)),e.pageSettings.viewport.width*6));return(o,a)=>Y(e).hideNowLine?nt("",!0):(te(),pe("div",{key:0,class:"absolute dark:bg-zinc-400 bg-blue-300 top-0 bottom-0",style:tt(`width: 1px; left: ${r.value}px; height: max(${Y(n).viewHeight}, 100%);`)},null,4))}}),v2=t=>{let e={time:0,x:0,y:0},n;const s=Ue();let i=0,r=0,o=0;const a=c=>{const u=h=>{const d=o-h.clientY,y=d<0?(d-10)/-10:10/(d+10);s.setPageScale(Math.max(i*y,.01)),t(),h.stopPropagation(),h.stopImmediatePropagation(),h.preventDefault()};function f(){console.log("pointer up"),c.removeEventListener("pointermove",u),c.removeEventListener("pointerup",f)}c.addEventListener("pointermove",u),c.addEventListener("pointerup",f)};return c=>{if(c.pointerType==="touch"){const u=new Date().getTime(),f=u-e.time;if(f<500&&f>0&&Math.abs(c.clientX-e.x)<10&&Math.abs(c.clientY-e.y)<10){c.preventDefault(),r=c.clientX,o=c.clientY,i=s.pageScale;const h=c.target,d=s.dateFromClientLeft(r),y=s.distanceBetweenDates(d,s.referenceDate);s.referenceDate=d,h.scrollLeft=h.scrollLeft+y,a(h)}else n=setTimeout(()=>{clearTimeout(n)},500),e={time:u,x:c.clientX,y:c.clientY}}}},w2=Fe({__name:"Timeline",setup(t){const e=Ue(),n=Qa();n.onJumpToRange=_=>{h(Kt(_))},ht(()=>e.rangeToJumpTo,_=>h(_,!1)),n.onJumpToPath=_=>{const C=OA(_).value;if(!C)return;const I=yn(C)?C.dateRangeIso:Ir(C,Ki);if(I&&(h("fromDateTimeIso"in I?Kt(I):I),s.value&&_)){const M=s.value.scrollTop=Zw(_).top.value;s.value.scrollTop=M-y.value.height/2}},ht(()=>e.autoCenterSemaphore,()=>{m()});const s=he(),i=()=>s.value?{left:s.value.scrollLeft,width:s.value.clientWidth,top:s.value.scrollTop,height:s.value.clientHeight,offsetLeft:s.value.offsetLeft}:{left:0,width:0,top:0,height:0,offsetLeft:0},r=_=>{s.value&&(s.value.scrollLeft=_.left,s.value.scrollTop=_.top)};ht(()=>e.pageSettings,_=>{const C={..._.viewport};bs(()=>r(C))});const o=he(null),a=he(null);ht(()=>e.startedWidthChange,_=>{var I;const C=((I=s.value)==null?void 0:I.scrollLeft)||0;o.value=_?C??null:null,a.value=e.pageSettings.scale}),ht(()=>e.pageSettings,_=>{!e.startedWidthChange||!s.value||(o.value+s.value.clientWidth/2,_.scale/(a.value||1))},{deep:!0}),ht([()=>e.pageTimelineMetadata.earliestTime,()=>e.pageTimelineMetadata.latestTime],()=>{bs(l)}),kA(s,TA(_=>{const C=(_[0].target.clientLeft||0)+(_[0].target.clientWidth/2||0);e.referenceDate=e.dateFromClientLeft(C),s.value.scrollLeft=s.value.clientWidth*2,bs(l)},250,{}));const l=()=>e.setViewport(i()),{trigger:c}=DA(s);let u=()=>{};_A(s,()=>{l()});const f=(_,C=!1,I=!1)=>{e.referenceDate=_,s.value.scrollLeft=s.value.clientWidth*2},h=(_,C=!0)=>{if(!_)return;const{width:I}=i(),M=zw(I,_)/(C?3:1);e.setPageScale(M),bs(()=>{f(Fw(_),!0,!0),l()})},d=()=>f(H.now(),!0);ht([()=>e.hideNowLine,()=>e.goToNowSemaphore],()=>d());const y=A(()=>e.pageSettings.viewport);Tg(()=>{var C;const _={left:y.value.left,top:y.value.top,width:y.value.width,height:y.value.height,offsetLeft:((C=s.value)==null?void 0:C.offsetLeft)||0};bs(()=>r(_))});const m=()=>h(e.pageRange);ri(()=>{e.setViewportGetter(i);const _=s.value;_.scrollLeft=_.clientWidth*2,u=()=>{const C=_.scrollLeft,I={[sn]:_.clientWidth*1.5/e.pageScale*24};C<_.clientWidth/2?(e.referenceDate=e.referenceDate.minus(I),_.scrollLeft=_.clientWidth*2):C>_.clientWidth*3.5&&(e.referenceDate=e.referenceDate.plus(I),_.scrollLeft=_.clientWidth*2),l(),c()}});const p=he(),g=he(),w=he(),T=A(()=>{const _=Ir(e.transformedEvents,Ki)||{fromDateTime:H.now(),toDateTime:H.now()};return e.scalelessDistanceBetweenDates(_.fromDateTime,_.toDateTime)});n.onGetSvg=_=>(p.value={diffScale:"hours",showViewport:!1,..._},new Promise((C,I)=>{setTimeout(()=>{var M;if((M=g.value)!=null&&M.firstChild){const x=w.value.getRightmostX(),R=T.value,W=x/R,N=new XMLSerializer().serializeToString(g.value.firstChild);C({svg:N,ratio:W})}C(null)},500)}));const k=v2(l);return(_,C)=>(te(),pe("div",{class:jt(["flex flex-row w-full h-full",Y(e).darkMode?"dark":""])},[q("div",{id:"timeline",class:"relative overflow-auto w-full dark:text-white text-gray-900 bg-white dark:bg-zinc-800 noScrollBar",ref_key:"timelineElement",ref:s,onScroll:C[0]||(C[0]=(...I)=>Y(u)&&Y(u)(...I)),"on:gestureChange":C[1]||(C[1]=(...I)=>Y(u)&&Y(u)(...I)),onPointerdown:C[2]||(C[2]=(...I)=>Y(k)&&Y(k)(...I))},[xe(aC),xe(g2),nt("",!0),xe(dA),xe(y2),q("div",{ref_key:"svgHolder",ref:g,style:{width:"0",height:"0"}},[p.value?(te(),mt(YA,ji({key:0},p.value,{ref_key:"svgView",ref:w}),null,16)):nt("",!0)],512)],544)],2))}}),i1=Fe({__name:"App",setup(t){const e=Qa();return(n,s)=>Y(e).markwhen?(te(),mt(w2,{key:0})):nt("",!0)}}),b2=jx({history:Tx(),routes:[{path:"/:user?/:timeline(.*)?",name:"home",component:i1}]}),gd=KT(i1),T2=JT();gd.use(b2);gd.use(T2);gd.mount("#app");

</script>
    <style>
.timeMarkerShader{z-index:-1;background:linear-gradient(to bottom,#fff,85%,#fff0)}.dark .timeMarkerShader{background:linear-gradient(to bottom,#334155,85%,#38404700)}.eventBar[data-v-7e5263da]{grid-row:1;grid-column:1}.fade-enter-active[data-v-39c803d6],.fade-leave-active[data-v-39c803d6]{transition:opacity .2s cubic-bezier(.4,0,.2,1)}.fade-enter-from[data-v-39c803d6],.fade-leave-to[data-v-39c803d6]{opacity:0}.photoBar[data-v-633ec2f2]{width:10px}.eventRow[data-v-633ec2f2]{padding-top:2px;padding-bottom:2px}.eventDate[data-v-633ec2f2]{font-family:system-ui;margin:0 0 0 8px}.source[data-v-633ec2f2]{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}.eventTitle[data-v-633ec2f2]{font-family:system-ui;grid-row:1;grid-column:3}.eventBarAndTitle[data-v-633ec2f2]{grid-row:1;grid-column:1 / 4}.eventDate[data-v-633ec2f2]{grid-row:1;grid-column:2}.eventMeta[data-v-633ec2f2]{grid-row:2;grid-column:3 / -1}.eventItem[data-v-633ec2f2]{display:grid;grid-template-columns:repeat(4,auto);grid-template-rows:repeat(2,auto)}.eventTitle[data-v-a5548532]{font-family:system-ui}td[data-v-2d239466]{padding-left:.25rem;padding-right:.25rem}.hintRight.v-enter-active[data-v-dd7c9a39],.hintRight.v-leave-active[data-v-dd7c9a39]{transition:opacity .15s ease-in-out,transform .15s ease-in-out;transform:translate(100%)!important}.hintRight.v-enter-from[data-v-dd7c9a39],.hintRight.v-leave-to[data-v-dd7c9a39]{transition:opacity .15s ease-in-out,transform .15s ease-in-out;opacity:0;transform:translate(calc(100% + 4px))!important}.hintTop.v-enter-active[data-v-dd7c9a39],.hintTop.v-leave-active[data-v-dd7c9a39]{transition:opacity .15s ease-in-out,transform .15s ease-in-out;transform:translateY(-100%)!important}.hintTop.v-enter-from[data-v-dd7c9a39],.hintTop.v-leave-to[data-v-dd7c9a39]{transition:opacity .15s ease-in-out,transform .15s ease-in-out;opacity:0;transform:translateY(calc(-100% + 4px))!important}input[type=range][data-v-8aa586c7]{-webkit-appearance:none}input[type=range][data-v-8aa586c7]:hover::-webkit-slider-runnable-track{background:currentColor;-webkit-transition:.15s all;transition:.15s all;border-radius:5px;height:4px}input[type=range][data-v-8aa586c7]:focus{outline:none}input[type=range][data-v-8aa586c7]::-webkit-slider-runnable-track{background:currentColor;-webkit-transition:.15s all;transition:.15s all;height:4px;border-radius:5px}input[type=range][data-v-8aa586c7]::-moz-range-track{background:currentColor;-moz-transition:.15s all;transition:.15s all;height:4px;border-radius:5px}input[type=range][data-v-8aa586c7]::-webkit-slider-thumb{-webkit-appearance:none;height:12px;width:12px;background:currentColor;margin-top:-4px;border-radius:50%;box-shadow:0 1px 6px #00000063}input[type=range][data-v-8aa586c7]::-moz-range-thumb{height:15px;width:15px;background:currentColor;margin-top:-5px;border-radius:50%;box-shadow:0 1px 6px #00000063;border:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.\!visible{visibility:visible!important}.visible{visibility:visible}.collapse{visibility:collapse}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.-bottom-\[2px\]{bottom:-2px}.-left-\[2px\]{left:-2px}.-right-2{right:-.5rem}.-top-1{top:-.25rem}.bottom-0{bottom:0}.left-0{left:0}.left-2{left:.5rem}.right-0{right:0}.right-8{right:2rem}.top-0{top:0}.top-8{top:2rem}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-40{z-index:40}.z-50{z-index:50}.z-\[2\]{z-index:2}.z-\[4\]{z-index:4}.z-\[5\]{z-index:5}.-m-px{margin:-1px}.-mx-2{margin-left:-.5rem;margin-right:-.5rem}.mb-2{margin-bottom:.5rem}.ml-0{margin-left:0}.ml-1{margin-left:.25rem}.ml-2{margin-left:.5rem}.ml-auto{margin-left:auto}.ml-px{margin-left:1px}.mr-1{margin-right:.25rem}.mr-2{margin-right:.5rem}.mr-8{margin-right:2rem}.mr-\[2px\]{margin-right:2px}.mt-px{margin-top:1px}.block{display:block}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.grid{display:grid}.hidden{display:none}.aspect-square{aspect-ratio:1 / 1}.h-1\/2{height:50%}.h-2{height:.5rem}.h-3{height:.75rem}.h-4{height:1rem}.h-6{height:1.5rem}.h-\[10px\]{height:10px}.h-\[30px\]{height:30px}.h-full{height:100%}.w-1{width:.25rem}.w-2{width:.5rem}.w-3{width:.75rem}.w-4{width:1rem}.w-\[2px\]{width:2px}.w-full{width:100%}.w-px{width:1px}.flex-shrink{flex-shrink:1}.flex-shrink-0,.shrink-0{flex-shrink:0}.flex-grow{flex-grow:1}.translate-x-2\/4{--tw-translate-x: 50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-y-2\/4{--tw-translate-y: 50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-45{--tw-rotate: 45deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-crosshair{cursor:crosshair}.cursor-default{cursor:default}.cursor-ew-resize{cursor:ew-resize}.cursor-pointer{cursor:pointer}.touch-none{touch-action:none}.list-inside{list-style-position:inside}.list-disc{list-style-type:disc}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.items-start{align-items:flex-start}.items-center{align-items:center}.justify-center{justify-content:center}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.overflow-auto{overflow:auto}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-scroll{overflow-x:scroll}.whitespace-nowrap{white-space:nowrap}.rounded{border-radius:.25rem}.rounded-\[14px\]{border-radius:14px}.rounded-full{border-radius:9999px}.rounded-sm{border-radius:.125rem}.border{border-width:1px}.border-b{border-bottom-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-t{border-top-width:1px}.border-black{--tw-border-opacity: 1;border-color:rgb(0 0 0 / var(--tw-border-opacity))}.border-gray-300{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity))}.border-gray-400\/25{border-color:#9ca3af40}.border-gray-500\/50{border-color:#6b728080}.border-gray-600{--tw-border-opacity: 1;border-color:rgb(75 85 99 / var(--tw-border-opacity))}.border-gray-800{--tw-border-opacity: 1;border-color:rgb(31 41 55 / var(--tw-border-opacity))}.border-indigo-500{--tw-border-opacity: 1;border-color:rgb(99 102 241 / var(--tw-border-opacity))}.border-indigo-500\/50{border-color:#6366f180}.border-indigo-500\/75{border-color:#6366f1bf}.border-indigo-600{--tw-border-opacity: 1;border-color:rgb(79 70 229 / var(--tw-border-opacity))}.border-inherit{border-color:inherit}.border-transparent{border-color:transparent}.border-white{--tw-border-opacity: 1;border-color:rgb(255 255 255 / var(--tw-border-opacity))}.border-zinc-100{--tw-border-opacity: 1;border-color:rgb(244 244 245 / var(--tw-border-opacity))}.border-zinc-200{--tw-border-opacity: 1;border-color:rgb(228 228 231 / var(--tw-border-opacity))}.border-zinc-500{--tw-border-opacity: 1;border-color:rgb(113 113 122 / var(--tw-border-opacity))}.border-zinc-600{--tw-border-opacity: 1;border-color:rgb(82 82 91 / var(--tw-border-opacity))}.bg-blue-300{--tw-bg-opacity: 1;background-color:rgb(147 197 253 / var(--tw-bg-opacity))}.bg-gray-300{--tw-bg-opacity: 1;background-color:rgb(209 213 219 / var(--tw-bg-opacity))}.bg-gray-300\/50{background-color:#d1d5db80}.bg-gray-400{--tw-bg-opacity: 1;background-color:rgb(156 163 175 / var(--tw-bg-opacity))}.bg-gray-500{--tw-bg-opacity: 1;background-color:rgb(107 114 128 / var(--tw-bg-opacity))}.bg-gray-600{--tw-bg-opacity: 1;background-color:rgb(75 85 99 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-indigo-600{--tw-bg-opacity: 1;background-color:rgb(79 70 229 / var(--tw-bg-opacity))}.bg-red-200{--tw-bg-opacity: 1;background-color:rgb(254 202 202 / var(--tw-bg-opacity))}.bg-red-300{--tw-bg-opacity: 1;background-color:rgb(252 165 165 / var(--tw-bg-opacity))}.bg-transparent{background-color:transparent}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-white\/95{background-color:#fffffff2}.bg-zinc-200{--tw-bg-opacity: 1;background-color:rgb(228 228 231 / var(--tw-bg-opacity))}.bg-zinc-400\/10{background-color:#a1a1aa1a}.bg-zinc-400\/25{background-color:#a1a1aa40}.bg-zinc-50{--tw-bg-opacity: 1;background-color:rgb(250 250 250 / var(--tw-bg-opacity))}.bg-zinc-700{--tw-bg-opacity: 1;background-color:rgb(63 63 70 / var(--tw-bg-opacity))}.bg-zinc-800{--tw-bg-opacity: 1;background-color:rgb(39 39 42 / var(--tw-bg-opacity))}.bg-opacity-10{--tw-bg-opacity: .1}.bg-opacity-20{--tw-bg-opacity: .2}.bg-opacity-50{--tw-bg-opacity: .5}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-\[2px\]{padding:2px}.p-px{padding:1px}.px-1{padding-left:.25rem;padding-right:.25rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-px{padding-left:1px;padding-right:1px}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-px{padding-top:1px;padding-bottom:1px}.pl-1{padding-left:.25rem}.pl-2{padding-left:.5rem}.pr-1{padding-right:.25rem}.pr-4{padding-right:1rem}.pt-16{padding-top:4rem}.pt-px{padding-top:1px}.font-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-900{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity))}.text-indigo-600{--tw-text-opacity: 1;color:rgb(79 70 229 / var(--tw-text-opacity))}.text-orange-500{--tw-text-opacity: 1;color:rgb(249 115 22 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.text-zinc-500{--tw-text-opacity: 1;color:rgb(113 113 122 / var(--tw-text-opacity))}.text-zinc-600{--tw-text-opacity: 1;color:rgb(82 82 91 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.opacity-100{opacity:1}.opacity-30{opacity:.3}.opacity-60{opacity:.6}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline{outline-style:solid}.outline-2{outline-width:2px}.outline-indigo-400{outline-color:#818cf8}.outline-indigo-600{outline-color:#4f46e5}.ring-1{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-black{--tw-ring-opacity: 1;--tw-ring-color: rgb(0 0 0 / var(--tw-ring-opacity))}.ring-indigo-500{--tw-ring-opacity: 1;--tw-ring-color: rgb(99 102 241 / var(--tw-ring-opacity))}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}:root,body,#app{width:100%;height:100%}html,body{height:100%;font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;mix-blend-mode:multiply;padding:0!important}.noScrollBar::-webkit-scrollbar{display:none}.dark{color-scheme:dark}.noScrollBar{scrollbar-width:none}button{-webkit-tap-highlight-color:transparent}.safeBottomPadding{padding-bottom:env(safe-area-inset-bottom)}.hover\:w-1:hover{width:.25rem}.hover\:border-zinc-100:hover{--tw-border-opacity: 1;border-color:rgb(244 244 245 / var(--tw-border-opacity))}.hover\:bg-indigo-600:hover{--tw-bg-opacity: 1;background-color:rgb(79 70 229 / var(--tw-bg-opacity))}.hover\:bg-zinc-200:hover{--tw-bg-opacity: 1;background-color:rgb(228 228 231 / var(--tw-bg-opacity))}.hover\:bg-zinc-50:hover{--tw-bg-opacity: 1;background-color:rgb(250 250 250 / var(--tw-bg-opacity))}.hover\:text-black:hover{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.hover\:text-zinc-700:hover{--tw-text-opacity: 1;color:rgb(63 63 70 / var(--tw-text-opacity))}.hover\:shadow:hover{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.hover\:transition:hover{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.disabled\:text-gray-300:disabled{--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity))}.dark\:border-gray-300:is(.dark *){--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity))}.dark\:border-gray-400:is(.dark *){--tw-border-opacity: 1;border-color:rgb(156 163 175 / var(--tw-border-opacity))}.dark\:border-gray-400\/25:is(.dark *){border-color:#9ca3af40}.dark\:border-gray-600:is(.dark *){--tw-border-opacity: 1;border-color:rgb(75 85 99 / var(--tw-border-opacity))}.dark\:border-gray-900:is(.dark *){--tw-border-opacity: 1;border-color:rgb(17 24 39 / var(--tw-border-opacity))}.dark\:border-gray-900\/25:is(.dark *){border-color:#11182740}.dark\:border-indigo-600:is(.dark *){--tw-border-opacity: 1;border-color:rgb(79 70 229 / var(--tw-border-opacity))}.dark\:border-zinc-400:is(.dark *){--tw-border-opacity: 1;border-color:rgb(161 161 170 / var(--tw-border-opacity))}.dark\:border-zinc-500:is(.dark *){--tw-border-opacity: 1;border-color:rgb(113 113 122 / var(--tw-border-opacity))}.dark\:border-zinc-600:is(.dark *){--tw-border-opacity: 1;border-color:rgb(82 82 91 / var(--tw-border-opacity))}.dark\:border-zinc-700:is(.dark *){--tw-border-opacity: 1;border-color:rgb(63 63 70 / var(--tw-border-opacity))}.dark\:bg-gray-300:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(209 213 219 / var(--tw-bg-opacity))}.dark\:bg-gray-300\/10:is(.dark *){background-color:#d1d5db1a}.dark\:bg-gray-400:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(156 163 175 / var(--tw-bg-opacity))}.dark\:bg-gray-600:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(75 85 99 / var(--tw-bg-opacity))}.dark\:bg-gray-800:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}.dark\:bg-gray-900:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.dark\:bg-red-400:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(248 113 113 / var(--tw-bg-opacity))}.dark\:bg-red-700:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(185 28 28 / var(--tw-bg-opacity))}.dark\:bg-zinc-400:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(161 161 170 / var(--tw-bg-opacity))}.dark\:bg-zinc-400\/10:is(.dark *){background-color:#a1a1aa1a}.dark\:bg-zinc-600:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(82 82 91 / var(--tw-bg-opacity))}.dark\:bg-zinc-800:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(39 39 42 / var(--tw-bg-opacity))}.dark\:bg-zinc-800\/95:is(.dark *){background-color:#27272af2}.dark\:bg-zinc-900:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(24 24 27 / var(--tw-bg-opacity))}.dark\:bg-opacity-20:is(.dark *){--tw-bg-opacity: .2}.dark\:bg-opacity-30:is(.dark *){--tw-bg-opacity: .3}.dark\:bg-opacity-60:is(.dark *){--tw-bg-opacity: .6}.dark\:text-gray-300:is(.dark *){--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity))}.dark\:text-gray-400:is(.dark *){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.dark\:text-indigo-400:is(.dark *){--tw-text-opacity: 1;color:rgb(129 140 248 / var(--tw-text-opacity))}.dark\:text-orange-300:is(.dark *){--tw-text-opacity: 1;color:rgb(253 186 116 / var(--tw-text-opacity))}.dark\:text-white:is(.dark *){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.dark\:text-zinc-100:is(.dark *){--tw-text-opacity: 1;color:rgb(244 244 245 / var(--tw-text-opacity))}.dark\:text-zinc-400:is(.dark *){--tw-text-opacity: 1;color:rgb(161 161 170 / var(--tw-text-opacity))}.dark\:outline-indigo-400:is(.dark *){outline-color:#818cf8}.dark\:ring-gray-400:is(.dark *){--tw-ring-opacity: 1;--tw-ring-color: rgb(156 163 175 / var(--tw-ring-opacity))}.dark\:ring-indigo-600:is(.dark *){--tw-ring-opacity: 1;--tw-ring-color: rgb(79 70 229 / var(--tw-ring-opacity))}.dark\:hover\:border-gray-600:hover:is(.dark *){--tw-border-opacity: 1;border-color:rgb(75 85 99 / var(--tw-border-opacity))}.dark\:hover\:bg-gray-900:hover:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.dark\:hover\:bg-indigo-600:hover:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(79 70 229 / var(--tw-bg-opacity))}.dark\:hover\:bg-zinc-600:hover:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(82 82 91 / var(--tw-bg-opacity))}.dark\:hover\:bg-zinc-700:hover:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(63 63 70 / var(--tw-bg-opacity))}.dark\:hover\:text-gray-100:hover:is(.dark *){--tw-text-opacity: 1;color:rgb(243 244 246 / var(--tw-text-opacity))}.dark\:hover\:text-zinc-100:hover:is(.dark *){--tw-text-opacity: 1;color:rgb(244 244 245 / var(--tw-text-opacity))}.dark\:hover\:text-zinc-300:hover:is(.dark *){--tw-text-opacity: 1;color:rgb(212 212 216 / var(--tw-text-opacity))}.disabled\:dark\:text-gray-600:is(.dark *):disabled{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity))}@media (min-width: 768px){.md\:mr-1{margin-right:.25rem}.md\:block{display:block}}@media (min-width: 1024px){.lg\:flex{display:flex}.lg\:text-base{font-size:1rem;line-height:1.5rem}}

</style>
  </head>
  <body>
    <div id="app"></div>
  </body>
</html>
